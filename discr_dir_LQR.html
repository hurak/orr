<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.43">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Finite-horizon LQR as a QP – B(E)3M35ORR – Optimal and Robust Control</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./discr_dir_mpc.html" rel="next">
<link href="./discr_dir_general.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-d4d76bf8491c20bad77d141916dc28e1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-50b4abff8b0f30bb501ab99a3cda6e79.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">B(E)3M35ORR – Optimal and Robust Control</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">0. Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is optimal and robust control?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_outline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course outline</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rules of the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literature for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_similar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Similar courses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">1. Optimization – theory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_reformulations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem reformulations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_modellers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization modelling languages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">2. Optimization – algorithms</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Computing the derivatives</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_solvers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">3. Discrete-time optimal control – direct approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as an NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_LQR.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Finite-horizon LQR as a QP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model predictive control (MPC)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers for MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">4. Discrete-time optimal control – indirect approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as a TP-BVP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on a finite horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on an infinite horizon using the DARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_tracking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reference tracking using LQR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_DARE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time algebraic Riccati equation (DARE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for discrete-time LQR and DARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">5. Discrete-time optimal control – dynamic programming (DP)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DP and discrete-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular outcomes of DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR via DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_LQT.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQ tracking via DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">6. More on MPC</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_stability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stability of MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_recursive_feasibility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recursive feasibility</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_economic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Economic MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_explicit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explicit MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">7. Continuous-time optimal control - indirect approach via calculus of variations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview of continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculus of variations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_via_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as a TP-BVP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR on a finite time horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR on an infinite time horizon using the CARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On notation for Hamiltonians and variations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_trajectory_stabilization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trajectory stabilization and neigboring extremals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for continuous-time LQR and CARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">8. Continuous-time optimal control - indirect approach via Pontryagin’s maximum principle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_Pontryagin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pontryagin’s maximum (or minimum) principle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_free_final_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimal control with a free final time</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_time_optimal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">9. Numerical methods for continuous-time optimal control - both indirect and direct approaches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_indirect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for indirect approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_direct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for direct approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">9.X. Continuous-time optimal control – dynamic programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_HJB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dynamic programming for continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using HJB equation to solve the continuous-time LQR problem</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">10. Some extensions: LQG, LTR, H2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_stochastic_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR for stochastic systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LQG.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQG control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LTR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loop transfer recovery (LTR)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_H2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true">
 <span class="menu-text">11. Uncertainty modelling and robustness analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Uncertainty (in) modelling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_unstructured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for unstructured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_structured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for structured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true">
 <span class="menu-text">12. Robust control</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mixed_sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed sensitivity design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_H_infinity_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Hinfinity-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mu_synthesis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mu synthesis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true">
 <span class="menu-text">13. Limitations of achievable performance</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_SISO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for SISO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_MIMO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for MIMO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true">
 <span class="menu-text">14. Model and controller order reduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_controller.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Controller order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_benchmarks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Benchmarks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#simultaneous-sparse-formulation" id="toc-simultaneous-sparse-formulation" class="nav-link active" data-scroll-target="#simultaneous-sparse-formulation">Simultaneous (sparse) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-constraints-on-controls-and-states" id="toc-adding-constraints-on-controls-and-states" class="nav-link" data-scroll-target="#adding-constraints-on-controls-and-states">Adding constraints on controls and states</a></li>
  </ul></li>
  <li><a href="#sequential-dense-formulation" id="toc-sequential-dense-formulation" class="nav-link" data-scroll-target="#sequential-dense-formulation">Sequential (dense) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-the-constraints-on-controls" id="toc-adding-the-constraints-on-controls" class="nav-link" data-scroll-target="#adding-the-constraints-on-controls">Adding the constraints on controls</a></li>
  <li><a href="#adding-the-constraints-on-states" id="toc-adding-the-constraints-on-states" class="nav-link" data-scroll-target="#adding-the-constraints-on-states">Adding the constraints on states</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Finite-horizon LQR as a QP</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/1MHV-L4--lI?si=6Orm_cGxmTAX_myT" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Here we specialize the general procedure from the previous section to the case of a <strong>L</strong>inear system and a <strong>Q</strong>uadratic cost. We start by considering a simple problem of <strong>R</strong>egulation, wherein the goal is to bring the system either exactly or approximately to zero final state, that is, <span class="math inline">\mathbf x^\text{ref}=\mathbf 0</span> and we want <span class="math inline">\bm x_N=\mathbf x^\text{ref}</span> or <span class="math inline">\bm x_N\approx\mathbf x^\text{ref}</span>, respectively. The problem is known as the <strong>LQR</strong> problem. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bm u_0,\ldots, \bm u_{N-1}, \bm x_{0},\ldots, \bm x_N} &amp;\quad  \frac{1}{2} \bm x_N^\top \mathbf S \bm x_N + \frac{1}{2} \sum_{k=0}^{N-1} \left(\bm x_k^\top \mathbf Q \bm x_k + \bm u_k^\top \mathbf R \bm u_k \right)\\
\text{subject to}   &amp;\quad \bm x_{k+1} = \mathbf A\bm x_k + \mathbf B\bm u_k,\quad k = 0, \ldots, N-1, \\
                    &amp;\quad \bm x_0 = \mathbf x_0,\\
                    &amp;\quad \bm x_N = \mathbf 0\;  (\text{or}\, \bm x_N \approx \mathbf 0).
\end{aligned}
</span></p>
<p>Referring to the two options for the last constraint,</p>
<ul>
<li>if the condition <span class="math inline">\bm x_N=\mathbf 0</span> on the final state is strictly enforced, the terminal state cost (the term <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> in the cost function) is redundant and can be removed;</li>
<li>if the final state condition can be relaxed to <span class="math inline">\bm x_N\approx\mathbf 0</span>, it is by increasing the weight <span class="math inline">\mathbf S</span> in the terminal cost function <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> that <span class="math inline">\bm x_N</span> can be made arbitrarily close to <span class="math inline">\mathbf 0</span>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is a standard dilemma in optimization, not only in optimal control, that if we want to satisfy some requirement, we can either strictly enforce it through constraints or we can seemingly relax it and set a cost to be paid for not satysfying it.</p>
</div>
</div>
<section id="simultaneous-sparse-formulation" class="level2">
<h2 class="anchored" data-anchor-id="simultaneous-sparse-formulation">Simultaneous (sparse) formulation</h2>
<p>Below we rewrite the latter problem, that is, <span class="math inline">\bm x_N\approx\mathbf 0</span>, in the “unrolled” form, where we stack the state and control variables into “long” vectors <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span>. Doing the same for the former is straightforward. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u},\bar{\bm x}} &amp; \frac{1}{2}\left(\begin{bmatrix} \bm x_1^\top &amp; \bm x_2^\top &amp; \ldots &amp; \bm x_N^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf Q &amp; &amp; &amp; \\ &amp; \mathbf Q &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf S \end{bmatrix}}_{\overline{\mathbf Q}}
\underbrace{\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \vdots \\ \bm x_N \end{bmatrix}}_{\bar{\bm x}}\right.\\
&amp;\qquad +\left.
\begin{bmatrix} \bm u_0^\top &amp; \bm u_1^\top &amp; \ldots &amp; \bm u_{N-1}^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf R &amp; &amp; &amp; \\ &amp; \mathbf R &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf R \end{bmatrix}}_{\overline{\mathbf R}}
\underbrace{\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1} \end{bmatrix}}_{\bar{\bm u}}\right)
+ \underbrace{\frac{1}{2}\mathbf x_0^\top \mathbf Q \mathbf x_0}_{\mathrm{constant}}
\end{aligned}
</span> subject to <span class="math display">
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} = \underbrace{\begin{bmatrix}\mathbf 0 &amp; &amp; &amp; &amp;\\\mathbf A &amp; \mathbf 0 &amp; &amp; &amp;\\ &amp;\mathbf A &amp;\mathbf 0 &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; \mathbf 0 \end{bmatrix}}_{\overline{\mathbf A}}
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \bm u_2\\\vdots \\ \bm u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0,    
</span></p>
<p>in which we have already substituted the particular <span class="math inline">\mathbf x_0</span> for the variable <span class="math inline">\bm x_0</span>. Consequently, the last term in the cost function can be discarded because it is constant.</p>
<p>The terms with the <span class="math inline">\bar{\bm x}</span> vector can be combined and we get <span id="eq-linear_system_linear_constraints_matrix_format"><span class="math display">
\begin{bmatrix} \mathbf 0 \\ \mathbf 0 \\ \mathbf 0\\ \vdots \\ \mathbf 0 \end{bmatrix} = \underbrace{\begin{bmatrix}-\mathbf I &amp; &amp; &amp; &amp;\\\mathbf A &amp; -\mathbf I &amp; &amp; &amp;\\ &amp;\mathbf A &amp;-\mathbf I &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; -\mathbf I \end{bmatrix}}_{\overline{\mathbf A} - \mathbf I}
\begin{bmatrix} \mathbf x_1 \\ \mathbf x_2 \\ \mathbf x_3\\ \vdots \\ \mathbf x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \mathbf u_0 \\ \mathbf u_1 \\ \mathbf u_2\\\vdots \\ \mathbf u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0.
\tag{1}</span></span></p>
<p>Upon stacking the two “long” vectors into <span class="math inline">\bar{\bm z}</span> we reformulate the optimization problem as <span class="math display">
\operatorname*{minimize}_{\widetilde{\mathbf z}\in\mathbb{R}^{2N}}\quad \frac{1}{2}\underbrace{\begin{bmatrix}\bar{\bm x}^\top &amp;\bar{\bm u}^\top\end{bmatrix}}_{\bar{\bm z}^\top} \underbrace{\begin{bmatrix}\overline{\mathbf Q} &amp; \\ &amp; \overline{\mathbf R} \end{bmatrix}}_{\widetilde{\mathbf Q}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}}
</span> subject to <span class="math display">
\mathbf 0 = \underbrace{\begin{bmatrix}(\overline{\mathbf A}-\mathbf I) &amp; \overline{\mathbf B}\end{bmatrix}}_{\widetilde{\mathbf A}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}} + \underbrace{\overline{\mathbf A}_0 \mathbf x_0}_{\tilde{\mathbf b}}.
</span></p>
<p>To summarize, we have reformulated the optimal control problem as a linearly constrained quadratic program <span class="math display">
\boxed{
\begin{aligned}
\underset{\bar{\bm z}\in\mathbb{R}^{2N}}{\text{minimize}} &amp;\quad \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z}\\
\text{subject to} &amp;\quad \widetilde{\mathbf A} \bar{\bm z} + \tilde{\bm b} = \mathbf 0.
\end{aligned}}
</span></p>
<p>This constrained optimization problem can still be solved without invoking a numerical solver for solving quadratic programs (QP). We do it by introducing a vector <span class="math inline">\boldsymbol\lambda</span> of Lagrange multipliers to form the Lagrangian function <span class="math display">
\mathcal{L}(\bar{\bm z}, \boldsymbol \lambda) = \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z} + \boldsymbol\lambda^\top(\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}),
</span> for which the gradients with respect to <span class="math inline">\bar{\bm z}</span> and <span class="math inline">\boldsymbol\lambda</span> are <span class="math display">
\begin{aligned}
\nabla_{\tilde{\bm{z}}} \mathcal{L}(\bar{\bm z}, \boldsymbol\lambda) &amp;= \widetilde{\mathbf Q}\bar{\bm z} + \tilde{\mathbf A}^\top\boldsymbol\lambda,\\
\nabla_{\boldsymbol{\lambda}} \mathcal{L}(\tilde{\bm x}, \boldsymbol\lambda) &amp;=\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}.
\end{aligned}
</span></p>
<p>Requiring that the overall gradient vanishes leads to the following KKT set of linear equations <span class="math display">
\begin{bmatrix}
  \widetilde{\mathbf Q} &amp; \widetilde{\mathbf A}^\top\\ \widetilde{\mathbf A} &amp; \mathbf 0
\end{bmatrix}
\begin{bmatrix}
\bar{\bm z}\\\boldsymbol\lambda
\end{bmatrix}
=
\begin{bmatrix}
\mathbf 0\\ -\tilde{\mathbf b}
\end{bmatrix}.
</span></p>
<p>Solving this could be accomplished by using some general solver for linear systems or by using some more tailored solver for symmetric indefinite systems (based on <a href="https://en.wikipedia.org/wiki/Cholesky_decomposition#LDL_decomposition">LDL factorization</a>).</p>
<div id="exm-direct-simultaneous" class="theorem example">
<p><span class="theorem-title"><strong>Example 1 (Reformulating the unconstrained LQR problem as a system of linear equations – simultaneous approach)</strong></span> &nbsp;</p>
<div id="2" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearSolve</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">QDLDL</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    Q̃ <span class="op">=</span> <span class="fu">blockdiag</span>(<span class="fu">sparse</span>(Q̄),<span class="fu">sparse</span>(R̄))              <span class="co"># The matrix defining the quadratic cost.</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    B̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        B̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> B</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    Ā <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">sparse</span>(<span class="op">-</span><span class="fl">1.0</span><span class="op">*</span>I,n<span class="op">*</span>N,n<span class="op">*</span>N),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">2</span><span class="op">:</span>N</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        Ā[<span class="fu">Block</span>(i,(i<span class="op">-</span><span class="fl">1</span>))] <span class="op">=</span> A</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    Ã <span class="op">=</span> <span class="fu">sparse</span>([Ā B̄])                               <span class="co"># The matrix defining the linear (affine) equation.</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    Ā₀ <span class="op">=</span> <span class="fu">spzeros</span>(n<span class="op">*</span>N,n)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    Ā₀[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>n] <span class="op">=</span> A</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    b̃ <span class="op">=</span> <span class="fu">Ā₀*sparse</span>(x₀)                               <span class="co"># The constant offset for the linear (affine) equation.</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    K <span class="op">=</span> [Q̃ Ã<span class="ch">'; Ã spzeros(size(Ã,1),size(Ã,1))]      # Sparse KKT matrix.</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    k <span class="op">=</span> [<span class="fu">spzeros</span>(<span class="fu">size</span>(Q̃,<span class="fl">1</span>)); <span class="op">-</span>b̃]                    <span class="co"># Right hand side of the KKT system</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">LinearProblem</span>(K,k)                       <span class="co"># The KKT system as a linear problem.</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    z̃λ <span class="op">=</span> LinearSolve.<span class="fu">solve</span>(prob)                    <span class="co"># Solving the KKT system. Ready for trying various solvers.</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[<span class="fl">1</span><span class="op">:</span>(n<span class="op">*</span>N)],(n,<span class="op">:</span>))</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[(n<span class="op">*</span>N<span class="op">+</span><span class="fl">1</span>)<span class="op">:</span>(n<span class="op">+</span>m)<span class="op">*</span>N],(m,<span class="op">:</span>))</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    return xopt,uopt</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip260">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip260)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip261">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip260)" d="M217.599 774.117 L2640.76 774.117 L2640.76 47.2441 L217.599 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip262">
    <rect x="217" y="47" width="2424" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="286.179,774.117 286.179,47.2441 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="794.178,774.117 794.178,47.2441 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1302.18,774.117 1302.18,47.2441 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1810.18,774.117 1810.18,47.2441 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2318.18,774.117 2318.18,47.2441 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,715.741 2640.76,715.741 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,499.754 2640.76,499.754 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,283.766 2640.76,283.766 "></polyline>
<polyline clip-path="url(#clip262)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,67.7785 2640.76,67.7785 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,774.117 286.179,755.219 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="794.178,774.117 794.178,755.219 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1302.18,774.117 1302.18,755.219 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1810.18,774.117 1810.18,755.219 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2318.18,774.117 2318.18,755.219 "></polyline>
<path clip-path="url(#clip260)" d="M286.179 807.34 Q282.568 807.34 280.739 810.904 Q278.934 814.446 278.934 821.576 Q278.934 828.682 280.739 832.247 Q282.568 835.789 286.179 835.789 Q289.813 835.789 291.619 832.247 Q293.447 828.682 293.447 821.576 Q293.447 814.446 291.619 810.904 Q289.813 807.34 286.179 807.34 M286.179 803.636 Q291.989 803.636 295.045 808.242 Q298.123 812.826 298.123 821.576 Q298.123 830.303 295.045 834.909 Q291.989 839.492 286.179 839.492 Q280.369 839.492 277.29 834.909 Q274.234 830.303 274.234 821.576 Q274.234 812.826 277.29 808.242 Q280.369 803.636 286.179 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M788.831 834.886 L805.15 834.886 L805.15 838.821 L783.206 838.821 L783.206 834.886 Q785.868 832.131 790.451 827.502 Q795.058 822.849 796.238 821.506 Q798.484 818.983 799.363 817.247 Q800.266 815.488 800.266 813.798 Q800.266 811.043 798.322 809.307 Q796.4 807.571 793.299 807.571 Q791.1 807.571 788.646 808.335 Q786.215 809.099 783.438 810.65 L783.438 805.928 Q786.262 804.793 788.715 804.215 Q791.169 803.636 793.206 803.636 Q798.576 803.636 801.771 806.321 Q804.965 809.006 804.965 813.497 Q804.965 815.627 804.155 817.548 Q803.368 819.446 801.262 822.039 Q800.683 822.71 797.581 825.928 Q794.479 829.122 788.831 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1305.19 808.335 L1293.38 826.784 L1305.19 826.784 L1305.19 808.335 M1303.96 804.261 L1309.84 804.261 L1309.84 826.784 L1314.77 826.784 L1314.77 830.673 L1309.84 830.673 L1309.84 838.821 L1305.19 838.821 L1305.19 830.673 L1289.59 830.673 L1289.59 826.159 L1303.96 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1810.58 819.678 Q1807.43 819.678 1805.58 821.83 Q1803.75 823.983 1803.75 827.733 Q1803.75 831.46 1805.58 833.636 Q1807.43 835.789 1810.58 835.789 Q1813.73 835.789 1815.56 833.636 Q1817.41 831.46 1817.41 827.733 Q1817.41 823.983 1815.56 821.83 Q1813.73 819.678 1810.58 819.678 M1819.86 805.025 L1819.86 809.284 Q1818.11 808.451 1816.3 808.011 Q1814.52 807.571 1812.76 807.571 Q1808.13 807.571 1805.67 810.696 Q1803.24 813.821 1802.9 820.141 Q1804.26 818.127 1806.32 817.062 Q1808.38 815.974 1810.86 815.974 Q1816.07 815.974 1819.08 819.145 Q1822.11 822.293 1822.11 827.733 Q1822.11 833.057 1818.96 836.275 Q1815.81 839.492 1810.58 839.492 Q1804.59 839.492 1801.42 834.909 Q1798.24 830.303 1798.24 821.576 Q1798.24 813.381 1802.13 808.52 Q1806.02 803.636 1812.57 803.636 Q1814.33 803.636 1816.11 803.983 Q1817.92 804.33 1819.86 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2318.18 822.409 Q2314.84 822.409 2312.92 824.191 Q2311.02 825.974 2311.02 829.099 Q2311.02 832.224 2312.92 834.006 Q2314.84 835.789 2318.18 835.789 Q2321.51 835.789 2323.43 834.006 Q2325.35 832.201 2325.35 829.099 Q2325.35 825.974 2323.43 824.191 Q2321.53 822.409 2318.18 822.409 M2313.5 820.418 Q2310.49 819.678 2308.8 817.617 Q2307.13 815.557 2307.13 812.594 Q2307.13 808.451 2310.07 806.043 Q2313.04 803.636 2318.18 803.636 Q2323.34 803.636 2326.28 806.043 Q2329.22 808.451 2329.22 812.594 Q2329.22 815.557 2327.53 817.617 Q2325.86 819.678 2322.88 820.418 Q2326.25 821.205 2328.13 823.497 Q2330.03 825.789 2330.03 829.099 Q2330.03 834.122 2326.95 836.807 Q2323.89 839.492 2318.18 839.492 Q2312.46 839.492 2309.38 836.807 Q2306.32 834.122 2306.32 829.099 Q2306.32 825.789 2308.22 823.497 Q2310.12 821.205 2313.5 820.418 M2311.79 813.034 Q2311.79 815.719 2313.45 817.224 Q2315.14 818.729 2318.18 818.729 Q2321.19 818.729 2322.88 817.224 Q2324.59 815.719 2324.59 813.034 Q2324.59 810.349 2322.88 808.844 Q2321.19 807.34 2318.18 807.34 Q2315.14 807.34 2313.45 808.844 Q2311.79 810.349 2311.79 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1413.36 873.776 L1419.25 873.776 L1419.25 903.026 L1436.72 887.653 L1444.2 887.653 L1425.29 904.331 L1445 923.301 L1437.36 923.301 L1419.25 905.891 L1419.25 923.301 L1413.36 923.301 L1413.36 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,774.117 217.599,47.2441 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,715.741 236.497,715.741 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,499.754 236.497,499.754 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,283.766 236.497,283.766 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,67.7785 236.497,67.7785 "></polyline>
<path clip-path="url(#clip260)" d="M116.214 716.193 L145.89 716.193 L145.89 720.128 L116.214 720.128 L116.214 716.193 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M170.149 714.387 Q173.506 715.105 175.381 717.373 Q177.279 719.642 177.279 722.975 Q177.279 728.091 173.76 730.892 Q170.242 733.693 163.76 733.693 Q161.585 733.693 159.27 733.253 Q156.978 732.836 154.524 731.98 L154.524 727.466 Q156.469 728.6 158.784 729.179 Q161.098 729.757 163.622 729.757 Q168.02 729.757 170.311 728.021 Q172.626 726.285 172.626 722.975 Q172.626 719.92 170.473 718.207 Q168.344 716.471 164.524 716.471 L160.497 716.471 L160.497 712.628 L164.71 712.628 Q168.159 712.628 169.987 711.262 Q171.816 709.873 171.816 707.281 Q171.816 704.619 169.918 703.207 Q168.043 701.772 164.524 701.772 Q162.603 701.772 160.404 702.188 Q158.205 702.605 155.566 703.484 L155.566 699.318 Q158.228 698.577 160.543 698.207 Q162.881 697.836 164.941 697.836 Q170.265 697.836 173.367 700.267 Q176.469 702.674 176.469 706.795 Q176.469 709.665 174.825 711.656 Q173.182 713.623 170.149 714.387 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M117.164 500.205 L146.839 500.205 L146.839 504.14 L117.164 504.14 L117.164 500.205 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M160.96 513.099 L177.279 513.099 L177.279 517.034 L155.335 517.034 L155.335 513.099 Q157.997 510.344 162.58 505.714 Q167.186 501.062 168.367 499.719 Q170.612 497.196 171.492 495.46 Q172.395 493.701 172.395 492.011 Q172.395 489.256 170.45 487.52 Q168.529 485.784 165.427 485.784 Q163.228 485.784 160.774 486.548 Q158.344 487.312 155.566 488.863 L155.566 484.14 Q158.39 483.006 160.844 482.427 Q163.298 481.849 165.335 481.849 Q170.705 481.849 173.899 484.534 Q177.094 487.219 177.094 491.71 Q177.094 493.839 176.284 495.761 Q175.497 497.659 173.39 500.251 Q172.811 500.923 169.71 504.14 Q166.608 507.335 160.96 513.099 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M116.793 284.218 L146.469 284.218 L146.469 288.153 L116.793 288.153 L116.793 284.218 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M157.372 297.111 L165.01 297.111 L165.01 270.745 L156.7 272.412 L156.7 268.153 L164.964 266.486 L169.64 266.486 L169.64 297.111 L177.279 297.111 L177.279 301.046 L157.372 301.046 L157.372 297.111 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M165.335 53.5772 Q161.723 53.5772 159.895 57.142 Q158.089 60.6837 158.089 67.8133 Q158.089 74.9197 159.895 78.4845 Q161.723 82.0261 165.335 82.0261 Q168.969 82.0261 170.774 78.4845 Q172.603 74.9197 172.603 67.8133 Q172.603 60.6837 170.774 57.142 Q168.969 53.5772 165.335 53.5772 M165.335 49.8735 Q171.145 49.8735 174.2 54.48 Q177.279 59.0633 177.279 67.8133 Q177.279 76.5401 174.2 81.1465 Q171.145 85.7298 165.335 85.7298 Q159.524 85.7298 156.446 81.1465 Q153.39 76.5401 153.39 67.8133 Q153.39 59.0633 156.446 54.48 Q159.524 49.8735 165.335 49.8735 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip262)" d="M286.179 737.545 L270.179 753.545 L286.179 769.545 L302.179 753.545 L286.179 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M540.179 292.132 L524.179 308.132 L540.179 324.132 L556.179 308.132 L540.179 292.132 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M794.178 135.263 L778.178 151.263 L794.178 167.263 L810.178 151.263 L794.178 135.263 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M1048.18 80.7198 L1032.18 96.7198 L1048.18 112.72 L1064.18 96.7198 L1048.18 80.7198 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M1302.18 61.8071 L1286.18 77.8071 L1302.18 93.8071 L1318.18 77.8071 L1302.18 61.8071 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M1556.18 55.2531 L1540.18 71.2531 L1556.18 87.2531 L1572.18 71.2531 L1556.18 55.2531 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M1810.18 52.9819 L1794.18 68.9819 L1810.18 84.9819 L1826.18 68.9819 L1810.18 52.9819 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M2064.18 52.1939 L2048.18 68.1939 L2064.18 84.1939 L2080.18 68.1939 L2064.18 52.1939 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M2318.18 51.9182 L2302.18 67.9182 L2318.18 83.9182 L2334.18 67.9182 L2318.18 51.9182 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip262)" d="M2572.18 51.816 L2556.18 67.816 L2572.18 83.816 L2588.18 67.816 L2572.18 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip262)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,753.545 540.179,753.545 540.179,308.132 794.178,308.132 794.178,151.263 1048.18,151.263 1048.18,96.7198 1302.18,96.7198 1302.18,77.8071 1556.18,77.8071 1556.18,71.2531 1810.18,71.2531 1810.18,68.9819 2064.18,68.9819 2064.18,68.1939 2318.18,68.1939 2318.18,67.9182 2572.18,67.9182 2572.18,67.816 "></polyline>
<path clip-path="url(#clip260)" d="M2295.96 749.888 L2559.98 749.888 L2559.98 646.208 L2295.96 646.208  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2295.96,749.888 2559.98,749.888 2559.98,646.208 2295.96,646.208 2295.96,749.888 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2322.88,698.048 2484.42,698.048 "></polyline>
<path clip-path="url(#clip260)" d="M2511.35 705.096 L2511.35 689.402 L2515.61 689.402 L2515.61 704.934 Q2515.61 708.615 2517.04 710.467 Q2518.48 712.295 2521.35 712.295 Q2524.8 712.295 2526.79 710.096 Q2528.8 707.897 2528.8 704.101 L2528.8 689.402 L2533.06 689.402 L2533.06 715.328 L2528.8 715.328 L2528.8 711.346 Q2527.25 713.708 2525.19 714.865 Q2523.15 715.999 2520.44 715.999 Q2515.98 715.999 2513.66 713.221 Q2511.35 710.444 2511.35 705.096 M2522.06 688.777 L2522.06 688.777 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M217.599 1734.12 L2640.76 1734.12 L2640.76 1007.24 L217.599 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip263">
    <rect x="217" y="1007" width="2424" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="286.179,1734.12 286.179,1007.24 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="857.678,1734.12 857.678,1007.24 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1429.18,1734.12 1429.18,1007.24 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2000.68,1734.12 2000.68,1007.24 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2572.18,1734.12 2572.18,1007.24 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1658.8 2640.76,1658.8 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1448.47 2640.76,1448.47 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1238.15 2640.76,1238.15 "></polyline>
<polyline clip-path="url(#clip263)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="217.599,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1734.12 286.179,1715.22 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="857.678,1734.12 857.678,1715.22 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1429.18,1734.12 1429.18,1715.22 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2000.68,1734.12 2000.68,1715.22 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2572.18,1734.12 2572.18,1715.22 "></polyline>
<path clip-path="url(#clip260)" d="M263.563 1767.34 Q259.952 1767.34 258.123 1770.9 Q256.318 1774.45 256.318 1781.58 Q256.318 1788.68 258.123 1792.25 Q259.952 1795.79 263.563 1795.79 Q267.197 1795.79 269.003 1792.25 Q270.832 1788.68 270.832 1781.58 Q270.832 1774.45 269.003 1770.9 Q267.197 1767.34 263.563 1767.34 M263.563 1763.64 Q269.373 1763.64 272.429 1768.24 Q275.508 1772.83 275.508 1781.58 Q275.508 1790.3 272.429 1794.91 Q269.373 1799.49 263.563 1799.49 Q257.753 1799.49 254.674 1794.91 Q251.619 1790.3 251.619 1781.58 Q251.619 1772.83 254.674 1768.24 Q257.753 1763.64 263.563 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M283.725 1792.94 L288.609 1792.94 L288.609 1798.82 L283.725 1798.82 L283.725 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M308.794 1767.34 Q305.183 1767.34 303.355 1770.9 Q301.549 1774.45 301.549 1781.58 Q301.549 1788.68 303.355 1792.25 Q305.183 1795.79 308.794 1795.79 Q312.429 1795.79 314.234 1792.25 Q316.063 1788.68 316.063 1781.58 Q316.063 1774.45 314.234 1770.9 Q312.429 1767.34 308.794 1767.34 M308.794 1763.64 Q314.605 1763.64 317.66 1768.24 Q320.739 1772.83 320.739 1781.58 Q320.739 1790.3 317.66 1794.91 Q314.605 1799.49 308.794 1799.49 Q302.984 1799.49 299.906 1794.91 Q296.85 1790.3 296.85 1781.58 Q296.85 1772.83 299.906 1768.24 Q302.984 1763.64 308.794 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M829.414 1794.89 L845.734 1794.89 L845.734 1798.82 L823.789 1798.82 L823.789 1794.89 Q826.451 1792.13 831.035 1787.5 Q835.641 1782.85 836.822 1781.51 Q839.067 1778.98 839.947 1777.25 Q840.85 1775.49 840.85 1773.8 Q840.85 1771.04 838.905 1769.31 Q836.984 1767.57 833.882 1767.57 Q831.683 1767.57 829.229 1768.34 Q826.799 1769.1 824.021 1770.65 L824.021 1765.93 Q826.845 1764.79 829.299 1764.21 Q831.752 1763.64 833.789 1763.64 Q839.16 1763.64 842.354 1766.32 Q845.549 1769.01 845.549 1773.5 Q845.549 1775.63 844.738 1777.55 Q843.951 1779.45 841.845 1782.04 Q841.266 1782.71 838.164 1785.93 Q835.063 1789.12 829.414 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M855.549 1792.94 L860.433 1792.94 L860.433 1798.82 L855.549 1798.82 L855.549 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M870.664 1764.26 L889.021 1764.26 L889.021 1768.2 L874.947 1768.2 L874.947 1776.67 Q875.965 1776.32 876.984 1776.16 Q878.002 1775.97 879.021 1775.97 Q884.808 1775.97 888.187 1779.15 Q891.567 1782.32 891.567 1787.73 Q891.567 1793.31 888.095 1796.41 Q884.622 1799.49 878.303 1799.49 Q876.127 1799.49 873.859 1799.12 Q871.613 1798.75 869.206 1798.01 L869.206 1793.31 Q871.289 1794.45 873.511 1795 Q875.734 1795.56 878.21 1795.56 Q882.215 1795.56 884.553 1793.45 Q886.891 1791.34 886.891 1787.73 Q886.891 1784.12 884.553 1782.02 Q882.215 1779.91 878.21 1779.91 Q876.335 1779.91 874.46 1780.33 Q872.609 1780.74 870.664 1781.62 L870.664 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1396.34 1764.26 L1414.7 1764.26 L1414.7 1768.2 L1400.62 1768.2 L1400.62 1776.67 Q1401.64 1776.32 1402.66 1776.16 Q1403.68 1775.97 1404.7 1775.97 Q1410.49 1775.97 1413.87 1779.15 Q1417.24 1782.32 1417.24 1787.73 Q1417.24 1793.31 1413.77 1796.41 Q1410.3 1799.49 1403.98 1799.49 Q1401.8 1799.49 1399.54 1799.12 Q1397.29 1798.75 1394.88 1798.01 L1394.88 1793.31 Q1396.97 1794.45 1399.19 1795 Q1401.41 1795.56 1403.89 1795.56 Q1407.89 1795.56 1410.23 1793.45 Q1412.57 1791.34 1412.57 1787.73 Q1412.57 1784.12 1410.23 1782.02 Q1407.89 1779.91 1403.89 1779.91 Q1402.01 1779.91 1400.14 1780.33 Q1398.29 1780.74 1396.34 1781.62 L1396.34 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1426.46 1792.94 L1431.34 1792.94 L1431.34 1798.82 L1426.46 1798.82 L1426.46 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1451.53 1767.34 Q1447.92 1767.34 1446.09 1770.9 Q1444.28 1774.45 1444.28 1781.58 Q1444.28 1788.68 1446.09 1792.25 Q1447.92 1795.79 1451.53 1795.79 Q1455.16 1795.79 1456.97 1792.25 Q1458.8 1788.68 1458.8 1781.58 Q1458.8 1774.45 1456.97 1770.9 Q1455.16 1767.34 1451.53 1767.34 M1451.53 1763.64 Q1457.34 1763.64 1460.39 1768.24 Q1463.47 1772.83 1463.47 1781.58 Q1463.47 1790.3 1460.39 1794.91 Q1457.34 1799.49 1451.53 1799.49 Q1445.72 1799.49 1442.64 1794.91 Q1439.58 1790.3 1439.58 1781.58 Q1439.58 1772.83 1442.64 1768.24 Q1445.72 1763.64 1451.53 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1967 1764.26 L1989.22 1764.26 L1989.22 1766.25 L1976.67 1798.82 L1971.79 1798.82 L1983.59 1768.2 L1967 1768.2 L1967 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1998.34 1792.94 L2003.22 1792.94 L2003.22 1798.82 L1998.34 1798.82 L1998.34 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2013.45 1764.26 L2031.81 1764.26 L2031.81 1768.2 L2017.74 1768.2 L2017.74 1776.67 Q2018.76 1776.32 2019.77 1776.16 Q2020.79 1775.97 2021.81 1775.97 Q2027.6 1775.97 2030.98 1779.15 Q2034.36 1782.32 2034.36 1787.73 Q2034.36 1793.31 2030.88 1796.41 Q2027.41 1799.49 2021.09 1799.49 Q2018.92 1799.49 2016.65 1799.12 Q2014.4 1798.75 2012 1798.01 L2012 1793.31 Q2014.08 1794.45 2016.3 1795 Q2018.52 1795.56 2021 1795.56 Q2025.01 1795.56 2027.34 1793.45 Q2029.68 1791.34 2029.68 1787.73 Q2029.68 1784.12 2027.34 1782.02 Q2025.01 1779.91 2021 1779.91 Q2019.13 1779.91 2017.25 1780.33 Q2015.4 1780.74 2013.45 1781.62 L2013.45 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2524.25 1794.89 L2531.89 1794.89 L2531.89 1768.52 L2523.58 1770.19 L2523.58 1765.93 L2531.84 1764.26 L2536.52 1764.26 L2536.52 1794.89 L2544.16 1794.89 L2544.16 1798.82 L2524.25 1798.82 L2524.25 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2563.6 1767.34 Q2559.99 1767.34 2558.16 1770.9 Q2556.35 1774.45 2556.35 1781.58 Q2556.35 1788.68 2558.16 1792.25 Q2559.99 1795.79 2563.6 1795.79 Q2567.23 1795.79 2569.04 1792.25 Q2570.87 1788.68 2570.87 1781.58 Q2570.87 1774.45 2569.04 1770.9 Q2567.23 1767.34 2563.6 1767.34 M2563.6 1763.64 Q2569.41 1763.64 2572.47 1768.24 Q2575.54 1772.83 2575.54 1781.58 Q2575.54 1790.3 2572.47 1794.91 Q2569.41 1799.49 2563.6 1799.49 Q2557.79 1799.49 2554.71 1794.91 Q2551.66 1790.3 2551.66 1781.58 Q2551.66 1772.83 2554.71 1768.24 Q2557.79 1763.64 2563.6 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2583.76 1792.94 L2588.65 1792.94 L2588.65 1798.82 L2583.76 1798.82 L2583.76 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2608.83 1767.34 Q2605.22 1767.34 2603.39 1770.9 Q2601.59 1774.45 2601.59 1781.58 Q2601.59 1788.68 2603.39 1792.25 Q2605.22 1795.79 2608.83 1795.79 Q2612.47 1795.79 2614.27 1792.25 Q2616.1 1788.68 2616.1 1781.58 Q2616.1 1774.45 2614.27 1770.9 Q2612.47 1767.34 2608.83 1767.34 M2608.83 1763.64 Q2614.64 1763.64 2617.7 1768.24 Q2620.78 1772.83 2620.78 1781.58 Q2620.78 1790.3 2617.7 1794.91 Q2614.64 1799.49 2608.83 1799.49 Q2603.02 1799.49 2599.94 1794.91 Q2596.89 1790.3 2596.89 1781.58 Q2596.89 1772.83 2599.94 1768.24 Q2603.02 1763.64 2608.83 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M1413.36 1833.78 L1419.25 1833.78 L1419.25 1863.03 L1436.72 1847.65 L1444.2 1847.65 L1425.29 1864.33 L1445 1883.3 L1437.36 1883.3 L1419.25 1865.89 L1419.25 1883.3 L1413.36 1883.3 L1413.36 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1734.12 217.599,1007.24 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1658.8 236.497,1658.8 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1448.47 236.497,1448.47 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1238.15 236.497,1238.15 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="217.599,1027.82 236.497,1027.82 "></polyline>
<path clip-path="url(#clip260)" d="M165.335 1644.6 Q161.723 1644.6 159.895 1648.17 Q158.089 1651.71 158.089 1658.84 Q158.089 1665.94 159.895 1669.51 Q161.723 1673.05 165.335 1673.05 Q168.969 1673.05 170.774 1669.51 Q172.603 1665.94 172.603 1658.84 Q172.603 1651.71 170.774 1648.17 Q168.969 1644.6 165.335 1644.6 M165.335 1640.9 Q171.145 1640.9 174.2 1645.5 Q177.279 1650.09 177.279 1658.84 Q177.279 1667.56 174.2 1672.17 Q171.145 1676.75 165.335 1676.75 Q159.524 1676.75 156.446 1672.17 Q153.39 1667.56 153.39 1658.84 Q153.39 1650.09 156.446 1645.5 Q159.524 1640.9 165.335 1640.9 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M157.372 1461.82 L165.01 1461.82 L165.01 1435.45 L156.7 1437.12 L156.7 1432.86 L164.964 1431.19 L169.64 1431.19 L169.64 1461.82 L177.279 1461.82 L177.279 1465.75 L157.372 1465.75 L157.372 1461.82 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M160.96 1251.49 L177.279 1251.49 L177.279 1255.43 L155.335 1255.43 L155.335 1251.49 Q157.997 1248.74 162.58 1244.11 Q167.186 1239.45 168.367 1238.11 Q170.612 1235.59 171.492 1233.85 Q172.395 1232.09 172.395 1230.4 Q172.395 1227.65 170.45 1225.91 Q168.529 1224.18 165.427 1224.18 Q163.228 1224.18 160.774 1224.94 Q158.344 1225.7 155.566 1227.25 L155.566 1222.53 Q158.39 1221.4 160.844 1220.82 Q163.298 1220.24 165.335 1220.24 Q170.705 1220.24 173.899 1222.93 Q177.094 1225.61 177.094 1230.1 Q177.094 1232.23 176.284 1234.15 Q175.497 1236.05 173.39 1238.64 Q172.811 1239.31 169.71 1242.53 Q166.608 1245.73 160.96 1251.49 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M170.149 1026.46 Q173.506 1027.18 175.381 1029.45 Q177.279 1031.72 177.279 1035.05 Q177.279 1040.17 173.76 1042.97 Q170.242 1045.77 163.76 1045.77 Q161.585 1045.77 159.27 1045.33 Q156.978 1044.91 154.524 1044.05 L154.524 1039.54 Q156.469 1040.67 158.784 1041.25 Q161.098 1041.83 163.622 1041.83 Q168.02 1041.83 170.311 1040.1 Q172.626 1038.36 172.626 1035.05 Q172.626 1031.99 170.473 1030.28 Q168.344 1028.55 164.524 1028.55 L160.497 1028.55 L160.497 1024.7 L164.71 1024.7 Q168.159 1024.7 169.987 1023.34 Q171.816 1021.95 171.816 1019.36 Q171.816 1016.69 169.918 1015.28 Q168.043 1013.85 164.524 1013.85 Q162.603 1013.85 160.404 1014.26 Q158.205 1014.68 155.566 1015.56 L155.566 1011.39 Q158.228 1010.65 160.543 1010.28 Q162.881 1009.91 164.941 1009.91 Q170.265 1009.91 173.367 1012.34 Q176.469 1014.75 176.469 1018.87 Q176.469 1021.74 174.825 1023.73 Q173.182 1025.7 170.149 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M63.1662 1354.07 L80.5128 1366.96 L98.8142 1353.4 L98.8142 1360.3 L84.8096 1370.68 L98.8142 1381.06 L98.8142 1387.96 L80.1626 1374.12 L63.1662 1386.79 L63.1662 1379.88 L75.8658 1370.43 L63.1662 1360.97 L63.1662 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip263)" d="M286.179 1432.47 L270.179 1448.47 L286.179 1464.47 L302.179 1448.47 L286.179 1432.47 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M514.779 1697.55 L498.779 1713.55 L514.779 1729.55 L530.779 1713.55 L514.779 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M743.378 1671.43 L727.378 1687.43 L743.378 1703.43 L759.378 1687.43 L743.378 1671.43 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M971.978 1653.45 L955.978 1669.45 L971.978 1685.45 L987.978 1669.45 L971.978 1653.45 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1200.58 1646.55 L1184.58 1662.55 L1200.58 1678.55 L1216.58 1662.55 L1200.58 1646.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1429.18 1644.1 L1413.18 1660.1 L1429.18 1676.1 L1445.18 1660.1 L1429.18 1644.1 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1657.78 1643.25 L1641.78 1659.25 L1657.78 1675.25 L1673.78 1659.25 L1657.78 1643.25 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1886.38 1642.96 L1870.38 1658.96 L1886.38 1674.96 L1902.38 1658.96 L1886.38 1642.96 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M2114.98 1642.86 L2098.98 1658.86 L2114.98 1674.86 L2130.98 1658.86 L2114.98 1642.86 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M2343.58 1642.82 L2327.58 1658.82 L2343.58 1674.82 L2359.58 1658.82 L2343.58 1642.82 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M2572.18 1642.79 L2556.18 1658.79 L2572.18 1674.79 L2588.18 1658.79 L2572.18 1642.79 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip263)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1448.47 514.779,1448.47 514.779,1713.55 743.378,1713.55 743.378,1687.43 971.978,1687.43 971.978,1669.45 1200.58,1669.45 1200.58,1662.55 1429.18,1662.55 1429.18,1660.1 1657.78,1660.1 1657.78,1659.25 1886.38,1659.25 1886.38,1658.96 2114.98,1658.96 2114.98,1658.86 2343.58,1658.86 2343.58,1658.82 2572.18,1658.82 2572.18,1658.79 "></polyline>
<path clip-path="url(#clip263)" d="M286.179 1011.82 L270.179 1027.82 L286.179 1043.82 L302.179 1027.82 L286.179 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M514.779 1255.21 L498.779 1271.21 L514.779 1287.21 L530.779 1271.21 L514.779 1255.21 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M743.378 1495.73 L727.378 1511.73 L743.378 1527.73 L759.378 1511.73 L743.378 1495.73 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M971.978 1590.88 L955.978 1606.88 L971.978 1622.88 L987.978 1606.88 L971.978 1590.88 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1200.58 1624.74 L1184.58 1640.74 L1200.58 1656.74 L1216.58 1640.74 L1200.58 1624.74 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1429.18 1636.54 L1413.18 1652.54 L1429.18 1668.54 L1445.18 1652.54 L1429.18 1636.54 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1657.78 1640.63 L1641.78 1656.63 L1657.78 1672.63 L1673.78 1656.63 L1657.78 1640.63 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M1886.38 1642.05 L1870.38 1658.05 L1886.38 1674.05 L1902.38 1658.05 L1886.38 1642.05 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M2114.98 1642.54 L2098.98 1658.54 L2114.98 1674.54 L2130.98 1658.54 L2114.98 1642.54 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M2343.58 1642.71 L2327.58 1658.71 L2343.58 1674.71 L2359.58 1658.71 L2343.58 1642.71 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip263)" d="M2572.18 1642.76 L2556.18 1658.76 L2572.18 1674.76 L2588.18 1658.76 L2572.18 1642.76 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip263)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="286.179,1027.82 514.779,1027.82 514.779,1271.21 743.378,1271.21 743.378,1511.73 971.978,1511.73 971.978,1606.88 1200.58,1606.88 1200.58,1640.74 1429.18,1640.74 1429.18,1652.54 1657.78,1652.54 1657.78,1656.63 1886.38,1656.63 1886.38,1658.05 2114.98,1658.05 2114.98,1658.54 2343.58,1658.54 2343.58,1658.71 2572.18,1658.71 2572.18,1658.76 "></polyline>
<path clip-path="url(#clip260)" d="M2274.57 1186.99 L2559.98 1186.99 L2559.98 1031.47 L2274.57 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip260)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2274.57,1186.99 2559.98,1186.99 2559.98,1031.47 2274.57,1031.47 2274.57,1186.99 "></polyline>
<polyline clip-path="url(#clip260)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2301.49,1083.31 2463.03,1083.31 "></polyline>
<path clip-path="url(#clip260)" d="M2514.61 1074.67 L2505.24 1087.28 L2515.1 1100.59 L2510.07 1100.59 L2502.53 1090.41 L2494.98 1100.59 L2489.96 1100.59 L2500.03 1087.03 L2490.81 1074.67 L2495.84 1074.67 L2502.71 1083.9 L2509.59 1074.67 L2514.61 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2520.26 1098.05 L2524.98 1098.05 L2524.98 1083.9 L2519.82 1084.85 L2519.82 1082.17 L2525.14 1081.26 L2528.31 1081.26 L2528.31 1098.05 L2533.06 1098.05 L2533.06 1100.59 L2520.26 1100.59 L2520.26 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip260)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2301.49,1135.15 2463.03,1135.15 "></polyline>
<path clip-path="url(#clip260)" d="M2514.61 1126.51 L2505.24 1139.12 L2515.1 1152.43 L2510.07 1152.43 L2502.53 1142.25 L2494.98 1152.43 L2489.96 1152.43 L2500.03 1138.87 L2490.81 1126.51 L2495.84 1126.51 L2502.71 1135.74 L2509.59 1126.51 L2514.61 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip260)" d="M2522.85 1149.79 L2532.67 1149.79 L2532.67 1152.43 L2518.82 1152.43 L2518.82 1149.89 Q2519.61 1149.17 2521.07 1147.87 Q2529.03 1140.81 2529.03 1138.64 Q2529.03 1137.11 2527.83 1136.18 Q2526.62 1135.23 2524.66 1135.23 Q2523.45 1135.23 2522.04 1135.65 Q2520.63 1136.04 2518.96 1136.85 L2518.96 1134.01 Q2520.75 1133.36 2522.27 1133.04 Q2523.82 1132.71 2525.14 1132.71 Q2528.5 1132.71 2530.51 1134.24 Q2532.53 1135.77 2532.53 1138.27 Q2532.53 1141.48 2524.87 1148.06 Q2523.57 1149.17 2522.85 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-constraints-on-controls-and-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-constraints-on-controls-and-states">Adding constraints on controls and states</h3>
<p>When solving a realistic optimal control problem, we may want to impose inequality constraints on <span class="math inline">\bm u_k</span> due to saturation of actuators. We may also want to add constraints on <span class="math inline">\bm x_k</span> as well, which may reflect some performance specifications. In both cases, we would arrive at the full KKT conditions, and rather than trying to solve these, we resort to some finetuned numerical solver for quadratic programming (QP) instead.</p>
<div id="exm-direct-simultaneous-constrained-using-jump" class="theorem example">
<p><span class="theorem-title"><strong>Example 2 (Simultaneous approach to the LQR problem with constraints on control – higher-level implementation using optimization modelling language JuMP)</strong></span> While developing the model all the way down to the individual matrices and vectors gives an insight into the structure of the problem (we learnt that in absence of constraints it amounts to solving an indefinite system of linear equations), here we show how the use of an optimization modelling language can make the process of building the model a lot more convenient. We use JuMP for this purpose, but things would be similar with, say, cvxpy in Python or Yalmip in Matlab.</p>
<div id="4" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>ocp <span class="op">=</span> <span class="fu">Model</span>(OSQP.Optimizer)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="fu">set_silent</span>(ocp)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, umin <span class="op">&lt;=</span> u[<span class="fl">1</span><span class="op">:</span>N] <span class="op">&lt;=</span> umax)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, x[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>N<span class="op">+</span><span class="fl">1</span>])</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(ocp, x[<span class="op">:</span>,i<span class="op">+</span><span class="fl">1</span>] <span class="op">==</span> A<span class="op">*</span>x[<span class="op">:</span>,i] <span class="op">+</span> B<span class="op">*</span>u[i])</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">1</span>,<span class="fl">1</span>], x₀[<span class="fl">1</span>])</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">2</span>,<span class="fl">1</span>], x₀[<span class="fl">2</span>])</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="pp">@objective</span>(ocp, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(x[<span class="op">:</span>,N],S,x[<span class="op">:</span>,N]) <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*sum</span>(<span class="fu">dot</span>(x[<span class="op">:</span>,i],Q,x[<span class="op">:</span>,i]) <span class="op">+</span> <span class="fu">dot</span>(u[i],R,u[i]) <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="fu">optimize!</span>(ocp)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>xopt <span class="op">=</span> <span class="fu">value</span>.(x)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,xopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span>[<span class="st">"x₁"</span> <span class="st">"x₂"</span>],linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip320">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip320)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip321">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip320)" d="M293.64 774.117 L2640.76 774.117 L2640.76 47.2441 L293.64 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip322">
    <rect x="293" y="47" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,774.117 360.068,47.2441 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="852.126,774.117 852.126,47.2441 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1344.18,774.117 1344.18,47.2441 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1836.24,774.117 1836.24,47.2441 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2328.3,774.117 2328.3,47.2441 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,753.545 2640.76,753.545 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,582.159 2640.76,582.159 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,410.772 2640.76,410.772 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,239.386 2640.76,239.386 "></polyline>
<polyline clip-path="url(#clip322)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,67.9992 2640.76,67.9992 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,774.117 360.068,755.219 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="852.126,774.117 852.126,755.219 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1344.18,774.117 1344.18,755.219 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1836.24,774.117 1836.24,755.219 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.3,774.117 2328.3,755.219 "></polyline>
<path clip-path="url(#clip320)" d="M360.068 807.34 Q356.457 807.34 354.628 810.904 Q352.823 814.446 352.823 821.576 Q352.823 828.682 354.628 832.247 Q356.457 835.789 360.068 835.789 Q363.702 835.789 365.508 832.247 Q367.336 828.682 367.336 821.576 Q367.336 814.446 365.508 810.904 Q363.702 807.34 360.068 807.34 M360.068 803.636 Q365.878 803.636 368.934 808.242 Q372.012 812.826 372.012 821.576 Q372.012 830.303 368.934 834.909 Q365.878 839.492 360.068 839.492 Q354.258 839.492 351.179 834.909 Q348.124 830.303 348.124 821.576 Q348.124 812.826 351.179 808.242 Q354.258 803.636 360.068 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M846.779 834.886 L863.098 834.886 L863.098 838.821 L841.154 838.821 L841.154 834.886 Q843.816 832.131 848.399 827.502 Q853.005 822.849 854.186 821.506 Q856.431 818.983 857.311 817.247 Q858.214 815.488 858.214 813.798 Q858.214 811.043 856.269 809.307 Q854.348 807.571 851.246 807.571 Q849.047 807.571 846.593 808.335 Q844.163 809.099 841.385 810.65 L841.385 805.928 Q844.209 804.793 846.663 804.215 Q849.117 803.636 851.154 803.636 Q856.524 803.636 859.718 806.321 Q862.913 809.006 862.913 813.497 Q862.913 815.627 862.103 817.548 Q861.316 819.446 859.209 822.039 Q858.63 822.71 855.529 825.928 Q852.427 829.122 846.779 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1347.19 808.335 L1335.39 826.784 L1347.19 826.784 L1347.19 808.335 M1345.97 804.261 L1351.85 804.261 L1351.85 826.784 L1356.78 826.784 L1356.78 830.673 L1351.85 830.673 L1351.85 838.821 L1347.19 838.821 L1347.19 830.673 L1331.59 830.673 L1331.59 826.159 L1345.97 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1836.65 819.678 Q1833.5 819.678 1831.65 821.83 Q1829.82 823.983 1829.82 827.733 Q1829.82 831.46 1831.65 833.636 Q1833.5 835.789 1836.65 835.789 Q1839.79 835.789 1841.62 833.636 Q1843.48 831.46 1843.48 827.733 Q1843.48 823.983 1841.62 821.83 Q1839.79 819.678 1836.65 819.678 M1845.93 805.025 L1845.93 809.284 Q1844.17 808.451 1842.36 808.011 Q1840.58 807.571 1838.82 807.571 Q1834.19 807.571 1831.74 810.696 Q1829.31 813.821 1828.96 820.141 Q1830.33 818.127 1832.39 817.062 Q1834.45 815.974 1836.92 815.974 Q1842.13 815.974 1845.14 819.145 Q1848.17 822.293 1848.17 827.733 Q1848.17 833.057 1845.03 836.275 Q1841.88 839.492 1836.65 839.492 Q1830.65 839.492 1827.48 834.909 Q1824.31 830.303 1824.31 821.576 Q1824.31 813.381 1828.2 808.52 Q1832.09 803.636 1838.64 803.636 Q1840.4 803.636 1842.18 803.983 Q1843.98 804.33 1845.93 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2328.3 822.409 Q2324.97 822.409 2323.04 824.191 Q2321.15 825.974 2321.15 829.099 Q2321.15 832.224 2323.04 834.006 Q2324.97 835.789 2328.3 835.789 Q2331.63 835.789 2333.55 834.006 Q2335.48 832.201 2335.48 829.099 Q2335.48 825.974 2333.55 824.191 Q2331.66 822.409 2328.3 822.409 M2323.62 820.418 Q2320.61 819.678 2318.92 817.617 Q2317.26 815.557 2317.26 812.594 Q2317.26 808.451 2320.2 806.043 Q2323.16 803.636 2328.3 803.636 Q2333.46 803.636 2336.4 806.043 Q2339.34 808.451 2339.34 812.594 Q2339.34 815.557 2337.65 817.617 Q2335.98 819.678 2333 820.418 Q2336.38 821.205 2338.25 823.497 Q2340.15 825.789 2340.15 829.099 Q2340.15 834.122 2337.07 836.807 Q2334.02 839.492 2328.3 839.492 Q2322.58 839.492 2319.5 836.807 Q2316.45 834.122 2316.45 829.099 Q2316.45 825.789 2318.35 823.497 Q2320.24 821.205 2323.62 820.418 M2321.91 813.034 Q2321.91 815.719 2323.58 817.224 Q2325.27 818.729 2328.3 818.729 Q2331.31 818.729 2333 817.224 Q2334.71 815.719 2334.71 813.034 Q2334.71 810.349 2333 808.844 Q2331.31 807.34 2328.3 807.34 Q2325.27 807.34 2323.58 808.844 Q2321.91 810.349 2321.91 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1451.38 873.776 L1457.27 873.776 L1457.27 903.026 L1474.74 887.653 L1482.22 887.653 L1463.31 904.331 L1483.02 923.301 L1475.38 923.301 L1457.27 905.891 L1457.27 923.301 L1451.38 923.301 L1451.38 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 293.64,47.2441 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,753.545 312.538,753.545 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,582.159 312.538,582.159 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,410.772 312.538,410.772 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,239.386 312.538,239.386 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,67.9992 312.538,67.9992 "></polyline>
<path clip-path="url(#clip320)" d="M116.214 753.996 L145.89 753.996 L145.89 757.932 L116.214 757.932 L116.214 753.996 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M156.793 766.89 L164.432 766.89 L164.432 740.524 L156.122 742.191 L156.122 737.932 L164.385 736.265 L169.061 736.265 L169.061 766.89 L176.7 766.89 L176.7 770.825 L156.793 770.825 L156.793 766.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M186.145 764.946 L191.029 764.946 L191.029 770.825 L186.145 770.825 L186.145 764.946 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M211.214 739.344 Q207.603 739.344 205.774 742.909 Q203.969 746.45 203.969 753.58 Q203.969 760.686 205.774 764.251 Q207.603 767.793 211.214 767.793 Q214.848 767.793 216.654 764.251 Q218.482 760.686 218.482 753.58 Q218.482 746.45 216.654 742.909 Q214.848 739.344 211.214 739.344 M211.214 735.64 Q217.024 735.64 220.08 740.247 Q223.158 744.83 223.158 753.58 Q223.158 762.307 220.08 766.913 Q217.024 771.496 211.214 771.496 Q205.404 771.496 202.325 766.913 Q199.27 762.307 199.27 753.58 Q199.27 744.83 202.325 740.247 Q205.404 735.64 211.214 735.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M241.376 739.344 Q237.765 739.344 235.936 742.909 Q234.13 746.45 234.13 753.58 Q234.13 760.686 235.936 764.251 Q237.765 767.793 241.376 767.793 Q245.01 767.793 246.816 764.251 Q248.644 760.686 248.644 753.58 Q248.644 746.45 246.816 742.909 Q245.01 739.344 241.376 739.344 M241.376 735.64 Q247.186 735.64 250.242 740.247 Q253.32 744.83 253.32 753.58 Q253.32 762.307 250.242 766.913 Q247.186 771.496 241.376 771.496 Q235.566 771.496 232.487 766.913 Q229.431 762.307 229.431 753.58 Q229.431 744.83 232.487 740.247 Q235.566 735.64 241.376 735.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M117.21 582.61 L146.886 582.61 L146.886 586.545 L117.21 586.545 L117.21 582.61 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M166.978 567.957 Q163.367 567.957 161.538 571.522 Q159.733 575.064 159.733 582.193 Q159.733 589.3 161.538 592.865 Q163.367 596.406 166.978 596.406 Q170.612 596.406 172.418 592.865 Q174.247 589.3 174.247 582.193 Q174.247 575.064 172.418 571.522 Q170.612 567.957 166.978 567.957 M166.978 564.254 Q172.788 564.254 175.844 568.86 Q178.922 573.443 178.922 582.193 Q178.922 590.92 175.844 595.527 Q172.788 600.11 166.978 600.11 Q161.168 600.11 158.089 595.527 Q155.034 590.92 155.034 582.193 Q155.034 573.443 158.089 568.86 Q161.168 564.254 166.978 564.254 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M187.14 593.559 L192.024 593.559 L192.024 599.439 L187.14 599.439 L187.14 593.559 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M201.029 564.879 L223.251 564.879 L223.251 566.869 L210.705 599.439 L205.82 599.439 L217.626 568.814 L201.029 568.814 L201.029 564.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M232.418 564.879 L250.774 564.879 L250.774 568.814 L236.7 568.814 L236.7 577.286 Q237.718 576.939 238.737 576.777 Q239.755 576.592 240.774 576.592 Q246.561 576.592 249.941 579.763 Q253.32 582.934 253.32 588.351 Q253.32 593.929 249.848 597.031 Q246.376 600.11 240.056 600.11 Q237.88 600.11 235.612 599.74 Q233.367 599.369 230.959 598.628 L230.959 593.929 Q233.043 595.064 235.265 595.619 Q237.487 596.175 239.964 596.175 Q243.968 596.175 246.306 594.068 Q248.644 591.962 248.644 588.351 Q248.644 584.74 246.306 582.633 Q243.968 580.527 239.964 580.527 Q238.089 580.527 236.214 580.943 Q234.362 581.36 232.418 582.24 L232.418 564.879 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M116.214 411.224 L145.89 411.224 L145.89 415.159 L116.214 415.159 L116.214 411.224 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M165.983 396.571 Q162.372 396.571 160.543 400.136 Q158.737 403.677 158.737 410.807 Q158.737 417.913 160.543 421.478 Q162.372 425.02 165.983 425.02 Q169.617 425.02 171.422 421.478 Q173.251 417.913 173.251 410.807 Q173.251 403.677 171.422 400.136 Q169.617 396.571 165.983 396.571 M165.983 392.867 Q171.793 392.867 174.848 397.474 Q177.927 402.057 177.927 410.807 Q177.927 419.534 174.848 424.14 Q171.793 428.723 165.983 428.723 Q160.173 428.723 157.094 424.14 Q154.038 419.534 154.038 410.807 Q154.038 402.057 157.094 397.474 Q160.173 392.867 165.983 392.867 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M186.145 422.173 L191.029 422.173 L191.029 428.052 L186.145 428.052 L186.145 422.173 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M201.26 393.492 L219.617 393.492 L219.617 397.427 L205.543 397.427 L205.543 405.899 Q206.561 405.552 207.58 405.39 Q208.598 405.205 209.617 405.205 Q215.404 405.205 218.783 408.376 Q222.163 411.548 222.163 416.964 Q222.163 422.543 218.691 425.645 Q215.219 428.723 208.899 428.723 Q206.723 428.723 204.455 428.353 Q202.209 427.983 199.802 427.242 L199.802 422.543 Q201.885 423.677 204.107 424.233 Q206.33 424.788 208.807 424.788 Q212.811 424.788 215.149 422.682 Q217.487 420.575 217.487 416.964 Q217.487 413.353 215.149 411.247 Q212.811 409.14 208.807 409.14 Q206.932 409.14 205.057 409.557 Q203.205 409.974 201.26 410.853 L201.26 393.492 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M241.376 396.571 Q237.765 396.571 235.936 400.136 Q234.13 403.677 234.13 410.807 Q234.13 417.913 235.936 421.478 Q237.765 425.02 241.376 425.02 Q245.01 425.02 246.816 421.478 Q248.644 417.913 248.644 410.807 Q248.644 403.677 246.816 400.136 Q245.01 396.571 241.376 396.571 M241.376 392.867 Q247.186 392.867 250.242 397.474 Q253.32 402.057 253.32 410.807 Q253.32 419.534 250.242 424.14 Q247.186 428.723 241.376 428.723 Q235.566 428.723 232.487 424.14 Q229.431 419.534 229.431 410.807 Q229.431 402.057 232.487 397.474 Q235.566 392.867 241.376 392.867 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M117.21 239.837 L146.886 239.837 L146.886 243.772 L117.21 243.772 L117.21 239.837 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M166.978 225.184 Q163.367 225.184 161.538 228.749 Q159.733 232.291 159.733 239.42 Q159.733 246.527 161.538 250.092 Q163.367 253.633 166.978 253.633 Q170.612 253.633 172.418 250.092 Q174.247 246.527 174.247 239.42 Q174.247 232.291 172.418 228.749 Q170.612 225.184 166.978 225.184 M166.978 221.481 Q172.788 221.481 175.844 226.087 Q178.922 230.67 178.922 239.42 Q178.922 248.147 175.844 252.754 Q172.788 257.337 166.978 257.337 Q161.168 257.337 158.089 252.754 Q155.034 248.147 155.034 239.42 Q155.034 230.67 158.089 226.087 Q161.168 221.481 166.978 221.481 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M187.14 250.786 L192.024 250.786 L192.024 256.666 L187.14 256.666 L187.14 250.786 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M206.237 252.73 L222.556 252.73 L222.556 256.666 L200.612 256.666 L200.612 252.73 Q203.274 249.976 207.857 245.346 Q212.464 240.694 213.644 239.351 Q215.89 236.828 216.769 235.092 Q217.672 233.332 217.672 231.643 Q217.672 228.888 215.728 227.152 Q213.807 225.416 210.705 225.416 Q208.506 225.416 206.052 226.18 Q203.621 226.944 200.844 228.495 L200.844 223.772 Q203.668 222.638 206.121 222.059 Q208.575 221.481 210.612 221.481 Q215.982 221.481 219.177 224.166 Q222.371 226.851 222.371 231.342 Q222.371 233.471 221.561 235.393 Q220.774 237.291 218.668 239.883 Q218.089 240.555 214.987 243.772 Q211.885 246.967 206.237 252.73 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M232.418 222.106 L250.774 222.106 L250.774 226.041 L236.7 226.041 L236.7 234.513 Q237.718 234.166 238.737 234.004 Q239.755 233.819 240.774 233.819 Q246.561 233.819 249.941 236.99 Q253.32 240.161 253.32 245.578 Q253.32 251.156 249.848 254.258 Q246.376 257.337 240.056 257.337 Q237.88 257.337 235.612 256.967 Q233.367 256.596 230.959 255.855 L230.959 251.156 Q233.043 252.291 235.265 252.846 Q237.487 253.402 239.964 253.402 Q243.968 253.402 246.306 251.295 Q248.644 249.189 248.644 245.578 Q248.644 241.967 246.306 239.86 Q243.968 237.754 239.964 237.754 Q238.089 237.754 236.214 238.17 Q234.362 238.587 232.418 239.467 L232.418 222.106 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M165.983 53.7979 Q162.372 53.7979 160.543 57.3627 Q158.737 60.9043 158.737 68.0339 Q158.737 75.1403 160.543 78.7051 Q162.372 82.2468 165.983 82.2468 Q169.617 82.2468 171.422 78.7051 Q173.251 75.1403 173.251 68.0339 Q173.251 60.9043 171.422 57.3627 Q169.617 53.7979 165.983 53.7979 M165.983 50.0942 Q171.793 50.0942 174.848 54.7006 Q177.927 59.2839 177.927 68.0339 Q177.927 76.7607 174.848 81.3672 Q171.793 85.9505 165.983 85.9505 Q160.173 85.9505 157.094 81.3672 Q154.038 76.7607 154.038 68.0339 Q154.038 59.2839 157.094 54.7006 Q160.173 50.0942 165.983 50.0942 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M186.145 79.3996 L191.029 79.3996 L191.029 85.2792 L186.145 85.2792 L186.145 79.3996 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M211.214 53.7979 Q207.603 53.7979 205.774 57.3627 Q203.969 60.9043 203.969 68.0339 Q203.969 75.1403 205.774 78.7051 Q207.603 82.2468 211.214 82.2468 Q214.848 82.2468 216.654 78.7051 Q218.482 75.1403 218.482 68.0339 Q218.482 60.9043 216.654 57.3627 Q214.848 53.7979 211.214 53.7979 M211.214 50.0942 Q217.024 50.0942 220.08 54.7006 Q223.158 59.2839 223.158 68.0339 Q223.158 76.7607 220.08 81.3672 Q217.024 85.9505 211.214 85.9505 Q205.404 85.9505 202.325 81.3672 Q199.27 76.7607 199.27 68.0339 Q199.27 59.2839 202.325 54.7006 Q205.404 50.0942 211.214 50.0942 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M241.376 53.7979 Q237.765 53.7979 235.936 57.3627 Q234.13 60.9043 234.13 68.0339 Q234.13 75.1403 235.936 78.7051 Q237.765 82.2468 241.376 82.2468 Q245.01 82.2468 246.816 78.7051 Q248.644 75.1403 248.644 68.0339 Q248.644 60.9043 246.816 57.3627 Q245.01 53.7979 241.376 53.7979 M241.376 50.0942 Q247.186 50.0942 250.242 54.7006 Q253.32 59.2839 253.32 68.0339 Q253.32 76.7607 250.242 81.3672 Q247.186 85.9505 241.376 85.9505 Q235.566 85.9505 232.487 81.3672 Q229.431 76.7607 229.431 68.0339 Q229.431 59.2839 232.487 54.7006 Q235.566 50.0942 241.376 50.0942 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip322)" d="M360.068 737.545 L344.068 753.545 L360.068 769.545 L376.068 753.545 L360.068 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M606.097 699.498 L590.097 715.498 L606.097 731.498 L622.097 715.498 L606.097 699.498 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M852.126 244.098 L836.126 260.098 L852.126 276.098 L868.126 260.098 L852.126 244.098 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M1098.15 100.36 L1082.15 116.36 L1098.15 132.36 L1114.15 116.36 L1098.15 100.36 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M1344.18 61.7671 L1328.18 77.7671 L1344.18 93.7671 L1360.18 77.7671 L1344.18 61.7671 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M1590.21 53.182 L1574.21 69.182 L1590.21 85.182 L1606.21 69.182 L1590.21 53.182 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M1836.24 51.8217 L1820.24 67.8217 L1836.24 83.8217 L1852.24 67.8217 L1836.24 51.8217 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M2082.27 51.816 L2066.27 67.816 L2082.27 83.816 L2098.27 67.816 L2082.27 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M2328.3 51.9361 L2312.3 67.9361 L2328.3 83.9361 L2344.3 67.9361 L2328.3 51.9361 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip322)" d="M2574.33 51.9992 L2558.33 67.9992 L2574.33 83.9992 L2590.33 67.9992 L2574.33 51.9992 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip322)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,753.545 606.097,753.545 606.097,715.498 852.126,715.498 852.126,260.098 1098.15,260.098 1098.15,116.36 1344.18,116.36 1344.18,77.7671 1590.21,77.7671 1590.21,69.182 1836.24,69.182 1836.24,67.8217 2082.27,67.8217 2082.27,67.816 2328.3,67.816 2328.3,67.9361 2574.33,67.9361 2574.33,67.9992 "></polyline>
<path clip-path="url(#clip320)" d="M371.877 175.153 L628.302 175.153 L628.302 71.4732 L371.877 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="371.877,175.153 628.302,175.153 628.302,71.4732 371.877,71.4732 371.877,175.153 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,123.313 554.431,123.313 "></polyline>
<path clip-path="url(#clip320)" d="M580.51 130.362 L580.51 114.667 L584.769 114.667 L584.769 130.2 Q584.769 133.88 586.204 135.732 Q587.639 137.561 590.51 137.561 Q593.959 137.561 595.95 135.362 Q597.963 133.163 597.963 129.366 L597.963 114.667 L602.223 114.667 L602.223 140.593 L597.963 140.593 L597.963 136.612 Q596.413 138.973 594.352 140.13 Q592.315 141.264 589.607 141.264 Q585.139 141.264 582.825 138.487 Q580.51 135.709 580.51 130.362 M591.227 114.042 L591.227 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M293.64 1734.12 L2640.76 1734.12 L2640.76 1007.24 L293.64 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip323">
    <rect x="293" y="1007" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,1734.12 360.068,1007.24 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="913.633,1734.12 913.633,1007.24 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1467.2,1734.12 1467.2,1007.24 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2020.76,1734.12 2020.76,1007.24 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2574.33,1734.12 2574.33,1007.24 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1711.57 2640.76,1711.57 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1483.65 2640.76,1483.65 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1255.73 2640.76,1255.73 "></polyline>
<polyline clip-path="url(#clip323)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1734.12 360.068,1715.22 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="913.633,1734.12 913.633,1715.22 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1467.2,1734.12 1467.2,1715.22 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2020.76,1734.12 2020.76,1715.22 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2574.33,1734.12 2574.33,1715.22 "></polyline>
<path clip-path="url(#clip320)" d="M337.452 1767.34 Q333.841 1767.34 332.013 1770.9 Q330.207 1774.45 330.207 1781.58 Q330.207 1788.68 332.013 1792.25 Q333.841 1795.79 337.452 1795.79 Q341.087 1795.79 342.892 1792.25 Q344.721 1788.68 344.721 1781.58 Q344.721 1774.45 342.892 1770.9 Q341.087 1767.34 337.452 1767.34 M337.452 1763.64 Q343.263 1763.64 346.318 1768.24 Q349.397 1772.83 349.397 1781.58 Q349.397 1790.3 346.318 1794.91 Q343.263 1799.49 337.452 1799.49 Q331.642 1799.49 328.564 1794.91 Q325.508 1790.3 325.508 1781.58 Q325.508 1772.83 328.564 1768.24 Q331.642 1763.64 337.452 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M357.614 1792.94 L362.499 1792.94 L362.499 1798.82 L357.614 1798.82 L357.614 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M382.684 1767.34 Q379.073 1767.34 377.244 1770.9 Q375.438 1774.45 375.438 1781.58 Q375.438 1788.68 377.244 1792.25 Q379.073 1795.79 382.684 1795.79 Q386.318 1795.79 388.123 1792.25 Q389.952 1788.68 389.952 1781.58 Q389.952 1774.45 388.123 1770.9 Q386.318 1767.34 382.684 1767.34 M382.684 1763.64 Q388.494 1763.64 391.549 1768.24 Q394.628 1772.83 394.628 1781.58 Q394.628 1790.3 391.549 1794.91 Q388.494 1799.49 382.684 1799.49 Q376.873 1799.49 373.795 1794.91 Q370.739 1790.3 370.739 1781.58 Q370.739 1772.83 373.795 1768.24 Q376.873 1763.64 382.684 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M885.369 1794.89 L901.689 1794.89 L901.689 1798.82 L879.744 1798.82 L879.744 1794.89 Q882.406 1792.13 886.99 1787.5 Q891.596 1782.85 892.777 1781.51 Q895.022 1778.98 895.902 1777.25 Q896.804 1775.49 896.804 1773.8 Q896.804 1771.04 894.86 1769.31 Q892.939 1767.57 889.837 1767.57 Q887.638 1767.57 885.184 1768.34 Q882.754 1769.1 879.976 1770.65 L879.976 1765.93 Q882.8 1764.79 885.254 1764.21 Q887.707 1763.64 889.744 1763.64 Q895.115 1763.64 898.309 1766.32 Q901.503 1769.01 901.503 1773.5 Q901.503 1775.63 900.693 1777.55 Q899.906 1779.45 897.8 1782.04 Q897.221 1782.71 894.119 1785.93 Q891.017 1789.12 885.369 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M911.503 1792.94 L916.388 1792.94 L916.388 1798.82 L911.503 1798.82 L911.503 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M926.619 1764.26 L944.975 1764.26 L944.975 1768.2 L930.901 1768.2 L930.901 1776.67 Q931.92 1776.32 932.938 1776.16 Q933.957 1775.97 934.975 1775.97 Q940.763 1775.97 944.142 1779.15 Q947.522 1782.32 947.522 1787.73 Q947.522 1793.31 944.05 1796.41 Q940.577 1799.49 934.258 1799.49 Q932.082 1799.49 929.813 1799.12 Q927.568 1798.75 925.161 1798.01 L925.161 1793.31 Q927.244 1794.45 929.466 1795 Q931.688 1795.56 934.165 1795.56 Q938.17 1795.56 940.508 1793.45 Q942.846 1791.34 942.846 1787.73 Q942.846 1784.12 940.508 1782.02 Q938.17 1779.91 934.165 1779.91 Q932.29 1779.91 930.415 1780.33 Q928.563 1780.74 926.619 1781.62 L926.619 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1434.36 1764.26 L1452.72 1764.26 L1452.72 1768.2 L1438.64 1768.2 L1438.64 1776.67 Q1439.66 1776.32 1440.68 1776.16 Q1441.7 1775.97 1442.72 1775.97 Q1448.51 1775.97 1451.89 1779.15 Q1455.27 1782.32 1455.27 1787.73 Q1455.27 1793.31 1451.79 1796.41 Q1448.32 1799.49 1442 1799.49 Q1439.83 1799.49 1437.56 1799.12 Q1435.31 1798.75 1432.9 1798.01 L1432.9 1793.31 Q1434.99 1794.45 1437.21 1795 Q1439.43 1795.56 1441.91 1795.56 Q1445.91 1795.56 1448.25 1793.45 Q1450.59 1791.34 1450.59 1787.73 Q1450.59 1784.12 1448.25 1782.02 Q1445.91 1779.91 1441.91 1779.91 Q1440.03 1779.91 1438.16 1780.33 Q1436.31 1780.74 1434.36 1781.62 L1434.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1464.48 1792.94 L1469.36 1792.94 L1469.36 1798.82 L1464.48 1798.82 L1464.48 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1489.55 1767.34 Q1485.94 1767.34 1484.11 1770.9 Q1482.3 1774.45 1482.3 1781.58 Q1482.3 1788.68 1484.11 1792.25 Q1485.94 1795.79 1489.55 1795.79 Q1493.18 1795.79 1494.99 1792.25 Q1496.82 1788.68 1496.82 1781.58 Q1496.82 1774.45 1494.99 1770.9 Q1493.18 1767.34 1489.55 1767.34 M1489.55 1763.64 Q1495.36 1763.64 1498.41 1768.24 Q1501.49 1772.83 1501.49 1781.58 Q1501.49 1790.3 1498.41 1794.91 Q1495.36 1799.49 1489.55 1799.49 Q1483.74 1799.49 1480.66 1794.91 Q1477.6 1790.3 1477.6 1781.58 Q1477.6 1772.83 1480.66 1768.24 Q1483.74 1763.64 1489.55 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1987.08 1764.26 L2009.3 1764.26 L2009.3 1766.25 L1996.76 1798.82 L1991.87 1798.82 L2003.68 1768.2 L1987.08 1768.2 L1987.08 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2018.43 1792.94 L2023.31 1792.94 L2023.31 1798.82 L2018.43 1798.82 L2018.43 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2033.54 1764.26 L2051.9 1764.26 L2051.9 1768.2 L2037.82 1768.2 L2037.82 1776.67 Q2038.84 1776.32 2039.86 1776.16 Q2040.88 1775.97 2041.9 1775.97 Q2047.68 1775.97 2051.06 1779.15 Q2054.44 1782.32 2054.44 1787.73 Q2054.44 1793.31 2050.97 1796.41 Q2047.5 1799.49 2041.18 1799.49 Q2039 1799.49 2036.74 1799.12 Q2034.49 1798.75 2032.08 1798.01 L2032.08 1793.31 Q2034.17 1794.45 2036.39 1795 Q2038.61 1795.56 2041.09 1795.56 Q2045.09 1795.56 2047.43 1793.45 Q2049.77 1791.34 2049.77 1787.73 Q2049.77 1784.12 2047.43 1782.02 Q2045.09 1779.91 2041.09 1779.91 Q2039.21 1779.91 2037.34 1780.33 Q2035.49 1780.74 2033.54 1781.62 L2033.54 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2526.4 1794.89 L2534.04 1794.89 L2534.04 1768.52 L2525.73 1770.19 L2525.73 1765.93 L2533.99 1764.26 L2538.67 1764.26 L2538.67 1794.89 L2546.31 1794.89 L2546.31 1798.82 L2526.4 1798.82 L2526.4 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2565.75 1767.34 Q2562.14 1767.34 2560.31 1770.9 Q2558.51 1774.45 2558.51 1781.58 Q2558.51 1788.68 2560.31 1792.25 Q2562.14 1795.79 2565.75 1795.79 Q2569.39 1795.79 2571.19 1792.25 Q2573.02 1788.68 2573.02 1781.58 Q2573.02 1774.45 2571.19 1770.9 Q2569.39 1767.34 2565.75 1767.34 M2565.75 1763.64 Q2571.56 1763.64 2574.62 1768.24 Q2577.7 1772.83 2577.7 1781.58 Q2577.7 1790.3 2574.62 1794.91 Q2571.56 1799.49 2565.75 1799.49 Q2559.94 1799.49 2556.86 1794.91 Q2553.81 1790.3 2553.81 1781.58 Q2553.81 1772.83 2556.86 1768.24 Q2559.94 1763.64 2565.75 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2585.91 1792.94 L2590.8 1792.94 L2590.8 1798.82 L2585.91 1798.82 L2585.91 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2610.98 1767.34 Q2607.37 1767.34 2605.54 1770.9 Q2603.74 1774.45 2603.74 1781.58 Q2603.74 1788.68 2605.54 1792.25 Q2607.37 1795.79 2610.98 1795.79 Q2614.62 1795.79 2616.42 1792.25 Q2618.25 1788.68 2618.25 1781.58 Q2618.25 1774.45 2616.42 1770.9 Q2614.62 1767.34 2610.98 1767.34 M2610.98 1763.64 Q2616.79 1763.64 2619.85 1768.24 Q2622.93 1772.83 2622.93 1781.58 Q2622.93 1790.3 2619.85 1794.91 Q2616.79 1799.49 2610.98 1799.49 Q2605.17 1799.49 2602.09 1794.91 Q2599.04 1790.3 2599.04 1781.58 Q2599.04 1772.83 2602.09 1768.24 Q2605.17 1763.64 2610.98 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M1451.38 1833.78 L1457.27 1833.78 L1457.27 1863.03 L1474.74 1847.65 L1482.22 1847.65 L1463.31 1864.33 L1483.02 1883.3 L1475.38 1883.3 L1457.27 1865.89 L1457.27 1883.3 L1451.38 1883.3 L1451.38 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 293.64,1007.24 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1711.57 312.538,1711.57 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1483.65 312.538,1483.65 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1255.73 312.538,1255.73 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1027.82 312.538,1027.82 "></polyline>
<path clip-path="url(#clip320)" d="M241.376 1697.37 Q237.765 1697.37 235.936 1700.93 Q234.13 1704.48 234.13 1711.61 Q234.13 1718.71 235.936 1722.28 Q237.765 1725.82 241.376 1725.82 Q245.01 1725.82 246.816 1722.28 Q248.644 1718.71 248.644 1711.61 Q248.644 1704.48 246.816 1700.93 Q245.01 1697.37 241.376 1697.37 M241.376 1693.67 Q247.186 1693.67 250.242 1698.27 Q253.32 1702.86 253.32 1711.61 Q253.32 1720.33 250.242 1724.94 Q247.186 1729.52 241.376 1729.52 Q235.566 1729.52 232.487 1724.94 Q229.431 1720.33 229.431 1711.61 Q229.431 1702.86 232.487 1698.27 Q235.566 1693.67 241.376 1693.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M233.413 1497 L241.052 1497 L241.052 1470.63 L232.742 1472.3 L232.742 1468.04 L241.005 1466.37 L245.681 1466.37 L245.681 1497 L253.32 1497 L253.32 1500.93 L233.413 1500.93 L233.413 1497 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M237.001 1269.08 L253.32 1269.08 L253.32 1273.01 L231.376 1273.01 L231.376 1269.08 Q234.038 1266.32 238.621 1261.69 Q243.228 1257.04 244.408 1255.7 Q246.654 1253.18 247.533 1251.44 Q248.436 1249.68 248.436 1247.99 Q248.436 1245.24 246.492 1243.5 Q244.57 1241.76 241.468 1241.76 Q239.269 1241.76 236.816 1242.53 Q234.385 1243.29 231.607 1244.84 L231.607 1240.12 Q234.431 1238.99 236.885 1238.41 Q239.339 1237.83 241.376 1237.83 Q246.746 1237.83 249.941 1240.51 Q253.135 1243.2 253.135 1247.69 Q253.135 1249.82 252.325 1251.74 Q251.538 1253.64 249.431 1256.23 Q248.853 1256.9 245.751 1260.12 Q242.649 1263.32 237.001 1269.08 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M246.191 1026.46 Q249.547 1027.18 251.422 1029.45 Q253.32 1031.72 253.32 1035.05 Q253.32 1040.17 249.802 1042.97 Q246.283 1045.77 239.802 1045.77 Q237.626 1045.77 235.311 1045.33 Q233.019 1044.91 230.566 1044.05 L230.566 1039.54 Q232.51 1040.67 234.825 1041.25 Q237.14 1041.83 239.663 1041.83 Q244.061 1041.83 246.353 1040.1 Q248.667 1038.36 248.667 1035.05 Q248.667 1031.99 246.515 1030.28 Q244.385 1028.55 240.566 1028.55 L236.538 1028.55 L236.538 1024.7 L240.751 1024.7 Q244.2 1024.7 246.029 1023.34 Q247.857 1021.95 247.857 1019.36 Q247.857 1016.69 245.959 1015.28 Q244.084 1013.85 240.566 1013.85 Q238.644 1013.85 236.445 1014.26 Q234.246 1014.68 231.607 1015.56 L231.607 1011.39 Q234.269 1010.65 236.584 1010.28 Q238.922 1009.91 240.982 1009.91 Q246.306 1009.91 249.408 1012.34 Q252.51 1014.75 252.51 1018.87 Q252.51 1021.74 250.866 1023.73 Q249.223 1025.7 246.191 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M139.207 1354.07 L156.554 1366.96 L174.855 1353.4 L174.855 1360.3 L160.851 1370.68 L174.855 1381.06 L174.855 1387.96 L156.204 1374.12 L139.207 1386.79 L139.207 1379.88 L151.907 1370.43 L139.207 1360.97 L139.207 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip323)" d="M360.068 1467.65 L344.068 1483.65 L360.068 1499.65 L376.068 1483.65 L360.068 1467.65 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M581.494 1566.75 L565.494 1582.75 L581.494 1598.75 L597.494 1582.75 L581.494 1566.75 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M802.92 1677.06 L786.92 1693.06 L802.92 1709.06 L818.92 1693.06 L802.92 1677.06 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1024.35 1696.41 L1008.35 1712.41 L1024.35 1728.41 L1040.35 1712.41 L1024.35 1696.41 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1245.77 1697.55 L1229.77 1713.55 L1245.77 1729.55 L1261.77 1713.55 L1245.77 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1467.2 1696.55 L1451.2 1712.55 L1467.2 1728.55 L1483.2 1712.55 L1467.2 1696.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1688.62 1695.93 L1672.62 1711.93 L1688.62 1727.93 L1704.62 1711.93 L1688.62 1695.93 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1910.05 1695.68 L1894.05 1711.68 L1910.05 1727.68 L1926.05 1711.68 L1910.05 1695.68 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M2131.48 1695.6 L2115.48 1711.6 L2131.48 1727.6 L2147.48 1711.6 L2131.48 1695.6 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M2352.9 1695.58 L2336.9 1711.58 L2352.9 1727.58 L2368.9 1711.58 L2352.9 1695.58 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M2574.33 1695.58 L2558.33 1711.58 L2574.33 1727.58 L2590.33 1711.58 L2574.33 1695.58 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip323)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1483.65 581.494,1483.65 581.494,1582.75 802.92,1582.75 802.92,1693.06 1024.35,1693.06 1024.35,1712.41 1245.77,1712.41 1245.77,1713.55 1467.2,1713.55 1467.2,1712.55 1688.62,1712.55 1688.62,1711.93 1910.05,1711.93 1910.05,1711.68 2131.48,1711.68 2131.48,1711.6 2352.9,1711.6 2352.9,1711.58 2574.33,1711.58 2574.33,1711.58 "></polyline>
<path clip-path="url(#clip323)" d="M360.068 1011.82 L344.068 1027.82 L360.068 1043.82 L376.068 1027.82 L360.068 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M581.494 1322.21 L565.494 1338.21 L581.494 1354.21 L597.494 1338.21 L581.494 1322.21 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M802.92 1512.65 L786.92 1528.65 L802.92 1544.65 L818.92 1528.65 L802.92 1512.65 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1024.35 1629.4 L1008.35 1645.4 L1024.35 1661.4 L1040.35 1645.4 L1024.35 1629.4 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1245.77 1675.59 L1229.77 1691.59 L1245.77 1707.59 L1261.77 1691.59 L1245.77 1675.59 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1467.2 1690.44 L1451.2 1706.44 L1467.2 1722.44 L1483.2 1706.44 L1467.2 1690.44 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1688.62 1694.5 L1672.62 1710.5 L1688.62 1726.5 L1704.62 1710.5 L1688.62 1694.5 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M1910.05 1695.43 L1894.05 1711.43 L1910.05 1727.43 L1926.05 1711.43 L1910.05 1695.43 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M2131.48 1695.59 L2115.48 1711.59 L2131.48 1727.59 L2147.48 1711.59 L2131.48 1695.59 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M2352.9 1695.59 L2336.9 1711.59 L2352.9 1727.59 L2368.9 1711.59 L2352.9 1695.59 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip323)" d="M2574.33 1695.59 L2558.33 1711.59 L2574.33 1727.59 L2590.33 1711.59 L2574.33 1695.59 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip323)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1027.82 581.494,1027.82 581.494,1338.21 802.92,1338.21 802.92,1528.65 1024.35,1528.65 1024.35,1645.4 1245.77,1645.4 1245.77,1691.59 1467.2,1691.59 1467.2,1706.44 1688.62,1706.44 1688.62,1710.5 1910.05,1710.5 1910.05,1711.43 2131.48,1711.43 2131.48,1711.59 2352.9,1711.59 2352.9,1711.59 2574.33,1711.59 2574.33,1711.59 "></polyline>
<path clip-path="url(#clip320)" d="M2284.71 1186.99 L2562.52 1186.99 L2562.52 1031.47 L2284.71 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip320)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2284.71,1186.99 2562.52,1186.99 2562.52,1031.47 2284.71,1031.47 2284.71,1186.99 "></polyline>
<polyline clip-path="url(#clip320)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1083.31 2467.26,1083.31 "></polyline>
<path clip-path="url(#clip320)" d="M2517.99 1074.67 L2508.62 1087.28 L2518.48 1100.59 L2513.45 1100.59 L2505.91 1090.41 L2498.36 1100.59 L2493.34 1100.59 L2503.41 1087.03 L2494.19 1074.67 L2499.22 1074.67 L2506.09 1083.9 L2512.97 1074.67 L2517.99 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2523.64 1098.05 L2528.36 1098.05 L2528.36 1083.9 L2523.2 1084.85 L2523.2 1082.17 L2528.52 1081.26 L2531.69 1081.26 L2531.69 1098.05 L2536.44 1098.05 L2536.44 1100.59 L2523.64 1100.59 L2523.64 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip320)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1135.15 2467.26,1135.15 "></polyline>
<path clip-path="url(#clip320)" d="M2517.99 1126.51 L2508.62 1139.12 L2518.48 1152.43 L2513.45 1152.43 L2505.91 1142.25 L2498.36 1152.43 L2493.34 1152.43 L2503.41 1138.87 L2494.19 1126.51 L2499.22 1126.51 L2506.09 1135.74 L2512.97 1126.51 L2517.99 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip320)" d="M2526.23 1149.79 L2536.05 1149.79 L2536.05 1152.43 L2522.2 1152.43 L2522.2 1149.89 Q2522.99 1149.17 2524.45 1147.87 Q2532.41 1140.81 2532.41 1138.64 Q2532.41 1137.11 2531.21 1136.18 Q2530 1135.23 2528.04 1135.23 Q2526.83 1135.23 2525.42 1135.65 Q2524.01 1136.04 2522.34 1136.85 L2522.34 1134.01 Q2524.12 1133.36 2525.65 1133.04 Q2527.2 1132.71 2528.52 1132.71 Q2531.88 1132.71 2533.89 1134.24 Q2535.91 1135.77 2535.91 1138.27 Q2535.91 1141.48 2528.25 1148.06 Q2526.95 1149.17 2526.23 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
</section>
<section id="sequential-dense-formulation" class="level2">
<h2 class="anchored" data-anchor-id="sequential-dense-formulation">Sequential (dense) formulation</h2>
<p>We can express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span>. This can be done in a straightforward way using (<a href="#eq-linear_system_linear_constraints_matrix_format" class="quarto-xref">Eq.&nbsp;1</a>), namely, <span class="math display">
\bar{\bm x} = (\mathbf I-\overline{\mathbf A})^{-1}\overline{\mathbf B} \bm u + (\mathbf I-\overline{\mathbf A})^{-1} \overline{\mathbf A}_0 \mathbf x_0.
</span></p>
<p>However, instead of solving the sets of equations, we can do this substitution in a more insightful way. Write down the state equation for several discrete times <span class="math display">
\begin{aligned}
\bm x_1 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
\bm x_2 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
     &amp;= \mathbf A(\mathbf A\mathbf x_0 + \mathbf B\bm u_0)+ \mathbf B\bm u_0\\
     &amp;= \mathbf A^2\mathbf x_0 + \mathbf A\mathbf B\bm u_0 + \mathbf B\bm u_0\\
     &amp;\vdots\\
\bm x_k &amp;= \mathbf A^k\mathbf x_0 + \mathbf A^{k-1}\mathbf B\bm u_0 +\mathbf A^{k-2}\mathbf B\bm u_1 +\ldots \mathbf B\bm u_{k-1}.
\end{aligned}
</span></p>
<p>Rewriting into matrix-vector form (and extending the time <span class="math inline">k</span> up to the final time <span class="math inline">N</span>) <span class="math display">
\begin{bmatrix}
\bm x_1\\\bm x_2\\\vdots\\\bm x_N
\end{bmatrix}
=
\underbrace{
\begin{bmatrix}
  \mathbf B &amp; &amp; &amp; \\
  \mathbf A\mathbf B &amp; \mathbf B &amp; &amp; \\
  \vdots &amp; &amp; \ddots &amp;\\
  \mathbf A^{N-1}\mathbf B &amp; \mathbf A^{N-2}\mathbf B &amp; &amp; \mathbf B
\end{bmatrix}}_{\widehat{\mathbf C}}
  \begin{bmatrix}
\bm u_0\\\bm u_1\\\vdots\\\bm u_{N-1}
\end{bmatrix}
+
\underbrace{
  \begin{bmatrix}
\mathbf A\\\mathbf A^2\\\vdots\\\mathbf A^N
\end{bmatrix}}_{\widehat{\mathbf A}}\mathbf x_0.
</span></p>
<p>For convenience, let’s rewrite the compact relation between <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> <span id="eq-x_as_function_of_u_and_x0"><span class="math display">
\bar{\bm x} = \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0.
\tag{2}</span></span></p>
<p>We can now substitute this into the original cost, which then becomes independent of <span class="math inline">\bar{\bm x}</span>, which we reflect formally by using a new name <span class="math inline">\tilde J</span> <span class="math display">
\begin{aligned}
\tilde J(\bar{\bm u};\mathbf x_0) &amp;= \frac{1}{2}(\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0)^\top\overline{\mathbf Q} (\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0) + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} \mathbf x_0 + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})\bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top(\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} + \mathbf Q)\mathbf x_0.
\end{aligned}
</span></p>
<p>The last term (the one independent of <span class="math inline">\bar{\bm u}</span>) does not have an impact on the optimal <span class="math inline">\bar{\bm u}</span> and therefore it can be discarded, but such minor modification perhaps does not justify a new name for the cost function. We write it as <span class="math display">
\tilde J(\bar{\bm u};\mathbf x_0) = \frac{1}{2}\bar{\bm u}^\top\underbrace{(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})}_{\mathbf H}\bar{\bm u} +  \mathbf x_0^\top\underbrace{\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C}}_{\mathbf F^\top} \bar{\bm u}.
</span></p>
<p>This cost is a function of <span class="math inline">\bar{\bm u}</span>, the initial state <span class="math inline">\mathbf x_0</span> is regarded as a fixed parameter. Its gradient is <span class="math display">
\nabla \tilde J = \mathbf H\bar{\bm u}+\mathbf F\mathbf x_0.
</span></p>
<p>Setting it to zero leads to the following linear system of equations <span class="math display">
\mathbf H\bar{\bm u}=-\mathbf F\mathbf x_0
</span> that needs to be solved for <span class="math inline">\bar{\bm u}</span>. Formally, we write the solution as <span class="math display">
\bar{\bm u} = -\mathbf H^{-1} \mathbf F \mathbf x_0.
</span></p>
<div id="exm-direct-sequential" class="theorem example">
<p><span class="theorem-title"><strong>Example 3 (Reformulating the unconstrained LQR problem as a system of linear equations – sequential approach)</strong></span> &nbsp;</p>
<div id="6" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">-H\</span>(F<span class="op">*</span>x₀)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip380">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip380)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip381">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip380)" d="M263.478 774.117 L2640.76 774.117 L2640.76 47.2441 L263.478 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip382">
    <rect x="263" y="47" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,774.117 330.76,47.2441 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="829.141,774.117 829.141,47.2441 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1327.52,774.117 1327.52,47.2441 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1825.9,774.117 1825.9,47.2441 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2324.28,774.117 2324.28,47.2441 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,618.853 2640.76,618.853 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,435.174 2640.76,435.174 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,251.495 2640.76,251.495 "></polyline>
<polyline clip-path="url(#clip382)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,67.8162 2640.76,67.8162 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,774.117 330.76,755.219 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="829.141,774.117 829.141,755.219 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1327.52,774.117 1327.52,755.219 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1825.9,774.117 1825.9,755.219 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2324.28,774.117 2324.28,755.219 "></polyline>
<path clip-path="url(#clip380)" d="M330.76 807.34 Q327.149 807.34 325.32 810.904 Q323.514 814.446 323.514 821.576 Q323.514 828.682 325.32 832.247 Q327.149 835.789 330.76 835.789 Q334.394 835.789 336.2 832.247 Q338.028 828.682 338.028 821.576 Q338.028 814.446 336.2 810.904 Q334.394 807.34 330.76 807.34 M330.76 803.636 Q336.57 803.636 339.625 808.242 Q342.704 812.826 342.704 821.576 Q342.704 830.303 339.625 834.909 Q336.57 839.492 330.76 839.492 Q324.95 839.492 321.871 834.909 Q318.815 830.303 318.815 821.576 Q318.815 812.826 321.871 808.242 Q324.95 803.636 330.76 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M823.794 834.886 L840.113 834.886 L840.113 838.821 L818.169 838.821 L818.169 834.886 Q820.831 832.131 825.414 827.502 Q830.02 822.849 831.201 821.506 Q833.446 818.983 834.326 817.247 Q835.229 815.488 835.229 813.798 Q835.229 811.043 833.284 809.307 Q831.363 807.571 828.261 807.571 Q826.062 807.571 823.608 808.335 Q821.178 809.099 818.4 810.65 L818.4 805.928 Q821.224 804.793 823.678 804.215 Q826.132 803.636 828.169 803.636 Q833.539 803.636 836.733 806.321 Q839.928 809.006 839.928 813.497 Q839.928 815.627 839.118 817.548 Q838.331 819.446 836.224 822.039 Q835.645 822.71 832.544 825.928 Q829.442 829.122 823.794 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1330.53 808.335 L1318.73 826.784 L1330.53 826.784 L1330.53 808.335 M1329.3 804.261 L1335.18 804.261 L1335.18 826.784 L1340.11 826.784 L1340.11 830.673 L1335.18 830.673 L1335.18 838.821 L1330.53 838.821 L1330.53 830.673 L1314.93 830.673 L1314.93 826.159 L1329.3 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1826.31 819.678 Q1823.16 819.678 1821.31 821.83 Q1819.48 823.983 1819.48 827.733 Q1819.48 831.46 1821.31 833.636 Q1823.16 835.789 1826.31 835.789 Q1829.46 835.789 1831.28 833.636 Q1833.14 831.46 1833.14 827.733 Q1833.14 823.983 1831.28 821.83 Q1829.46 819.678 1826.31 819.678 M1835.59 805.025 L1835.59 809.284 Q1833.83 808.451 1832.03 808.011 Q1830.24 807.571 1828.48 807.571 Q1823.85 807.571 1821.4 810.696 Q1818.97 813.821 1818.62 820.141 Q1819.99 818.127 1822.05 817.062 Q1824.11 815.974 1826.59 815.974 Q1831.79 815.974 1834.8 819.145 Q1837.84 822.293 1837.84 827.733 Q1837.84 833.057 1834.69 836.275 Q1831.54 839.492 1826.31 839.492 Q1820.31 839.492 1817.14 834.909 Q1813.97 830.303 1813.97 821.576 Q1813.97 813.381 1817.86 808.52 Q1821.75 803.636 1828.3 803.636 Q1830.06 803.636 1831.84 803.983 Q1833.65 804.33 1835.59 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2324.28 822.409 Q2320.95 822.409 2319.03 824.191 Q2317.13 825.974 2317.13 829.099 Q2317.13 832.224 2319.03 834.006 Q2320.95 835.789 2324.28 835.789 Q2327.62 835.789 2329.54 834.006 Q2331.46 832.201 2331.46 829.099 Q2331.46 825.974 2329.54 824.191 Q2327.64 822.409 2324.28 822.409 M2319.61 820.418 Q2316.6 819.678 2314.91 817.617 Q2313.24 815.557 2313.24 812.594 Q2313.24 808.451 2316.18 806.043 Q2319.15 803.636 2324.28 803.636 Q2329.45 803.636 2332.39 806.043 Q2335.33 808.451 2335.33 812.594 Q2335.33 815.557 2333.64 817.617 Q2331.97 819.678 2328.98 820.418 Q2332.36 821.205 2334.24 823.497 Q2336.14 825.789 2336.14 829.099 Q2336.14 834.122 2333.06 836.807 Q2330 839.492 2324.28 839.492 Q2318.57 839.492 2315.49 836.807 Q2312.43 834.122 2312.43 829.099 Q2312.43 825.789 2314.33 823.497 Q2316.23 821.205 2319.61 820.418 M2317.9 813.034 Q2317.9 815.719 2319.56 817.224 Q2321.25 818.729 2324.28 818.729 Q2327.29 818.729 2328.98 817.224 Q2330.7 815.719 2330.7 813.034 Q2330.7 810.349 2328.98 808.844 Q2327.29 807.34 2324.28 807.34 Q2321.25 807.34 2319.56 808.844 Q2317.9 810.349 2317.9 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1436.3 873.776 L1442.19 873.776 L1442.19 903.026 L1459.66 887.653 L1467.14 887.653 L1448.23 904.331 L1467.94 923.301 L1460.3 923.301 L1442.19 905.891 L1442.19 923.301 L1436.3 923.301 L1436.3 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 263.478,47.2441 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,618.853 282.376,618.853 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,435.174 282.376,435.174 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,251.495 282.376,251.495 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,67.8162 282.376,67.8162 "></polyline>
<path clip-path="url(#clip380)" d="M117.21 619.304 L146.886 619.304 L146.886 623.24 L117.21 623.24 L117.21 619.304 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M157.788 632.198 L165.427 632.198 L165.427 605.832 L157.117 607.499 L157.117 603.24 L165.381 601.573 L170.057 601.573 L170.057 632.198 L177.696 632.198 L177.696 636.133 L157.788 636.133 L157.788 632.198 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M187.14 630.254 L192.024 630.254 L192.024 636.133 L187.14 636.133 L187.14 630.254 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M202.256 601.573 L220.612 601.573 L220.612 605.508 L206.538 605.508 L206.538 613.98 Q207.557 613.633 208.575 613.471 Q209.594 613.286 210.612 613.286 Q216.399 613.286 219.779 616.457 Q223.158 619.629 223.158 625.045 Q223.158 630.624 219.686 633.726 Q216.214 636.804 209.894 636.804 Q207.719 636.804 205.45 636.434 Q203.205 636.064 200.797 635.323 L200.797 630.624 Q202.881 631.758 205.103 632.314 Q207.325 632.869 209.802 632.869 Q213.807 632.869 216.144 630.763 Q218.482 628.656 218.482 625.045 Q218.482 621.434 216.144 619.328 Q213.807 617.221 209.802 617.221 Q207.927 617.221 206.052 617.638 Q204.2 618.054 202.256 618.934 L202.256 601.573 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M116.214 435.626 L145.89 435.626 L145.89 439.561 L116.214 439.561 L116.214 435.626 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M156.793 448.519 L164.432 448.519 L164.432 422.153 L156.122 423.82 L156.122 419.561 L164.385 417.894 L169.061 417.894 L169.061 448.519 L176.7 448.519 L176.7 452.454 L156.793 452.454 L156.793 448.519 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M186.145 446.575 L191.029 446.575 L191.029 452.454 L186.145 452.454 L186.145 446.575 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M211.214 420.973 Q207.603 420.973 205.774 424.538 Q203.969 428.079 203.969 435.209 Q203.969 442.315 205.774 445.88 Q207.603 449.422 211.214 449.422 Q214.848 449.422 216.654 445.88 Q218.482 442.315 218.482 435.209 Q218.482 428.079 216.654 424.538 Q214.848 420.973 211.214 420.973 M211.214 417.269 Q217.024 417.269 220.08 421.876 Q223.158 426.459 223.158 435.209 Q223.158 443.936 220.08 448.542 Q217.024 453.125 211.214 453.125 Q205.404 453.125 202.325 448.542 Q199.27 443.936 199.27 435.209 Q199.27 426.459 202.325 421.876 Q205.404 417.269 211.214 417.269 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M117.21 251.947 L146.886 251.947 L146.886 255.882 L117.21 255.882 L117.21 251.947 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M166.978 237.294 Q163.367 237.294 161.538 240.859 Q159.733 244.4 159.733 251.53 Q159.733 258.636 161.538 262.201 Q163.367 265.743 166.978 265.743 Q170.612 265.743 172.418 262.201 Q174.247 258.636 174.247 251.53 Q174.247 244.4 172.418 240.859 Q170.612 237.294 166.978 237.294 M166.978 233.59 Q172.788 233.59 175.844 238.197 Q178.922 242.78 178.922 251.53 Q178.922 260.257 175.844 264.863 Q172.788 269.446 166.978 269.446 Q161.168 269.446 158.089 264.863 Q155.034 260.257 155.034 251.53 Q155.034 242.78 158.089 238.197 Q161.168 233.59 166.978 233.59 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M187.14 262.896 L192.024 262.896 L192.024 268.775 L187.14 268.775 L187.14 262.896 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M202.256 234.215 L220.612 234.215 L220.612 238.15 L206.538 238.15 L206.538 246.622 Q207.557 246.275 208.575 246.113 Q209.594 245.928 210.612 245.928 Q216.399 245.928 219.779 249.099 Q223.158 252.271 223.158 257.687 Q223.158 263.266 219.686 266.368 Q216.214 269.446 209.894 269.446 Q207.719 269.446 205.45 269.076 Q203.205 268.706 200.797 267.965 L200.797 263.266 Q202.881 264.4 205.103 264.956 Q207.325 265.511 209.802 265.511 Q213.807 265.511 216.144 263.405 Q218.482 261.298 218.482 257.687 Q218.482 254.076 216.144 251.97 Q213.807 249.863 209.802 249.863 Q207.927 249.863 206.052 250.28 Q204.2 250.697 202.256 251.576 L202.256 234.215 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M165.983 53.6149 Q162.372 53.6149 160.543 57.1797 Q158.737 60.7213 158.737 67.8509 Q158.737 74.9573 160.543 78.5221 Q162.372 82.0638 165.983 82.0638 Q169.617 82.0638 171.422 78.5221 Q173.251 74.9573 173.251 67.8509 Q173.251 60.7213 171.422 57.1797 Q169.617 53.6149 165.983 53.6149 M165.983 49.9112 Q171.793 49.9112 174.848 54.5176 Q177.927 59.101 177.927 67.8509 Q177.927 76.5777 174.848 81.1842 Q171.793 85.7675 165.983 85.7675 Q160.173 85.7675 157.094 81.1842 Q154.038 76.5777 154.038 67.8509 Q154.038 59.101 157.094 54.5176 Q160.173 49.9112 165.983 49.9112 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M186.145 79.2166 L191.029 79.2166 L191.029 85.0962 L186.145 85.0962 L186.145 79.2166 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M211.214 53.6149 Q207.603 53.6149 205.774 57.1797 Q203.969 60.7213 203.969 67.8509 Q203.969 74.9573 205.774 78.5221 Q207.603 82.0638 211.214 82.0638 Q214.848 82.0638 216.654 78.5221 Q218.482 74.9573 218.482 67.8509 Q218.482 60.7213 216.654 57.1797 Q214.848 53.6149 211.214 53.6149 M211.214 49.9112 Q217.024 49.9112 220.08 54.5176 Q223.158 59.101 223.158 67.8509 Q223.158 76.5777 220.08 81.1842 Q217.024 85.7675 211.214 85.7675 Q205.404 85.7675 202.325 81.1842 Q199.27 76.5777 199.27 67.8509 Q199.27 59.101 202.325 54.5176 Q205.404 49.9112 211.214 49.9112 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip382)" d="M330.76 737.545 L314.76 753.545 L330.76 769.545 L346.76 753.545 L330.76 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M579.95 231.519 L563.95 247.519 L579.95 263.519 L595.95 247.519 L579.95 231.519 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M829.141 98.4045 L813.141 114.404 L829.141 130.404 L845.141 114.404 L829.141 98.4045 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M1078.33 63.7198 L1062.33 79.7198 L1078.33 95.7198 L1094.33 79.7198 L1078.33 63.7198 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M1327.52 54.7967 L1311.52 70.7967 L1327.52 86.7967 L1343.52 70.7967 L1327.52 54.7967 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M1576.71 52.5408 L1560.71 68.5408 L1576.71 84.5408 L1592.71 68.5408 L1576.71 52.5408 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M1825.9 51.9845 L1809.9 67.9845 L1825.9 83.9845 L1841.9 67.9845 L1825.9 51.9845 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M2075.09 51.8521 L2059.09 67.8521 L2075.09 83.8521 L2091.09 67.8521 L2075.09 51.8521 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M2324.28 51.8222 L2308.28 67.8222 L2324.28 83.8222 L2340.28 67.8222 L2324.28 51.8222 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip382)" d="M2573.47 51.816 L2557.47 67.816 L2573.47 83.816 L2589.47 67.816 L2573.47 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip382)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,753.545 579.95,753.545 579.95,247.519 829.141,247.519 829.141,114.404 1078.33,114.404 1078.33,79.7198 1327.52,79.7198 1327.52,70.7967 1576.71,70.7967 1576.71,68.5408 1825.9,68.5408 1825.9,67.9845 2075.09,67.9845 2075.09,67.8521 2324.28,67.8521 2324.28,67.8222 2573.47,67.8222 2573.47,67.816 "></polyline>
<path clip-path="url(#clip380)" d="M2302.07 749.888 L2561.51 749.888 L2561.51 646.208 L2302.07 646.208  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2302.07,749.888 2561.51,749.888 2561.51,646.208 2302.07,646.208 2302.07,749.888 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.49,698.048 2486.97,698.048 "></polyline>
<path clip-path="url(#clip380)" d="M2513.39 705.096 L2513.39 689.402 L2517.65 689.402 L2517.65 704.934 Q2517.65 708.615 2519.08 710.467 Q2520.52 712.295 2523.39 712.295 Q2526.84 712.295 2528.83 710.096 Q2530.84 707.897 2530.84 704.101 L2530.84 689.402 L2535.1 689.402 L2535.1 715.328 L2530.84 715.328 L2530.84 711.346 Q2529.29 713.708 2527.23 714.865 Q2525.19 715.999 2522.48 715.999 Q2518.02 715.999 2515.7 713.221 Q2513.39 710.444 2513.39 705.096 M2524.1 688.777 L2524.1 688.777 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M263.478 1734.12 L2640.76 1734.12 L2640.76 1007.24 L263.478 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip383">
    <rect x="263" y="1007" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,1734.12 330.76,1007.24 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="891.438,1734.12 891.438,1007.24 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1452.12,1734.12 1452.12,1007.24 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2012.8,1734.12 2012.8,1007.24 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2573.47,1734.12 2573.47,1007.24 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1642.55 2640.76,1642.55 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1437.64 2640.76,1437.64 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1232.73 2640.76,1232.73 "></polyline>
<polyline clip-path="url(#clip383)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1734.12 330.76,1715.22 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="891.438,1734.12 891.438,1715.22 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1452.12,1734.12 1452.12,1715.22 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2012.8,1734.12 2012.8,1715.22 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2573.47,1734.12 2573.47,1715.22 "></polyline>
<path clip-path="url(#clip380)" d="M308.144 1767.34 Q304.533 1767.34 302.704 1770.9 Q300.899 1774.45 300.899 1781.58 Q300.899 1788.68 302.704 1792.25 Q304.533 1795.79 308.144 1795.79 Q311.778 1795.79 313.584 1792.25 Q315.413 1788.68 315.413 1781.58 Q315.413 1774.45 313.584 1770.9 Q311.778 1767.34 308.144 1767.34 M308.144 1763.64 Q313.954 1763.64 317.01 1768.24 Q320.089 1772.83 320.089 1781.58 Q320.089 1790.3 317.01 1794.91 Q313.954 1799.49 308.144 1799.49 Q302.334 1799.49 299.255 1794.91 Q296.2 1790.3 296.2 1781.58 Q296.2 1772.83 299.255 1768.24 Q302.334 1763.64 308.144 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M328.306 1792.94 L333.19 1792.94 L333.19 1798.82 L328.306 1798.82 L328.306 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M353.375 1767.34 Q349.764 1767.34 347.936 1770.9 Q346.13 1774.45 346.13 1781.58 Q346.13 1788.68 347.936 1792.25 Q349.764 1795.79 353.375 1795.79 Q357.01 1795.79 358.815 1792.25 Q360.644 1788.68 360.644 1781.58 Q360.644 1774.45 358.815 1770.9 Q357.01 1767.34 353.375 1767.34 M353.375 1763.64 Q359.186 1763.64 362.241 1768.24 Q365.32 1772.83 365.32 1781.58 Q365.32 1790.3 362.241 1794.91 Q359.186 1799.49 353.375 1799.49 Q347.565 1799.49 344.487 1794.91 Q341.431 1790.3 341.431 1781.58 Q341.431 1772.83 344.487 1768.24 Q347.565 1763.64 353.375 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M863.175 1794.89 L879.494 1794.89 L879.494 1798.82 L857.55 1798.82 L857.55 1794.89 Q860.212 1792.13 864.795 1787.5 Q869.402 1782.85 870.582 1781.51 Q872.827 1778.98 873.707 1777.25 Q874.61 1775.49 874.61 1773.8 Q874.61 1771.04 872.665 1769.31 Q870.744 1767.57 867.642 1767.57 Q865.443 1767.57 862.99 1768.34 Q860.559 1769.1 857.781 1770.65 L857.781 1765.93 Q860.605 1764.79 863.059 1764.21 Q865.513 1763.64 867.55 1763.64 Q872.92 1763.64 876.114 1766.32 Q879.309 1769.01 879.309 1773.5 Q879.309 1775.63 878.499 1777.55 Q877.712 1779.45 875.605 1782.04 Q875.026 1782.71 871.925 1785.93 Q868.823 1789.12 863.175 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M889.309 1792.94 L894.193 1792.94 L894.193 1798.82 L889.309 1798.82 L889.309 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M904.424 1764.26 L922.781 1764.26 L922.781 1768.2 L908.707 1768.2 L908.707 1776.67 Q909.725 1776.32 910.744 1776.16 Q911.762 1775.97 912.781 1775.97 Q918.568 1775.97 921.948 1779.15 Q925.327 1782.32 925.327 1787.73 Q925.327 1793.31 921.855 1796.41 Q918.383 1799.49 912.063 1799.49 Q909.887 1799.49 907.619 1799.12 Q905.374 1798.75 902.966 1798.01 L902.966 1793.31 Q905.049 1794.45 907.272 1795 Q909.494 1795.56 911.971 1795.56 Q915.975 1795.56 918.313 1793.45 Q920.651 1791.34 920.651 1787.73 Q920.651 1784.12 918.313 1782.02 Q915.975 1779.91 911.971 1779.91 Q910.096 1779.91 908.221 1780.33 Q906.369 1780.74 904.424 1781.62 L904.424 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1419.28 1764.26 L1437.64 1764.26 L1437.64 1768.2 L1423.56 1768.2 L1423.56 1776.67 Q1424.58 1776.32 1425.6 1776.16 Q1426.62 1775.97 1427.64 1775.97 Q1433.43 1775.97 1436.8 1779.15 Q1440.18 1782.32 1440.18 1787.73 Q1440.18 1793.31 1436.71 1796.41 Q1433.24 1799.49 1426.92 1799.49 Q1424.74 1799.49 1422.48 1799.12 Q1420.23 1798.75 1417.82 1798.01 L1417.82 1793.31 Q1419.91 1794.45 1422.13 1795 Q1424.35 1795.56 1426.83 1795.56 Q1430.83 1795.56 1433.17 1793.45 Q1435.51 1791.34 1435.51 1787.73 Q1435.51 1784.12 1433.17 1782.02 Q1430.83 1779.91 1426.83 1779.91 Q1424.95 1779.91 1423.08 1780.33 Q1421.23 1780.74 1419.28 1781.62 L1419.28 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1449.4 1792.94 L1454.28 1792.94 L1454.28 1798.82 L1449.4 1798.82 L1449.4 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1474.47 1767.34 Q1470.86 1767.34 1469.03 1770.9 Q1467.22 1774.45 1467.22 1781.58 Q1467.22 1788.68 1469.03 1792.25 Q1470.86 1795.79 1474.47 1795.79 Q1478.1 1795.79 1479.91 1792.25 Q1481.74 1788.68 1481.74 1781.58 Q1481.74 1774.45 1479.91 1770.9 Q1478.1 1767.34 1474.47 1767.34 M1474.47 1763.64 Q1480.28 1763.64 1483.33 1768.24 Q1486.41 1772.83 1486.41 1781.58 Q1486.41 1790.3 1483.33 1794.91 Q1480.28 1799.49 1474.47 1799.49 Q1468.66 1799.49 1465.58 1794.91 Q1462.52 1790.3 1462.52 1781.58 Q1462.52 1772.83 1465.58 1768.24 Q1468.66 1763.64 1474.47 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1979.12 1764.26 L2001.34 1764.26 L2001.34 1766.25 L1988.79 1798.82 L1983.91 1798.82 L1995.71 1768.2 L1979.12 1768.2 L1979.12 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2010.46 1792.94 L2015.34 1792.94 L2015.34 1798.82 L2010.46 1798.82 L2010.46 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2025.57 1764.26 L2043.93 1764.26 L2043.93 1768.2 L2029.86 1768.2 L2029.86 1776.67 Q2030.87 1776.32 2031.89 1776.16 Q2032.91 1775.97 2033.93 1775.97 Q2039.72 1775.97 2043.1 1779.15 Q2046.48 1782.32 2046.48 1787.73 Q2046.48 1793.31 2043 1796.41 Q2039.53 1799.49 2033.21 1799.49 Q2031.04 1799.49 2028.77 1799.12 Q2026.52 1798.75 2024.12 1798.01 L2024.12 1793.31 Q2026.2 1794.45 2028.42 1795 Q2030.64 1795.56 2033.12 1795.56 Q2037.12 1795.56 2039.46 1793.45 Q2041.8 1791.34 2041.8 1787.73 Q2041.8 1784.12 2039.46 1782.02 Q2037.12 1779.91 2033.12 1779.91 Q2031.24 1779.91 2029.37 1780.33 Q2027.52 1780.74 2025.57 1781.62 L2025.57 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2525.55 1794.89 L2533.19 1794.89 L2533.19 1768.52 L2524.88 1770.19 L2524.88 1765.93 L2533.14 1764.26 L2537.81 1764.26 L2537.81 1794.89 L2545.45 1794.89 L2545.45 1798.82 L2525.55 1798.82 L2525.55 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2564.9 1767.34 Q2561.29 1767.34 2559.46 1770.9 Q2557.65 1774.45 2557.65 1781.58 Q2557.65 1788.68 2559.46 1792.25 Q2561.29 1795.79 2564.9 1795.79 Q2568.53 1795.79 2570.34 1792.25 Q2572.17 1788.68 2572.17 1781.58 Q2572.17 1774.45 2570.34 1770.9 Q2568.53 1767.34 2564.9 1767.34 M2564.9 1763.64 Q2570.71 1763.64 2573.76 1768.24 Q2576.84 1772.83 2576.84 1781.58 Q2576.84 1790.3 2573.76 1794.91 Q2570.71 1799.49 2564.9 1799.49 Q2559.09 1799.49 2556.01 1794.91 Q2552.95 1790.3 2552.95 1781.58 Q2552.95 1772.83 2556.01 1768.24 Q2559.09 1763.64 2564.9 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2585.06 1792.94 L2589.94 1792.94 L2589.94 1798.82 L2585.06 1798.82 L2585.06 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2610.13 1767.34 Q2606.52 1767.34 2604.69 1770.9 Q2602.88 1774.45 2602.88 1781.58 Q2602.88 1788.68 2604.69 1792.25 Q2606.52 1795.79 2610.13 1795.79 Q2613.76 1795.79 2615.57 1792.25 Q2617.4 1788.68 2617.4 1781.58 Q2617.4 1774.45 2615.57 1770.9 Q2613.76 1767.34 2610.13 1767.34 M2610.13 1763.64 Q2615.94 1763.64 2619 1768.24 Q2622.07 1772.83 2622.07 1781.58 Q2622.07 1790.3 2619 1794.91 Q2615.94 1799.49 2610.13 1799.49 Q2604.32 1799.49 2601.24 1794.91 Q2598.18 1790.3 2598.18 1781.58 Q2598.18 1772.83 2601.24 1768.24 Q2604.32 1763.64 2610.13 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M1436.3 1833.78 L1442.19 1833.78 L1442.19 1863.03 L1459.66 1847.65 L1467.14 1847.65 L1448.23 1864.33 L1467.94 1883.3 L1460.3 1883.3 L1442.19 1865.89 L1442.19 1883.3 L1436.3 1883.3 L1436.3 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 263.478,1007.24 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1642.55 282.376,1642.55 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1437.64 282.376,1437.64 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1232.73 282.376,1232.73 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1027.82 282.376,1027.82 "></polyline>
<path clip-path="url(#clip380)" d="M211.214 1628.35 Q207.603 1628.35 205.774 1631.91 Q203.969 1635.45 203.969 1642.58 Q203.969 1649.69 205.774 1653.25 Q207.603 1656.79 211.214 1656.79 Q214.848 1656.79 216.654 1653.25 Q218.482 1649.69 218.482 1642.58 Q218.482 1635.45 216.654 1631.91 Q214.848 1628.35 211.214 1628.35 M211.214 1624.64 Q217.024 1624.64 220.08 1629.25 Q223.158 1633.83 223.158 1642.58 Q223.158 1651.31 220.08 1655.91 Q217.024 1660.5 211.214 1660.5 Q205.404 1660.5 202.325 1655.91 Q199.27 1651.31 199.27 1642.58 Q199.27 1633.83 202.325 1629.25 Q205.404 1624.64 211.214 1624.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M203.251 1450.98 L210.89 1450.98 L210.89 1424.62 L202.58 1426.28 L202.58 1422.02 L210.844 1420.36 L215.519 1420.36 L215.519 1450.98 L223.158 1450.98 L223.158 1454.92 L203.251 1454.92 L203.251 1450.98 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M206.839 1246.07 L223.158 1246.07 L223.158 1250.01 L201.214 1250.01 L201.214 1246.07 Q203.876 1243.32 208.459 1238.69 Q213.066 1234.03 214.246 1232.69 Q216.492 1230.17 217.371 1228.43 Q218.274 1226.67 218.274 1224.98 Q218.274 1222.23 216.33 1220.49 Q214.408 1218.76 211.307 1218.76 Q209.107 1218.76 206.654 1219.52 Q204.223 1220.28 201.445 1221.84 L201.445 1217.11 Q204.27 1215.98 206.723 1215.4 Q209.177 1214.82 211.214 1214.82 Q216.584 1214.82 219.779 1217.51 Q222.973 1220.19 222.973 1224.68 Q222.973 1226.81 222.163 1228.73 Q221.376 1230.63 219.269 1233.22 Q218.691 1233.9 215.589 1237.11 Q212.487 1240.31 206.839 1246.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M216.029 1026.46 Q219.385 1027.18 221.26 1029.45 Q223.158 1031.72 223.158 1035.05 Q223.158 1040.17 219.64 1042.97 Q216.121 1045.77 209.64 1045.77 Q207.464 1045.77 205.149 1045.33 Q202.857 1044.91 200.404 1044.05 L200.404 1039.54 Q202.348 1040.67 204.663 1041.25 Q206.978 1041.83 209.501 1041.83 Q213.899 1041.83 216.191 1040.1 Q218.506 1038.36 218.506 1035.05 Q218.506 1031.99 216.353 1030.28 Q214.223 1028.55 210.404 1028.55 L206.376 1028.55 L206.376 1024.7 L210.589 1024.7 Q214.038 1024.7 215.867 1023.34 Q217.695 1021.95 217.695 1019.36 Q217.695 1016.69 215.797 1015.28 Q213.922 1013.85 210.404 1013.85 Q208.482 1013.85 206.283 1014.26 Q204.084 1014.68 201.445 1015.56 L201.445 1011.39 Q204.107 1010.65 206.422 1010.28 Q208.76 1009.91 210.82 1009.91 Q216.144 1009.91 219.246 1012.34 Q222.348 1014.75 222.348 1018.87 Q222.348 1021.74 220.705 1023.73 Q219.061 1025.7 216.029 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M109.046 1354.07 L126.392 1366.96 L144.694 1353.4 L144.694 1360.3 L130.689 1370.68 L144.694 1381.06 L144.694 1387.96 L126.042 1374.12 L109.046 1386.79 L109.046 1379.88 L121.745 1370.43 L109.046 1360.97 L109.046 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip383)" d="M330.76 1421.64 L314.76 1437.64 L330.76 1453.64 L346.76 1437.64 L330.76 1421.64 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M555.031 1697.55 L539.031 1713.55 L555.031 1729.55 L571.031 1713.55 L555.031 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M779.303 1688.03 L763.303 1704.03 L779.303 1720.03 L795.303 1704.03 L779.303 1688.03 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1003.57 1657.3 L987.574 1673.3 L1003.57 1689.3 L1019.57 1673.3 L1003.57 1657.3 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1227.85 1639.58 L1211.85 1655.58 L1227.85 1671.58 L1243.85 1655.58 L1227.85 1639.58 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1452.12 1631.64 L1436.12 1647.64 L1452.12 1663.64 L1468.12 1647.64 L1452.12 1631.64 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1676.39 1628.45 L1660.39 1644.45 L1676.39 1660.45 L1692.39 1644.45 L1676.39 1628.45 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1900.66 1627.24 L1884.66 1643.24 L1900.66 1659.24 L1916.66 1643.24 L1900.66 1627.24 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M2124.93 1626.79 L2108.93 1642.79 L2124.93 1658.79 L2140.93 1642.79 L2124.93 1626.79 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M2349.2 1626.63 L2333.2 1642.63 L2349.2 1658.63 L2365.2 1642.63 L2349.2 1626.63 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M2573.47 1626.58 L2557.47 1642.58 L2573.47 1658.58 L2589.47 1642.58 L2573.47 1626.58 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip383)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1437.64 555.031,1437.64 555.031,1713.55 779.303,1713.55 779.303,1704.03 1003.57,1704.03 1003.57,1673.3 1227.85,1673.3 1227.85,1655.58 1452.12,1655.58 1452.12,1647.64 1676.39,1647.64 1676.39,1644.45 1900.66,1644.45 1900.66,1643.24 2124.93,1643.24 2124.93,1642.79 2349.2,1642.79 2349.2,1642.63 2573.47,1642.63 2573.47,1642.58 "></polyline>
<path clip-path="url(#clip383)" d="M330.76 1011.82 L314.76 1027.82 L330.76 1043.82 L346.76 1027.82 L330.76 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M555.031 1432.64 L539.031 1448.64 L555.031 1464.64 L571.031 1448.64 L555.031 1432.64 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M779.303 1564.94 L763.303 1580.94 L779.303 1596.94 L795.303 1580.94 L779.303 1564.94 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1003.57 1606.85 L987.574 1622.85 L1003.57 1638.85 L1019.57 1622.85 L1003.57 1606.85 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1227.85 1620.21 L1211.85 1636.21 L1227.85 1652.21 L1243.85 1636.21 L1227.85 1620.21 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1452.12 1624.5 L1436.12 1640.5 L1452.12 1656.5 L1468.12 1640.5 L1452.12 1624.5 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1676.39 1625.88 L1660.39 1641.88 L1676.39 1657.88 L1692.39 1641.88 L1676.39 1625.88 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M1900.66 1626.33 L1884.66 1642.33 L1900.66 1658.33 L1916.66 1642.33 L1900.66 1626.33 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M2124.93 1626.48 L2108.93 1642.48 L2124.93 1658.48 L2140.93 1642.48 L2124.93 1626.48 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M2349.2 1626.52 L2333.2 1642.52 L2349.2 1658.52 L2365.2 1642.52 L2349.2 1626.52 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip383)" d="M2573.47 1626.54 L2557.47 1642.54 L2573.47 1658.54 L2589.47 1642.54 L2573.47 1626.54 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip383)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1027.82 555.031,1027.82 555.031,1448.64 779.303,1448.64 779.303,1580.94 1003.57,1580.94 1003.57,1622.85 1227.85,1622.85 1227.85,1636.21 1452.12,1636.21 1452.12,1640.5 1676.39,1640.5 1676.39,1641.88 1900.66,1641.88 1900.66,1642.33 2124.93,1642.33 2124.93,1642.48 2349.2,1642.48 2349.2,1642.52 2573.47,1642.52 2573.47,1642.54 "></polyline>
<path clip-path="url(#clip380)" d="M2280.68 1186.99 L2561.51 1186.99 L2561.51 1031.47 L2280.68 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip380)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2280.68,1186.99 2561.51,1186.99 2561.51,1031.47 2280.68,1031.47 2280.68,1186.99 "></polyline>
<polyline clip-path="url(#clip380)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1083.31 2465.58,1083.31 "></polyline>
<path clip-path="url(#clip380)" d="M2516.65 1074.67 L2507.28 1087.28 L2517.14 1100.59 L2512.11 1100.59 L2504.57 1090.41 L2497.02 1100.59 L2492 1100.59 L2502.07 1087.03 L2492.85 1074.67 L2497.88 1074.67 L2504.75 1083.9 L2511.63 1074.67 L2516.65 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2522.3 1098.05 L2527.02 1098.05 L2527.02 1083.9 L2521.86 1084.85 L2521.86 1082.17 L2527.18 1081.26 L2530.35 1081.26 L2530.35 1098.05 L2535.1 1098.05 L2535.1 1100.59 L2522.3 1100.59 L2522.3 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip380)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1135.15 2465.58,1135.15 "></polyline>
<path clip-path="url(#clip380)" d="M2516.65 1126.51 L2507.28 1139.12 L2517.14 1152.43 L2512.11 1152.43 L2504.57 1142.25 L2497.02 1152.43 L2492 1152.43 L2502.07 1138.87 L2492.85 1126.51 L2497.88 1126.51 L2504.75 1135.74 L2511.63 1126.51 L2516.65 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip380)" d="M2524.89 1149.79 L2534.71 1149.79 L2534.71 1152.43 L2520.86 1152.43 L2520.86 1149.89 Q2521.65 1149.17 2523.11 1147.87 Q2531.07 1140.81 2531.07 1138.64 Q2531.07 1137.11 2529.87 1136.18 Q2528.66 1135.23 2526.7 1135.23 Q2525.49 1135.23 2524.08 1135.65 Q2522.67 1136.04 2521 1136.85 L2521 1134.01 Q2522.78 1133.36 2524.31 1133.04 Q2525.86 1132.71 2527.18 1132.71 Q2530.54 1132.71 2532.55 1134.24 Q2534.57 1135.77 2534.57 1138.27 Q2534.57 1141.48 2526.9 1148.06 Q2525.61 1149.17 2524.89 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-the-constraints-on-controls" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-controls">Adding the constraints on controls</h3>
<p>Adding constraints on <span class="math inline">\bar{\bm u}</span> is straightforward. It is just that instead of a linear system we will have a linear system with additional inequality constraints. Let’s get one <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp;\quad \bar{\bm u} \leq \bar{\mathbf u}^\mathrm{max}\\
               &amp;\quad \bar{\bm u} \geq \bar{\mathbf u}^\mathrm{min},
\end{aligned}
</span> which we can rewrite more explicitly (in the matrix-vector format) as <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp; \begin{bmatrix}
                  \mathbf{I}  &amp;    &amp;         &amp;    \\
                    &amp; \mathbf{I}  &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  \mathbf{I} \\
                    -\mathbf{I}   &amp;   &amp;     &amp;    \\
                    &amp; -\mathbf{I} &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  -\mathbf{I}
                 \end{bmatrix}
                 \begin{bmatrix}
                  \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1}
                 \end{bmatrix}
                 \leq
                 \begin{bmatrix}
                  \mathbf u^\mathbf{max} \\ \mathbf u^\mathrm{max} \\ \vdots \\ \mathbf u^\mathrm{max}\\ -\mathbf u^\mathrm{min} \\ -\mathbf u^\mathrm{min} \\ \vdots \\ -\mathbf u^\mathrm{min}
                 \end{bmatrix}.
\end{aligned}
</span></p>
<div id="exm-direct-sequential-constrained-u" class="theorem example">
<p><span class="theorem-title"><strong>Example 4 (Reformulating the LQR problem with constraints on control as a quadratic program – sequential approach)</strong></span> &nbsp;</p>
<div id="8" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">Model</span>()</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@variable</span>(prob, u[<span class="fl">1</span><span class="op">:</span>N<span class="op">*</span>m])</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@objective</span>(prob, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(u,H,u) <span class="op">+</span> <span class="fu">dot</span>(F<span class="op">*</span>x₀,u))</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&gt;=</span> umin)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&lt;=</span> umax)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_silent</span>(prob)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_optimizer</span>(prob, OSQP.Optimizer)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">optimize!</span>(prob)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a><span class="co">#=     u = Variable(N*m)</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="co">    problem = minimize(1/2*quadform(u,H) + dot(F*x₀,u))</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="co">    problem.constraints = [u &gt;= umin, u &lt;= umax]</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="co">    Convex.solve!(problem, SCS.Optimizer; silent = true)</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = Ĉ*u.value + Â*x₀</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = reshape(xopt,(2,:))</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="co">    uopt = u.value =#</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip440">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip440)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip441">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip440)" d="M293.64 774.117 L2640.76 774.117 L2640.76 47.2441 L293.64 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip442">
    <rect x="293" y="47" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,774.117 360.068,47.2441 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="852.126,774.117 852.126,47.2441 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1344.18,774.117 1344.18,47.2441 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1836.24,774.117 1836.24,47.2441 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2328.3,774.117 2328.3,47.2441 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,752.997 2640.76,752.997 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,580.974 2640.76,580.974 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,408.951 2640.76,408.951 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,236.927 2640.76,236.927 "></polyline>
<polyline clip-path="url(#clip442)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,64.904 2640.76,64.904 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,774.117 360.068,755.219 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="852.126,774.117 852.126,755.219 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1344.18,774.117 1344.18,755.219 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1836.24,774.117 1836.24,755.219 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.3,774.117 2328.3,755.219 "></polyline>
<path clip-path="url(#clip440)" d="M360.068 807.34 Q356.457 807.34 354.628 810.904 Q352.823 814.446 352.823 821.576 Q352.823 828.682 354.628 832.247 Q356.457 835.789 360.068 835.789 Q363.702 835.789 365.508 832.247 Q367.336 828.682 367.336 821.576 Q367.336 814.446 365.508 810.904 Q363.702 807.34 360.068 807.34 M360.068 803.636 Q365.878 803.636 368.934 808.242 Q372.012 812.826 372.012 821.576 Q372.012 830.303 368.934 834.909 Q365.878 839.492 360.068 839.492 Q354.258 839.492 351.179 834.909 Q348.124 830.303 348.124 821.576 Q348.124 812.826 351.179 808.242 Q354.258 803.636 360.068 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M846.779 834.886 L863.098 834.886 L863.098 838.821 L841.154 838.821 L841.154 834.886 Q843.816 832.131 848.399 827.502 Q853.005 822.849 854.186 821.506 Q856.431 818.983 857.311 817.247 Q858.214 815.488 858.214 813.798 Q858.214 811.043 856.269 809.307 Q854.348 807.571 851.246 807.571 Q849.047 807.571 846.593 808.335 Q844.163 809.099 841.385 810.65 L841.385 805.928 Q844.209 804.793 846.663 804.215 Q849.117 803.636 851.154 803.636 Q856.524 803.636 859.718 806.321 Q862.913 809.006 862.913 813.497 Q862.913 815.627 862.103 817.548 Q861.316 819.446 859.209 822.039 Q858.63 822.71 855.529 825.928 Q852.427 829.122 846.779 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1347.19 808.335 L1335.39 826.784 L1347.19 826.784 L1347.19 808.335 M1345.97 804.261 L1351.85 804.261 L1351.85 826.784 L1356.78 826.784 L1356.78 830.673 L1351.85 830.673 L1351.85 838.821 L1347.19 838.821 L1347.19 830.673 L1331.59 830.673 L1331.59 826.159 L1345.97 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1836.65 819.678 Q1833.5 819.678 1831.65 821.83 Q1829.82 823.983 1829.82 827.733 Q1829.82 831.46 1831.65 833.636 Q1833.5 835.789 1836.65 835.789 Q1839.79 835.789 1841.62 833.636 Q1843.48 831.46 1843.48 827.733 Q1843.48 823.983 1841.62 821.83 Q1839.79 819.678 1836.65 819.678 M1845.93 805.025 L1845.93 809.284 Q1844.17 808.451 1842.36 808.011 Q1840.58 807.571 1838.82 807.571 Q1834.19 807.571 1831.74 810.696 Q1829.31 813.821 1828.96 820.141 Q1830.33 818.127 1832.39 817.062 Q1834.45 815.974 1836.92 815.974 Q1842.13 815.974 1845.14 819.145 Q1848.17 822.293 1848.17 827.733 Q1848.17 833.057 1845.03 836.275 Q1841.88 839.492 1836.65 839.492 Q1830.65 839.492 1827.48 834.909 Q1824.31 830.303 1824.31 821.576 Q1824.31 813.381 1828.2 808.52 Q1832.09 803.636 1838.64 803.636 Q1840.4 803.636 1842.18 803.983 Q1843.98 804.33 1845.93 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2328.3 822.409 Q2324.97 822.409 2323.04 824.191 Q2321.15 825.974 2321.15 829.099 Q2321.15 832.224 2323.04 834.006 Q2324.97 835.789 2328.3 835.789 Q2331.63 835.789 2333.55 834.006 Q2335.48 832.201 2335.48 829.099 Q2335.48 825.974 2333.55 824.191 Q2331.66 822.409 2328.3 822.409 M2323.62 820.418 Q2320.61 819.678 2318.92 817.617 Q2317.26 815.557 2317.26 812.594 Q2317.26 808.451 2320.2 806.043 Q2323.16 803.636 2328.3 803.636 Q2333.46 803.636 2336.4 806.043 Q2339.34 808.451 2339.34 812.594 Q2339.34 815.557 2337.65 817.617 Q2335.98 819.678 2333 820.418 Q2336.38 821.205 2338.25 823.497 Q2340.15 825.789 2340.15 829.099 Q2340.15 834.122 2337.07 836.807 Q2334.02 839.492 2328.3 839.492 Q2322.58 839.492 2319.5 836.807 Q2316.45 834.122 2316.45 829.099 Q2316.45 825.789 2318.35 823.497 Q2320.24 821.205 2323.62 820.418 M2321.91 813.034 Q2321.91 815.719 2323.58 817.224 Q2325.27 818.729 2328.3 818.729 Q2331.31 818.729 2333 817.224 Q2334.71 815.719 2334.71 813.034 Q2334.71 810.349 2333 808.844 Q2331.31 807.34 2328.3 807.34 Q2325.27 807.34 2323.58 808.844 Q2321.91 810.349 2321.91 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1451.38 873.776 L1457.27 873.776 L1457.27 903.026 L1474.74 887.653 L1482.22 887.653 L1463.31 904.331 L1483.02 923.301 L1475.38 923.301 L1457.27 905.891 L1457.27 923.301 L1451.38 923.301 L1451.38 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 293.64,47.2441 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,752.997 312.538,752.997 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,580.974 312.538,580.974 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,408.951 312.538,408.951 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,236.927 312.538,236.927 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,64.904 312.538,64.904 "></polyline>
<path clip-path="url(#clip440)" d="M116.214 753.449 L145.89 753.449 L145.89 757.384 L116.214 757.384 L116.214 753.449 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M156.793 766.342 L164.432 766.342 L164.432 739.977 L156.122 741.643 L156.122 737.384 L164.385 735.717 L169.061 735.717 L169.061 766.342 L176.7 766.342 L176.7 770.277 L156.793 770.277 L156.793 766.342 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M186.145 764.398 L191.029 764.398 L191.029 770.277 L186.145 770.277 L186.145 764.398 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M211.214 738.796 Q207.603 738.796 205.774 742.361 Q203.969 745.903 203.969 753.032 Q203.969 760.139 205.774 763.703 Q207.603 767.245 211.214 767.245 Q214.848 767.245 216.654 763.703 Q218.482 760.139 218.482 753.032 Q218.482 745.903 216.654 742.361 Q214.848 738.796 211.214 738.796 M211.214 735.092 Q217.024 735.092 220.08 739.699 Q223.158 744.282 223.158 753.032 Q223.158 761.759 220.08 766.365 Q217.024 770.949 211.214 770.949 Q205.404 770.949 202.325 766.365 Q199.27 761.759 199.27 753.032 Q199.27 744.282 202.325 739.699 Q205.404 735.092 211.214 735.092 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M241.376 738.796 Q237.765 738.796 235.936 742.361 Q234.13 745.903 234.13 753.032 Q234.13 760.139 235.936 763.703 Q237.765 767.245 241.376 767.245 Q245.01 767.245 246.816 763.703 Q248.644 760.139 248.644 753.032 Q248.644 745.903 246.816 742.361 Q245.01 738.796 241.376 738.796 M241.376 735.092 Q247.186 735.092 250.242 739.699 Q253.32 744.282 253.32 753.032 Q253.32 761.759 250.242 766.365 Q247.186 770.949 241.376 770.949 Q235.566 770.949 232.487 766.365 Q229.431 761.759 229.431 753.032 Q229.431 744.282 232.487 739.699 Q235.566 735.092 241.376 735.092 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M117.21 581.425 L146.886 581.425 L146.886 585.361 L117.21 585.361 L117.21 581.425 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M166.978 566.773 Q163.367 566.773 161.538 570.338 Q159.733 573.879 159.733 581.009 Q159.733 588.115 161.538 591.68 Q163.367 595.222 166.978 595.222 Q170.612 595.222 172.418 591.68 Q174.247 588.115 174.247 581.009 Q174.247 573.879 172.418 570.338 Q170.612 566.773 166.978 566.773 M166.978 563.069 Q172.788 563.069 175.844 567.676 Q178.922 572.259 178.922 581.009 Q178.922 589.736 175.844 594.342 Q172.788 598.925 166.978 598.925 Q161.168 598.925 158.089 594.342 Q155.034 589.736 155.034 581.009 Q155.034 572.259 158.089 567.676 Q161.168 563.069 166.978 563.069 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M187.14 592.374 L192.024 592.374 L192.024 598.254 L187.14 598.254 L187.14 592.374 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M201.029 563.694 L223.251 563.694 L223.251 565.685 L210.705 598.254 L205.82 598.254 L217.626 567.629 L201.029 567.629 L201.029 563.694 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M232.418 563.694 L250.774 563.694 L250.774 567.629 L236.7 567.629 L236.7 576.101 Q237.718 575.754 238.737 575.592 Q239.755 575.407 240.774 575.407 Q246.561 575.407 249.941 578.578 Q253.32 581.75 253.32 587.166 Q253.32 592.745 249.848 595.847 Q246.376 598.925 240.056 598.925 Q237.88 598.925 235.612 598.555 Q233.367 598.185 230.959 597.444 L230.959 592.745 Q233.043 593.879 235.265 594.435 Q237.487 594.99 239.964 594.99 Q243.968 594.99 246.306 592.884 Q248.644 590.777 248.644 587.166 Q248.644 583.555 246.306 581.449 Q243.968 579.342 239.964 579.342 Q238.089 579.342 236.214 579.759 Q234.362 580.175 232.418 581.055 L232.418 563.694 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M116.214 409.402 L145.89 409.402 L145.89 413.337 L116.214 413.337 L116.214 409.402 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M165.983 394.749 Q162.372 394.749 160.543 398.314 Q158.737 401.856 158.737 408.985 Q158.737 416.092 160.543 419.657 Q162.372 423.198 165.983 423.198 Q169.617 423.198 171.422 419.657 Q173.251 416.092 173.251 408.985 Q173.251 401.856 171.422 398.314 Q169.617 394.749 165.983 394.749 M165.983 391.046 Q171.793 391.046 174.848 395.652 Q177.927 400.236 177.927 408.985 Q177.927 417.712 174.848 422.319 Q171.793 426.902 165.983 426.902 Q160.173 426.902 157.094 422.319 Q154.038 417.712 154.038 408.985 Q154.038 400.236 157.094 395.652 Q160.173 391.046 165.983 391.046 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M186.145 420.351 L191.029 420.351 L191.029 426.231 L186.145 426.231 L186.145 420.351 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M201.26 391.671 L219.617 391.671 L219.617 395.606 L205.543 395.606 L205.543 404.078 Q206.561 403.731 207.58 403.569 Q208.598 403.384 209.617 403.384 Q215.404 403.384 218.783 406.555 Q222.163 409.726 222.163 415.143 Q222.163 420.722 218.691 423.823 Q215.219 426.902 208.899 426.902 Q206.723 426.902 204.455 426.532 Q202.209 426.161 199.802 425.421 L199.802 420.722 Q201.885 421.856 204.107 422.411 Q206.33 422.967 208.807 422.967 Q212.811 422.967 215.149 420.86 Q217.487 418.754 217.487 415.143 Q217.487 411.532 215.149 409.425 Q212.811 407.319 208.807 407.319 Q206.932 407.319 205.057 407.735 Q203.205 408.152 201.26 409.032 L201.26 391.671 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M241.376 394.749 Q237.765 394.749 235.936 398.314 Q234.13 401.856 234.13 408.985 Q234.13 416.092 235.936 419.657 Q237.765 423.198 241.376 423.198 Q245.01 423.198 246.816 419.657 Q248.644 416.092 248.644 408.985 Q248.644 401.856 246.816 398.314 Q245.01 394.749 241.376 394.749 M241.376 391.046 Q247.186 391.046 250.242 395.652 Q253.32 400.236 253.32 408.985 Q253.32 417.712 250.242 422.319 Q247.186 426.902 241.376 426.902 Q235.566 426.902 232.487 422.319 Q229.431 417.712 229.431 408.985 Q229.431 400.236 232.487 395.652 Q235.566 391.046 241.376 391.046 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M117.21 237.379 L146.886 237.379 L146.886 241.314 L117.21 241.314 L117.21 237.379 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M166.978 222.726 Q163.367 222.726 161.538 226.291 Q159.733 229.833 159.733 236.962 Q159.733 244.069 161.538 247.633 Q163.367 251.175 166.978 251.175 Q170.612 251.175 172.418 247.633 Q174.247 244.069 174.247 236.962 Q174.247 229.833 172.418 226.291 Q170.612 222.726 166.978 222.726 M166.978 219.022 Q172.788 219.022 175.844 223.629 Q178.922 228.212 178.922 236.962 Q178.922 245.689 175.844 250.295 Q172.788 254.879 166.978 254.879 Q161.168 254.879 158.089 250.295 Q155.034 245.689 155.034 236.962 Q155.034 228.212 158.089 223.629 Q161.168 219.022 166.978 219.022 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M187.14 248.328 L192.024 248.328 L192.024 254.207 L187.14 254.207 L187.14 248.328 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M206.237 250.272 L222.556 250.272 L222.556 254.207 L200.612 254.207 L200.612 250.272 Q203.274 247.518 207.857 242.888 Q212.464 238.235 213.644 236.893 Q215.89 234.37 216.769 232.633 Q217.672 230.874 217.672 229.184 Q217.672 226.43 215.728 224.694 Q213.807 222.958 210.705 222.958 Q208.506 222.958 206.052 223.721 Q203.621 224.485 200.844 226.036 L200.844 221.314 Q203.668 220.18 206.121 219.601 Q208.575 219.022 210.612 219.022 Q215.982 219.022 219.177 221.708 Q222.371 224.393 222.371 228.883 Q222.371 231.013 221.561 232.934 Q220.774 234.832 218.668 237.425 Q218.089 238.096 214.987 241.314 Q211.885 244.508 206.237 250.272 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M232.418 219.647 L250.774 219.647 L250.774 223.583 L236.7 223.583 L236.7 232.055 Q237.718 231.708 238.737 231.545 Q239.755 231.36 240.774 231.36 Q246.561 231.36 249.941 234.532 Q253.32 237.703 253.32 243.119 Q253.32 248.698 249.848 251.8 Q246.376 254.879 240.056 254.879 Q237.88 254.879 235.612 254.508 Q233.367 254.138 230.959 253.397 L230.959 248.698 Q233.043 249.832 235.265 250.388 Q237.487 250.944 239.964 250.944 Q243.968 250.944 246.306 248.837 Q248.644 246.731 248.644 243.119 Q248.644 239.508 246.306 237.402 Q243.968 235.295 239.964 235.295 Q238.089 235.295 236.214 235.712 Q234.362 236.129 232.418 237.008 L232.418 219.647 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M165.983 50.7027 Q162.372 50.7027 160.543 54.2675 Q158.737 57.8092 158.737 64.9388 Q158.737 72.0452 160.543 75.61 Q162.372 79.1517 165.983 79.1517 Q169.617 79.1517 171.422 75.61 Q173.251 72.0452 173.251 64.9388 Q173.251 57.8092 171.422 54.2675 Q169.617 50.7027 165.983 50.7027 M165.983 46.999 Q171.793 46.999 174.848 51.6055 Q177.927 56.1888 177.927 64.9388 Q177.927 73.6656 174.848 78.272 Q171.793 82.8553 165.983 82.8553 Q160.173 82.8553 157.094 78.272 Q154.038 73.6656 154.038 64.9388 Q154.038 56.1888 157.094 51.6055 Q160.173 46.999 165.983 46.999 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M186.145 76.3044 L191.029 76.3044 L191.029 82.184 L186.145 82.184 L186.145 76.3044 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M211.214 50.7027 Q207.603 50.7027 205.774 54.2675 Q203.969 57.8092 203.969 64.9388 Q203.969 72.0452 205.774 75.61 Q207.603 79.1517 211.214 79.1517 Q214.848 79.1517 216.654 75.61 Q218.482 72.0452 218.482 64.9388 Q218.482 57.8092 216.654 54.2675 Q214.848 50.7027 211.214 50.7027 M211.214 46.999 Q217.024 46.999 220.08 51.6055 Q223.158 56.1888 223.158 64.9388 Q223.158 73.6656 220.08 78.272 Q217.024 82.8553 211.214 82.8553 Q205.404 82.8553 202.325 78.272 Q199.27 73.6656 199.27 64.9388 Q199.27 56.1888 202.325 51.6055 Q205.404 46.999 211.214 46.999 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M241.376 50.7027 Q237.765 50.7027 235.936 54.2675 Q234.13 57.8092 234.13 64.9388 Q234.13 72.0452 235.936 75.61 Q237.765 79.1517 241.376 79.1517 Q245.01 79.1517 246.816 75.61 Q248.644 72.0452 248.644 64.9388 Q248.644 57.8092 246.816 54.2675 Q245.01 50.7027 241.376 50.7027 M241.376 46.999 Q247.186 46.999 250.242 51.6055 Q253.32 56.1888 253.32 64.9388 Q253.32 73.6656 250.242 78.272 Q247.186 82.8553 241.376 82.8553 Q235.566 82.8553 232.487 78.272 Q229.431 73.6656 229.431 64.9388 Q229.431 56.1888 232.487 51.6055 Q235.566 46.999 241.376 46.999 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip442)" d="M360.068 737.11 L344.068 753.11 L360.068 769.11 L376.068 753.11 L360.068 737.11 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M606.097 736.699 L590.097 752.699 L606.097 768.699 L622.097 752.699 L606.097 736.699 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M852.126 736.269 L836.126 752.269 L852.126 768.269 L868.126 752.269 L852.126 736.269 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M1098.15 737.396 L1082.15 753.396 L1098.15 769.396 L1114.15 753.396 L1098.15 737.396 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M1344.18 737.545 L1328.18 753.545 L1344.18 769.545 L1360.18 753.545 L1344.18 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M1590.21 394.842 L1574.21 410.842 L1590.21 426.842 L1606.21 410.842 L1590.21 394.842 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M1836.24 195.24 L1820.24 211.24 L1836.24 227.24 L1852.24 211.24 L1836.24 195.24 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M2082.27 101.748 L2066.27 117.748 L2082.27 133.748 L2098.27 117.748 L2082.27 101.748 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M2328.3 63.7533 L2312.3 79.7533 L2328.3 95.7533 L2344.3 79.7533 L2328.3 63.7533 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip442)" d="M2574.33 51.816 L2558.33 67.816 L2574.33 83.816 L2590.33 67.816 L2574.33 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip442)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,753.11 606.097,753.11 606.097,752.699 852.126,752.699 852.126,752.269 1098.15,752.269 1098.15,753.396 1344.18,753.396 1344.18,753.545 1590.21,753.545 1590.21,410.842 1836.24,410.842 1836.24,211.24 2082.27,211.24 2082.27,117.748 2328.3,117.748 2328.3,79.7533 2574.33,79.7533 2574.33,67.816 "></polyline>
<path clip-path="url(#clip440)" d="M371.877 175.153 L628.302 175.153 L628.302 71.4732 L371.877 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="371.877,175.153 628.302,175.153 628.302,71.4732 371.877,71.4732 371.877,175.153 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,123.313 554.431,123.313 "></polyline>
<path clip-path="url(#clip440)" d="M580.51 130.362 L580.51 114.667 L584.769 114.667 L584.769 130.2 Q584.769 133.88 586.204 135.732 Q587.639 137.561 590.51 137.561 Q593.959 137.561 595.95 135.362 Q597.963 133.163 597.963 129.366 L597.963 114.667 L602.223 114.667 L602.223 140.593 L597.963 140.593 L597.963 136.612 Q596.413 138.973 594.352 140.13 Q592.315 141.264 589.607 141.264 Q585.139 141.264 582.825 138.487 Q580.51 135.709 580.51 130.362 M591.227 114.042 L591.227 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M293.64 1734.12 L2640.76 1734.12 L2640.76 1007.24 L293.64 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip443">
    <rect x="293" y="1007" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,1734.12 360.068,1007.24 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="913.633,1734.12 913.633,1007.24 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1467.2,1734.12 1467.2,1007.24 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2020.76,1734.12 2020.76,1007.24 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2574.33,1734.12 2574.33,1007.24 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1715.13 2640.76,1715.13 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1486.02 2640.76,1486.02 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1256.92 2640.76,1256.92 "></polyline>
<polyline clip-path="url(#clip443)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1734.12 360.068,1715.22 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="913.633,1734.12 913.633,1715.22 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1467.2,1734.12 1467.2,1715.22 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2020.76,1734.12 2020.76,1715.22 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2574.33,1734.12 2574.33,1715.22 "></polyline>
<path clip-path="url(#clip440)" d="M337.452 1767.34 Q333.841 1767.34 332.013 1770.9 Q330.207 1774.45 330.207 1781.58 Q330.207 1788.68 332.013 1792.25 Q333.841 1795.79 337.452 1795.79 Q341.087 1795.79 342.892 1792.25 Q344.721 1788.68 344.721 1781.58 Q344.721 1774.45 342.892 1770.9 Q341.087 1767.34 337.452 1767.34 M337.452 1763.64 Q343.263 1763.64 346.318 1768.24 Q349.397 1772.83 349.397 1781.58 Q349.397 1790.3 346.318 1794.91 Q343.263 1799.49 337.452 1799.49 Q331.642 1799.49 328.564 1794.91 Q325.508 1790.3 325.508 1781.58 Q325.508 1772.83 328.564 1768.24 Q331.642 1763.64 337.452 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M357.614 1792.94 L362.499 1792.94 L362.499 1798.82 L357.614 1798.82 L357.614 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M382.684 1767.34 Q379.073 1767.34 377.244 1770.9 Q375.438 1774.45 375.438 1781.58 Q375.438 1788.68 377.244 1792.25 Q379.073 1795.79 382.684 1795.79 Q386.318 1795.79 388.123 1792.25 Q389.952 1788.68 389.952 1781.58 Q389.952 1774.45 388.123 1770.9 Q386.318 1767.34 382.684 1767.34 M382.684 1763.64 Q388.494 1763.64 391.549 1768.24 Q394.628 1772.83 394.628 1781.58 Q394.628 1790.3 391.549 1794.91 Q388.494 1799.49 382.684 1799.49 Q376.873 1799.49 373.795 1794.91 Q370.739 1790.3 370.739 1781.58 Q370.739 1772.83 373.795 1768.24 Q376.873 1763.64 382.684 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M885.369 1794.89 L901.689 1794.89 L901.689 1798.82 L879.744 1798.82 L879.744 1794.89 Q882.406 1792.13 886.99 1787.5 Q891.596 1782.85 892.777 1781.51 Q895.022 1778.98 895.902 1777.25 Q896.804 1775.49 896.804 1773.8 Q896.804 1771.04 894.86 1769.31 Q892.939 1767.57 889.837 1767.57 Q887.638 1767.57 885.184 1768.34 Q882.754 1769.1 879.976 1770.65 L879.976 1765.93 Q882.8 1764.79 885.254 1764.21 Q887.707 1763.64 889.744 1763.64 Q895.115 1763.64 898.309 1766.32 Q901.503 1769.01 901.503 1773.5 Q901.503 1775.63 900.693 1777.55 Q899.906 1779.45 897.8 1782.04 Q897.221 1782.71 894.119 1785.93 Q891.017 1789.12 885.369 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M911.503 1792.94 L916.388 1792.94 L916.388 1798.82 L911.503 1798.82 L911.503 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M926.619 1764.26 L944.975 1764.26 L944.975 1768.2 L930.901 1768.2 L930.901 1776.67 Q931.92 1776.32 932.938 1776.16 Q933.957 1775.97 934.975 1775.97 Q940.763 1775.97 944.142 1779.15 Q947.522 1782.32 947.522 1787.73 Q947.522 1793.31 944.05 1796.41 Q940.577 1799.49 934.258 1799.49 Q932.082 1799.49 929.813 1799.12 Q927.568 1798.75 925.161 1798.01 L925.161 1793.31 Q927.244 1794.45 929.466 1795 Q931.688 1795.56 934.165 1795.56 Q938.17 1795.56 940.508 1793.45 Q942.846 1791.34 942.846 1787.73 Q942.846 1784.12 940.508 1782.02 Q938.17 1779.91 934.165 1779.91 Q932.29 1779.91 930.415 1780.33 Q928.563 1780.74 926.619 1781.62 L926.619 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1434.36 1764.26 L1452.72 1764.26 L1452.72 1768.2 L1438.64 1768.2 L1438.64 1776.67 Q1439.66 1776.32 1440.68 1776.16 Q1441.7 1775.97 1442.72 1775.97 Q1448.51 1775.97 1451.89 1779.15 Q1455.27 1782.32 1455.27 1787.73 Q1455.27 1793.31 1451.79 1796.41 Q1448.32 1799.49 1442 1799.49 Q1439.83 1799.49 1437.56 1799.12 Q1435.31 1798.75 1432.9 1798.01 L1432.9 1793.31 Q1434.99 1794.45 1437.21 1795 Q1439.43 1795.56 1441.91 1795.56 Q1445.91 1795.56 1448.25 1793.45 Q1450.59 1791.34 1450.59 1787.73 Q1450.59 1784.12 1448.25 1782.02 Q1445.91 1779.91 1441.91 1779.91 Q1440.03 1779.91 1438.16 1780.33 Q1436.31 1780.74 1434.36 1781.62 L1434.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1464.48 1792.94 L1469.36 1792.94 L1469.36 1798.82 L1464.48 1798.82 L1464.48 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1489.55 1767.34 Q1485.94 1767.34 1484.11 1770.9 Q1482.3 1774.45 1482.3 1781.58 Q1482.3 1788.68 1484.11 1792.25 Q1485.94 1795.79 1489.55 1795.79 Q1493.18 1795.79 1494.99 1792.25 Q1496.82 1788.68 1496.82 1781.58 Q1496.82 1774.45 1494.99 1770.9 Q1493.18 1767.34 1489.55 1767.34 M1489.55 1763.64 Q1495.36 1763.64 1498.41 1768.24 Q1501.49 1772.83 1501.49 1781.58 Q1501.49 1790.3 1498.41 1794.91 Q1495.36 1799.49 1489.55 1799.49 Q1483.74 1799.49 1480.66 1794.91 Q1477.6 1790.3 1477.6 1781.58 Q1477.6 1772.83 1480.66 1768.24 Q1483.74 1763.64 1489.55 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1987.08 1764.26 L2009.3 1764.26 L2009.3 1766.25 L1996.76 1798.82 L1991.87 1798.82 L2003.68 1768.2 L1987.08 1768.2 L1987.08 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2018.43 1792.94 L2023.31 1792.94 L2023.31 1798.82 L2018.43 1798.82 L2018.43 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2033.54 1764.26 L2051.9 1764.26 L2051.9 1768.2 L2037.82 1768.2 L2037.82 1776.67 Q2038.84 1776.32 2039.86 1776.16 Q2040.88 1775.97 2041.9 1775.97 Q2047.68 1775.97 2051.06 1779.15 Q2054.44 1782.32 2054.44 1787.73 Q2054.44 1793.31 2050.97 1796.41 Q2047.5 1799.49 2041.18 1799.49 Q2039 1799.49 2036.74 1799.12 Q2034.49 1798.75 2032.08 1798.01 L2032.08 1793.31 Q2034.17 1794.45 2036.39 1795 Q2038.61 1795.56 2041.09 1795.56 Q2045.09 1795.56 2047.43 1793.45 Q2049.77 1791.34 2049.77 1787.73 Q2049.77 1784.12 2047.43 1782.02 Q2045.09 1779.91 2041.09 1779.91 Q2039.21 1779.91 2037.34 1780.33 Q2035.49 1780.74 2033.54 1781.62 L2033.54 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2526.4 1794.89 L2534.04 1794.89 L2534.04 1768.52 L2525.73 1770.19 L2525.73 1765.93 L2533.99 1764.26 L2538.67 1764.26 L2538.67 1794.89 L2546.31 1794.89 L2546.31 1798.82 L2526.4 1798.82 L2526.4 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2565.75 1767.34 Q2562.14 1767.34 2560.31 1770.9 Q2558.51 1774.45 2558.51 1781.58 Q2558.51 1788.68 2560.31 1792.25 Q2562.14 1795.79 2565.75 1795.79 Q2569.39 1795.79 2571.19 1792.25 Q2573.02 1788.68 2573.02 1781.58 Q2573.02 1774.45 2571.19 1770.9 Q2569.39 1767.34 2565.75 1767.34 M2565.75 1763.64 Q2571.56 1763.64 2574.62 1768.24 Q2577.7 1772.83 2577.7 1781.58 Q2577.7 1790.3 2574.62 1794.91 Q2571.56 1799.49 2565.75 1799.49 Q2559.94 1799.49 2556.86 1794.91 Q2553.81 1790.3 2553.81 1781.58 Q2553.81 1772.83 2556.86 1768.24 Q2559.94 1763.64 2565.75 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2585.91 1792.94 L2590.8 1792.94 L2590.8 1798.82 L2585.91 1798.82 L2585.91 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2610.98 1767.34 Q2607.37 1767.34 2605.54 1770.9 Q2603.74 1774.45 2603.74 1781.58 Q2603.74 1788.68 2605.54 1792.25 Q2607.37 1795.79 2610.98 1795.79 Q2614.62 1795.79 2616.42 1792.25 Q2618.25 1788.68 2618.25 1781.58 Q2618.25 1774.45 2616.42 1770.9 Q2614.62 1767.34 2610.98 1767.34 M2610.98 1763.64 Q2616.79 1763.64 2619.85 1768.24 Q2622.93 1772.83 2622.93 1781.58 Q2622.93 1790.3 2619.85 1794.91 Q2616.79 1799.49 2610.98 1799.49 Q2605.17 1799.49 2602.09 1794.91 Q2599.04 1790.3 2599.04 1781.58 Q2599.04 1772.83 2602.09 1768.24 Q2605.17 1763.64 2610.98 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M1451.38 1833.78 L1457.27 1833.78 L1457.27 1863.03 L1474.74 1847.65 L1482.22 1847.65 L1463.31 1864.33 L1483.02 1883.3 L1475.38 1883.3 L1457.27 1865.89 L1457.27 1883.3 L1451.38 1883.3 L1451.38 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 293.64,1007.24 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1715.13 312.538,1715.13 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1486.02 312.538,1486.02 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1256.92 312.538,1256.92 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1027.82 312.538,1027.82 "></polyline>
<path clip-path="url(#clip440)" d="M241.376 1700.93 Q237.765 1700.93 235.936 1704.49 Q234.13 1708.03 234.13 1715.16 Q234.13 1722.27 235.936 1725.83 Q237.765 1729.38 241.376 1729.38 Q245.01 1729.38 246.816 1725.83 Q248.644 1722.27 248.644 1715.16 Q248.644 1708.03 246.816 1704.49 Q245.01 1700.93 241.376 1700.93 M241.376 1697.22 Q247.186 1697.22 250.242 1701.83 Q253.32 1706.41 253.32 1715.16 Q253.32 1723.89 250.242 1728.5 Q247.186 1733.08 241.376 1733.08 Q235.566 1733.08 232.487 1728.5 Q229.431 1723.89 229.431 1715.16 Q229.431 1706.41 232.487 1701.83 Q235.566 1697.22 241.376 1697.22 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M233.413 1499.37 L241.052 1499.37 L241.052 1473 L232.742 1474.67 L232.742 1470.41 L241.005 1468.74 L245.681 1468.74 L245.681 1499.37 L253.32 1499.37 L253.32 1503.3 L233.413 1503.3 L233.413 1499.37 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M237.001 1270.26 L253.32 1270.26 L253.32 1274.2 L231.376 1274.2 L231.376 1270.26 Q234.038 1267.51 238.621 1262.88 Q243.228 1258.23 244.408 1256.89 Q246.654 1254.36 247.533 1252.63 Q248.436 1250.87 248.436 1249.18 Q248.436 1246.42 246.492 1244.69 Q244.57 1242.95 241.468 1242.95 Q239.269 1242.95 236.816 1243.71 Q234.385 1244.48 231.607 1246.03 L231.607 1241.31 Q234.431 1240.17 236.885 1239.59 Q239.339 1239.02 241.376 1239.02 Q246.746 1239.02 249.941 1241.7 Q253.135 1244.39 253.135 1248.88 Q253.135 1251.01 252.325 1252.93 Q251.538 1254.83 249.431 1257.42 Q248.853 1258.09 245.751 1261.31 Q242.649 1264.5 237.001 1270.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M246.191 1026.46 Q249.547 1027.18 251.422 1029.45 Q253.32 1031.72 253.32 1035.05 Q253.32 1040.17 249.802 1042.97 Q246.283 1045.77 239.802 1045.77 Q237.626 1045.77 235.311 1045.33 Q233.019 1044.91 230.566 1044.05 L230.566 1039.54 Q232.51 1040.67 234.825 1041.25 Q237.14 1041.83 239.663 1041.83 Q244.061 1041.83 246.353 1040.1 Q248.667 1038.36 248.667 1035.05 Q248.667 1031.99 246.515 1030.28 Q244.385 1028.55 240.566 1028.55 L236.538 1028.55 L236.538 1024.7 L240.751 1024.7 Q244.2 1024.7 246.029 1023.34 Q247.857 1021.95 247.857 1019.36 Q247.857 1016.69 245.959 1015.28 Q244.084 1013.85 240.566 1013.85 Q238.644 1013.85 236.445 1014.26 Q234.246 1014.68 231.607 1015.56 L231.607 1011.39 Q234.269 1010.65 236.584 1010.28 Q238.922 1009.91 240.982 1009.91 Q246.306 1009.91 249.408 1012.34 Q252.51 1014.75 252.51 1018.87 Q252.51 1021.74 250.866 1023.73 Q249.223 1025.7 246.191 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M139.207 1354.07 L156.554 1366.96 L174.855 1353.4 L174.855 1360.3 L160.851 1370.68 L174.855 1381.06 L174.855 1387.96 L156.204 1374.12 L139.207 1386.79 L139.207 1379.88 L151.907 1370.43 L139.207 1360.97 L139.207 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip443)" d="M360.068 1470.02 L344.068 1486.02 L360.068 1502.02 L376.068 1486.02 L360.068 1470.02 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M581.494 1260.4 L565.494 1276.4 L581.494 1292.4 L597.494 1276.4 L581.494 1260.4 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M802.92 1331.7 L786.92 1347.7 L802.92 1363.7 L818.92 1347.7 L802.92 1331.7 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1024.35 1422.97 L1008.35 1438.97 L1024.35 1454.97 L1040.35 1438.97 L1024.35 1422.97 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1245.77 1523.62 L1229.77 1539.62 L1245.77 1555.62 L1261.77 1539.62 L1245.77 1523.62 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1467.2 1633.69 L1451.2 1649.69 L1467.2 1665.69 L1483.2 1649.69 L1467.2 1633.69 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1688.62 1676.54 L1672.62 1692.54 L1688.62 1708.54 L1704.62 1692.54 L1688.62 1676.54 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1910.05 1692.17 L1894.05 1708.17 L1910.05 1724.17 L1926.05 1708.17 L1910.05 1692.17 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M2131.48 1696.84 L2115.48 1712.84 L2131.48 1728.84 L2147.48 1712.84 L2131.48 1696.84 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M2352.9 1697.55 L2336.9 1713.55 L2352.9 1729.55 L2368.9 1713.55 L2352.9 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M2574.33 1697.34 L2558.33 1713.34 L2574.33 1729.34 L2590.33 1713.34 L2574.33 1697.34 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip443)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1486.02 581.494,1486.02 581.494,1276.4 802.92,1276.4 802.92,1347.7 1024.35,1347.7 1024.35,1438.97 1245.77,1438.97 1245.77,1539.62 1467.2,1539.62 1467.2,1649.69 1688.62,1649.69 1688.62,1692.54 1910.05,1692.54 1910.05,1708.17 2131.48,1708.17 2131.48,1712.84 2352.9,1712.84 2352.9,1713.55 2574.33,1713.55 2574.33,1713.34 "></polyline>
<path clip-path="url(#clip443)" d="M360.068 1011.82 L344.068 1027.82 L360.068 1043.82 L376.068 1027.82 L360.068 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M581.494 1140.35 L565.494 1156.35 L581.494 1172.35 L597.494 1156.35 L581.494 1140.35 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M802.92 1239.01 L786.92 1255.01 L802.92 1271.01 L818.92 1255.01 L802.92 1239.01 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1024.35 1344.92 L1008.35 1360.92 L1024.35 1376.92 L1040.35 1360.92 L1024.35 1344.92 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1245.77 1460.88 L1229.77 1476.88 L1245.77 1492.88 L1261.77 1476.88 L1245.77 1460.88 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1467.2 1587.7 L1451.2 1603.7 L1467.2 1619.7 L1483.2 1603.7 L1467.2 1587.7 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1688.62 1654.2 L1672.62 1670.2 L1688.62 1686.2 L1704.62 1670.2 L1688.62 1654.2 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M1910.05 1682.95 L1894.05 1698.95 L1910.05 1714.95 L1926.05 1698.95 L1910.05 1682.95 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M2131.48 1693.49 L2115.48 1709.49 L2131.48 1725.49 L2147.48 1709.49 L2131.48 1693.49 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M2352.9 1696.43 L2336.9 1712.43 L2352.9 1728.43 L2368.9 1712.43 L2352.9 1696.43 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip443)" d="M2574.33 1696.89 L2558.33 1712.89 L2574.33 1728.89 L2590.33 1712.89 L2574.33 1696.89 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip443)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1027.82 581.494,1027.82 581.494,1156.35 802.92,1156.35 802.92,1255.01 1024.35,1255.01 1024.35,1360.92 1245.77,1360.92 1245.77,1476.88 1467.2,1476.88 1467.2,1603.7 1688.62,1603.7 1688.62,1670.2 1910.05,1670.2 1910.05,1698.95 2131.48,1698.95 2131.48,1709.49 2352.9,1709.49 2352.9,1712.43 2574.33,1712.43 2574.33,1712.89 "></polyline>
<path clip-path="url(#clip440)" d="M2284.71 1186.99 L2562.52 1186.99 L2562.52 1031.47 L2284.71 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip440)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2284.71,1186.99 2562.52,1186.99 2562.52,1031.47 2284.71,1031.47 2284.71,1186.99 "></polyline>
<polyline clip-path="url(#clip440)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1083.31 2467.26,1083.31 "></polyline>
<path clip-path="url(#clip440)" d="M2517.99 1074.67 L2508.62 1087.28 L2518.48 1100.59 L2513.45 1100.59 L2505.91 1090.41 L2498.36 1100.59 L2493.34 1100.59 L2503.41 1087.03 L2494.19 1074.67 L2499.22 1074.67 L2506.09 1083.9 L2512.97 1074.67 L2517.99 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2523.64 1098.05 L2528.36 1098.05 L2528.36 1083.9 L2523.2 1084.85 L2523.2 1082.17 L2528.52 1081.26 L2531.69 1081.26 L2531.69 1098.05 L2536.44 1098.05 L2536.44 1100.59 L2523.64 1100.59 L2523.64 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip440)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1135.15 2467.26,1135.15 "></polyline>
<path clip-path="url(#clip440)" d="M2517.99 1126.51 L2508.62 1139.12 L2518.48 1152.43 L2513.45 1152.43 L2505.91 1142.25 L2498.36 1152.43 L2493.34 1152.43 L2503.41 1138.87 L2494.19 1126.51 L2499.22 1126.51 L2506.09 1135.74 L2512.97 1126.51 L2517.99 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip440)" d="M2526.23 1149.79 L2536.05 1149.79 L2536.05 1152.43 L2522.2 1152.43 L2522.2 1149.89 Q2522.99 1149.17 2524.45 1147.87 Q2532.41 1140.81 2532.41 1138.64 Q2532.41 1137.11 2531.21 1136.18 Q2530 1135.23 2528.04 1135.23 Q2526.83 1135.23 2525.42 1135.65 Q2524.01 1136.04 2522.34 1136.85 L2522.34 1134.01 Q2524.12 1133.36 2525.65 1133.04 Q2527.2 1132.71 2528.52 1132.71 Q2531.88 1132.71 2533.89 1134.24 Q2535.91 1135.77 2535.91 1138.27 Q2535.91 1141.48 2528.25 1148.06 Q2526.95 1149.17 2526.23 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
<section id="adding-the-constraints-on-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-states">Adding the constraints on states</h3>
<p>We might feel a little bit uneasy about loosing an immediate access to <span class="math inline">\bar{\bm x}</span>. But the game is not lost. We just need to express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> and impose the constraint on the result. But such expression is already available, see (<a href="#eq-x_as_function_of_u_and_x0" class="quarto-xref">Eq.&nbsp;2</a>). Therefore, we can formulate the constraint, say, an upper bound on the state vector <span class="math display">
\bm x_k \leq \mathbf x_\mathrm{max}
</span> as <span class="math display">
\bar{\mathbf x}^\mathrm{min} \leq \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0 \leq \bar{\mathbf x}^\mathrm{max},
</span> where the the bars in <span class="math inline">\bar{\mathbf x}^\mathrm{min}</span> and <span class="math inline">\bar{\mathbf x}^\mathrm{max}</span> obviously indicates that these vectors were obtained by stacking the corresponding vectors for all times <span class="math inline">k=1,\ldots,N</span>.</p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/hurak\.github\.io\/orr\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./discr_dir_general.html" class="pagination-link" aria-label="General finite-horizon nonlinear optimal control as an NLP">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">General finite-horizon nonlinear optimal control as an NLP</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./discr_dir_mpc.html" class="pagination-link" aria-label="Model predictive control (MPC)">
        <span class="nav-page-text">Model predictive control (MPC)</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025, Zdeněk Hurák</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>