<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.30">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Finite-horizon LQR as a QP – B(E)3M35ORR – Optimal and Robust Control</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
html { -webkit-text-size-adjust: 100%; }
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.5.1/jquery.min.js" integrity="sha512-bLT0Qm9VnAYZDflyKcBaQ2gg0hSYNQrJ8RilYldYQ1FxQYoCLtUjuuRuZo+fjqhx/qtq/1itJ0C2ejDxltZVFg==" crossorigin="anonymous"></script><script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./discr_dir_mpc.html" rel="next">
<link href="./discr_dir_general.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js" type="module"></script>
<script src="site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-de070a7b0ab54f8780927367ac907214.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-97adc6f62f4452c3e92054d688235271.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" integrity="sha512-c3Nl8+7g4LMSTdrm621y7kf9v3SDPnhxLNhcjFJbKECVnmZHTdo+IRO05sNLTH/D3vA6u1X32ehoLC7WFVdheg==" crossorigin="anonymous"></script>

<script type="application/javascript">define('jquery', [],function() {return window.jQuery;})</script>

  <script>window.backupDefine = window.define; window.define = undefined;</script><script src="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.js"></script>
  <script>document.addEventListener("DOMContentLoaded", function () {
 var mathElements = document.getElementsByClassName("math");
 var macros = [];
 for (var i = 0; i < mathElements.length; i++) {
  var texText = mathElements[i].firstChild;
  if (mathElements[i].tagName == "SPAN") {
   katex.render(texText.data, mathElements[i], {
    displayMode: mathElements[i].classList.contains('display'),
    throwOnError: false,
    macros: macros,
    fleqn: false
   });
}}});
  </script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@latest/dist/katex.min.css">

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar docked quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation docked overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">B(E)3M35ORR – Optimal and Robust Control</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">0. Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">What is optimal and robust control?</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_outline.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Course outline</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_rules.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rules of the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Literature for the course</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_similar.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Similar courses</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro_projects.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Projects</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">1. Optimization – theory</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_problems.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization problems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_reformulations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Problem reformulations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_modellers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimization modelling languages</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_theory_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">2. Optimization – algorithms</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_derivatives.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Computing the derivatives</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_unconstrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Unconstrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_constrained.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Constrained optimization</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_solvers.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./opt_algo_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">3. Discrete-time optimal control – direct approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as an NLP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_LQR.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Finite-horizon LQR as a QP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model predictive control (MPC)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical solvers for MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">4. Discrete-time optimal control – indirect approach</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_general.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as a TP-BVP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on a finite horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time LQR on an infinite horizon using the DARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_LQR_tracking.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Reference tracking using LQR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_DARE.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Discrete-time algebraic Riccati equation (DARE)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for discrete-time LQR and DARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">5. Discrete-time optimal control – dynamic programming (DP)</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">DP and discrete-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_tabular.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Tabular outcomes of DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR via DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_LQT.qmd" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQ tracking via DP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dynamic_programming_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">6. More on MPC</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_stability.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Stability of MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_recursive_feasibility.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Recursive feasibility</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_economic.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Economic MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_explicit.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Explicit MPC</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./discr_dir_mpc_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">7. Continuous-time optimal control - indirect approach via calculus of variations</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_overview.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Overview of continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Calculus of variations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_via_calculus_of_variations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">General finite-horizon nonlinear optimal control as a TP-BVP</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_fin_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR on a finite time horizon</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_LQR_inf_horizon.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR on an infinite time horizon using the CARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_notation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">On notation for Hamiltonians and variations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_trajectory_stabilization.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Trajectory stabilization and neigboring extremals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software for continuous-time LQR and CARE</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true">
 <span class="menu-text">8. Continuous-time optimal control - indirect approach via Pontryagin’s maximum principle</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-9" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-9" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_goals_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_Pontryagin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Pontryagin’s maximum (or minimum) principle</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_free_final_time.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Optimal control with a free final time</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_time_optimal.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Time-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_references_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_indir_hw_2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true">
 <span class="menu-text">9. Numerical methods for continuous-time optimal control - both indirect and direct approaches</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-10" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-10" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_indirect.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for indirect approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_direct.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Numerical methods for direct approach</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_numerical_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true">
 <span class="menu-text">9.X. Continuous-time optimal control – dynamic programming</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-11" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-11" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_HJB.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Dynamic programming for continuous-time optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Using HJB equation to solve the continuous-time LQR problem</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_DDP.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Differential dynamic programming (DDP)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cont_dp_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true">
 <span class="menu-text">10. Some extensions: LQG, LTR, H2</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-12" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-12" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LQR_margins.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Guaranteed GM and PM for LQR</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_stochastic_LQR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQR for stochastic systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LQG.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">LQG control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_LTR.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Loop transfer recovery (LTR)</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_H2.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H2-optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ext_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true">
 <span class="menu-text">11. Uncertainty modelling and robustness analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-13" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-13" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_uncertainty.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Uncertainty (in) modelling</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_unstructured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for unstructured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_structured.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Robustness analysis for structured uncertainty</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./roban_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true">
 <span class="menu-text">12. Robust control</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-14" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-14" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_goals.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Learning goals</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mixed_sensitivity.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Mixed sensitivity design</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_H_infinity_control.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H-infinity optimal control</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_mu_synthesis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">mu synthesis</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_H_infinity_loopshaping.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">H-infinity loop-shaping</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_software.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Software</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./rocond_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true">
 <span class="menu-text">13. Limitations of achievable performance</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-15" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-15" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_SISO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for SISO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_MIMO.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Limitations for MIMO systems</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./limitations_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true">
 <span class="menu-text">14. Model and controller order reduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-16" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-16" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Model order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_controller.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Controller order reduction</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_benchmarks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Benchmarks</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./reduction_order_hw.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Homework</span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#simultaneous-sparse-formulation" id="toc-simultaneous-sparse-formulation" class="nav-link active" data-scroll-target="#simultaneous-sparse-formulation">Simultaneous (sparse) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-constraints-on-controls-and-states" id="toc-adding-constraints-on-controls-and-states" class="nav-link" data-scroll-target="#adding-constraints-on-controls-and-states">Adding constraints on controls and states</a></li>
  </ul></li>
  <li><a href="#sequential-dense-formulation" id="toc-sequential-dense-formulation" class="nav-link" data-scroll-target="#sequential-dense-formulation">Sequential (dense) formulation</a>
  <ul class="collapse">
  <li><a href="#adding-the-constraints-on-controls" id="toc-adding-the-constraints-on-controls" class="nav-link" data-scroll-target="#adding-the-constraints-on-controls">Adding the constraints on controls</a></li>
  <li><a href="#adding-the-constraints-on-states" id="toc-adding-the-constraints-on-states" class="nav-link" data-scroll-target="#adding-the-constraints-on-states">Adding the constraints on states</a></li>
  </ul></li>
  </ul>
<div class="toc-actions"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./discr_dir_goals.html">3. Discrete-time optimal control – direct approach</a></li><li class="breadcrumb-item"><a href="./discr_dir_LQR.html">Finite-horizon LQR as a QP</a></li></ol></nav>
<div class="quarto-title">
<h1 class="title">Finite-horizon LQR as a QP</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<div class="quarto-video ratio ratio-16x9"><iframe data-external="1" src="https://www.youtube.com/embed/1MHV-L4--lI?si=6Orm_cGxmTAX_myT" title="" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe></div>
<p>Here we specialize the general procedure from the previous section to the case of a <strong>L</strong>inear system and a <strong>Q</strong>uadratic cost. We start by considering a simple problem of <strong>R</strong>egulation, wherein the goal is to bring the system either exactly or approximately to zero final state, that is, <span class="math inline">\mathbf x^\text{ref}=\mathbf 0</span> and we want <span class="math inline">\bm x_N=\mathbf x^\text{ref}</span> or <span class="math inline">\bm x_N\approx\mathbf x^\text{ref}</span>, respectively. The problem is known as the <strong>LQR</strong> problem. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bm u_0,\ldots, \bm u_{N-1}, \bm x_{0},\ldots, \bm x_N} &amp;\quad  \frac{1}{2} \bm x_N^\top \mathbf S \bm x_N + \frac{1}{2} \sum_{k=0}^{N-1} \left(\bm x_k^\top \mathbf Q \bm x_k + \bm u_k^\top \mathbf R \bm u_k \right)\\
\text{subject to}   &amp;\quad \bm x_{k+1} = \mathbf A\bm x_k + \mathbf B\bm u_k,\quad k = 0, \ldots, N-1, \\
                    &amp;\quad \bm x_0 = \mathbf x_0,\\
                    &amp;\quad \bm x_N = \mathbf 0\;  (\text{or}\, \bm x_N \approx \mathbf 0).
\end{aligned}
</span></p>
<p>Referring to the two options for the last constraint,</p>
<ul>
<li>if the condition <span class="math inline">\bm x_N=\mathbf 0</span> on the final state is strictly enforced, the terminal state cost (the term <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> in the cost function) is redundant and can be removed;</li>
<li>if the final state condition can be relaxed to <span class="math inline">\bm x_N\approx\mathbf 0</span>, it is by increasing the weight <span class="math inline">\mathbf S</span> in the terminal cost function <span class="math inline">\frac{1}{2} \bm x_N^\top \mathbf S \bm x_N</span> that <span class="math inline">\bm x_N</span> can be made arbitrarily close to <span class="math inline">\mathbf 0</span>.</li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>It is a standard dilemma in optimization, not only in optimal control, that if we want to satisfy some requirement, we can either strictly enforce it through constraints or we can seemingly relax it and set a cost to be paid for not satysfying it.</p>
</div>
</div>
<section id="simultaneous-sparse-formulation" class="level2">
<h2 class="anchored" data-anchor-id="simultaneous-sparse-formulation">Simultaneous (sparse) formulation</h2>
<p>Below we rewrite the latter problem, that is, <span class="math inline">\bm x_N\approx\mathbf 0</span>, in the “unrolled” form, where we stack the state and control variables into “long” vectors <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span>. Doing the same for the former is straightforward. <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u},\bar{\bm x}} &amp; \frac{1}{2}\left(\begin{bmatrix} \bm x_1^\top &amp; \bm x_2^\top &amp; \ldots &amp; \bm x_N^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf Q &amp; &amp; &amp; \\ &amp; \mathbf Q &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf S \end{bmatrix}}_{\overline{\mathbf Q}}
\underbrace{\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \vdots \\ \bm x_N \end{bmatrix}}_{\bar{\bm x}}\right.\\
&amp;\qquad +\left.
\begin{bmatrix} \bm u_0^\top &amp; \bm u_1^\top &amp; \ldots &amp; \bm u_{N-1}^\top \end{bmatrix}
\underbrace{\begin{bmatrix}\mathbf R &amp; &amp; &amp; \\ &amp; \mathbf R &amp; &amp;\\ &amp; &amp;\ddots &amp; \\ &amp; &amp; &amp; \mathbf R \end{bmatrix}}_{\overline{\mathbf R}}
\underbrace{\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1} \end{bmatrix}}_{\bar{\bm u}}\right)
+ \underbrace{\frac{1}{2}\mathbf x_0^\top \mathbf Q \mathbf x_0}_{\mathrm{constant}}
\end{aligned}
</span> subject to <span class="math display">
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} = \underbrace{\begin{bmatrix}\mathbf 0 &amp; &amp; &amp; &amp;\\\mathbf A &amp; \mathbf 0 &amp; &amp; &amp;\\ &amp;\mathbf A &amp;\mathbf 0 &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; \mathbf 0 \end{bmatrix}}_{\overline{\mathbf A}}
\begin{bmatrix} \bm x_1 \\ \bm x_2 \\ \bm x_3\\ \vdots \\ \bm x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \bm u_0 \\ \bm u_1 \\ \bm u_2\\\vdots \\ \bm u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0,    
</span></p>
<p>in which we have already substituted the particular <span class="math inline">\mathbf x_0</span> for the variable <span class="math inline">\bm x_0</span>. Consequently, the last term in the cost function can be discarded because it is constant.</p>
<p>The terms with the <span class="math inline">\bar{\bm x}</span> vector can be combined and we get <span id="eq-linear_system_linear_constraints_matrix_format"><span class="math display">
\begin{bmatrix} \mathbf 0 \\ \mathbf 0 \\ \mathbf 0\\ \vdots \\ \mathbf 0 \end{bmatrix} = \underbrace{\begin{bmatrix}-\mathbf I &amp; &amp; &amp; &amp;\\\mathbf A &amp; -\mathbf I &amp; &amp; &amp;\\ &amp;\mathbf A &amp;-\mathbf I &amp; &amp; \\ &amp; &amp; &amp;\ddots &amp; \\&amp; &amp; &amp;\mathbf A &amp; -\mathbf I \end{bmatrix}}_{\overline{\mathbf A} - \mathbf I}
\begin{bmatrix} \mathbf x_1 \\ \mathbf x_2 \\ \mathbf x_3\\ \vdots \\ \mathbf x_N \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf B &amp; &amp; &amp; &amp; \\ &amp; \mathbf B &amp; &amp; &amp; \\&amp; &amp;\mathbf B &amp; \\ &amp; &amp; &amp;\ddots \\ &amp; &amp; &amp; &amp; \mathbf B \end{bmatrix}}_{\overline{\mathbf B}}\begin{bmatrix} \mathbf u_0 \\ \mathbf u_1 \\ \mathbf u_2\\\vdots \\ \mathbf u_{N-1} \end{bmatrix} + \underbrace{\begin{bmatrix}\mathbf A\\\mathbf 0\\\mathbf 0\\\vdots\\\mathbf 0\end{bmatrix}}_{\overline{\mathbf A}_0}\mathbf x_0.
\tag{1}</span></span></p>
<p>Upon stacking the two “long” vectors into <span class="math inline">\bar{\bm z}</span> we reformulate the optimization problem as <span class="math display">
\operatorname*{minimize}_{\widetilde{\mathbf z}\in\mathbb{R}^{2N}}\quad \frac{1}{2}\underbrace{\begin{bmatrix}\bar{\bm x}^\top &amp;\bar{\bm u}^\top\end{bmatrix}}_{\bar{\bm z}^\top} \underbrace{\begin{bmatrix}\overline{\mathbf Q} &amp; \\ &amp; \overline{\mathbf R} \end{bmatrix}}_{\widetilde{\mathbf Q}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}}
</span> subject to <span class="math display">
\mathbf 0 = \underbrace{\begin{bmatrix}(\overline{\mathbf A}-\mathbf I) &amp; \overline{\mathbf B}\end{bmatrix}}_{\widetilde{\mathbf A}}\underbrace{\begin{bmatrix}\bar{\bm x}\\\bar{\bm u}\end{bmatrix}}_{\bar{\bm z}} + \underbrace{\overline{\mathbf A}_0 \mathbf x_0}_{\tilde{\mathbf b}}.
</span></p>
<p>To summarize, we have reformulated the optimal control problem as a linearly constrained quadratic program <span class="math display">
\boxed{
\begin{aligned}
\underset{\bar{\bm z}\in\mathbb{R}^{2N}}{\text{minimize}} &amp;\quad \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z}\\
\text{subject to} &amp;\quad \widetilde{\mathbf A} \bar{\bm z} + \tilde{\bm b} = \mathbf 0.
\end{aligned}}
</span></p>
<p>This constrained optimization problem can still be solved without invoking a numerical solver for solving quadratic programs (QP). We do it by introducing a vector <span class="math inline">\boldsymbol\lambda</span> of Lagrange multipliers to form the Lagrangian function <span class="math display">
\mathcal{L}(\bar{\bm z}, \boldsymbol \lambda) = \frac{1}{2}\bar{\bm z}^\top \widetilde{\mathbf Q} \bar{\bm z} + \boldsymbol\lambda^\top(\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}),
</span> for which the gradients with respect to <span class="math inline">\bar{\bm z}</span> and <span class="math inline">\boldsymbol\lambda</span> are <span class="math display">
\begin{aligned}
\nabla_{\tilde{\bm{z}}} \mathcal{L}(\bar{\bm z}, \boldsymbol\lambda) &amp;= \widetilde{\mathbf Q}\bar{\bm z} + \tilde{\mathbf A}^\top\boldsymbol\lambda,\\
\nabla_{\boldsymbol{\lambda}} \mathcal{L}(\tilde{\bm x}, \boldsymbol\lambda) &amp;=\widetilde{\mathbf A} \bar{\bm z} + \tilde{\mathbf b}.
\end{aligned}
</span></p>
<p>Requiring that the overall gradient vanishes leads to the following KKT set of linear equations <span class="math display">
\begin{bmatrix}
  \widetilde{\mathbf Q} &amp; \widetilde{\mathbf A}^\top\\ \widetilde{\mathbf A} &amp; \mathbf 0
\end{bmatrix}
\begin{bmatrix}
\bar{\bm z}\\\boldsymbol\lambda
\end{bmatrix}
=
\begin{bmatrix}
\mathbf 0\\ -\tilde{\mathbf b}
\end{bmatrix}.
</span></p>
<p>Solving this could be accomplished by using some general solver for linear systems or by using some more tailored solver for symmetric indefinite systems (based on <a href="https://en.wikipedia.org/wiki/Cholesky_decomposition#LDL_decomposition">LDL factorization</a>).</p>
<div id="exm-direct-simultaneous" class="theorem example">
<p><span class="theorem-title"><strong>Example 1 (Reformulating the unconstrained LQR problem as a system of linear equations – simultaneous approach)</strong></span> &nbsp;</p>
<div id="2" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearSolve</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">QDLDL</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-17"><a href="#cb1-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb1-18"><a href="#cb1-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-19"><a href="#cb1-19" aria-hidden="true" tabindex="-1"></a>    Q̃ <span class="op">=</span> <span class="fu">blockdiag</span>(<span class="fu">sparse</span>(Q̄),<span class="fu">sparse</span>(R̄))              <span class="co"># The matrix defining the quadratic cost.</span></span>
<span id="cb1-20"><a href="#cb1-20" aria-hidden="true" tabindex="-1"></a>    B̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb1-21"><a href="#cb1-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb1-22"><a href="#cb1-22" aria-hidden="true" tabindex="-1"></a>        B̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> B</span>
<span id="cb1-23"><a href="#cb1-23" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-24"><a href="#cb1-24" aria-hidden="true" tabindex="-1"></a>    Ā <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">sparse</span>(<span class="op">-</span><span class="fl">1.0</span><span class="op">*</span>I,n<span class="op">*</span>N,n<span class="op">*</span>N),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb1-25"><a href="#cb1-25" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">2</span><span class="op">:</span>N</span>
<span id="cb1-26"><a href="#cb1-26" aria-hidden="true" tabindex="-1"></a>        Ā[<span class="fu">Block</span>(i,(i<span class="op">-</span><span class="fl">1</span>))] <span class="op">=</span> A</span>
<span id="cb1-27"><a href="#cb1-27" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb1-28"><a href="#cb1-28" aria-hidden="true" tabindex="-1"></a>    Ã <span class="op">=</span> <span class="fu">sparse</span>([Ā B̄])                               <span class="co"># The matrix defining the linear (affine) equation.</span></span>
<span id="cb1-29"><a href="#cb1-29" aria-hidden="true" tabindex="-1"></a>    Ā₀ <span class="op">=</span> <span class="fu">spzeros</span>(n<span class="op">*</span>N,n)</span>
<span id="cb1-30"><a href="#cb1-30" aria-hidden="true" tabindex="-1"></a>    Ā₀[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>n] <span class="op">=</span> A</span>
<span id="cb1-31"><a href="#cb1-31" aria-hidden="true" tabindex="-1"></a>    b̃ <span class="op">=</span> <span class="fu">Ā₀*sparse</span>(x₀)                               <span class="co"># The constant offset for the linear (affine) equation.</span></span>
<span id="cb1-32"><a href="#cb1-32" aria-hidden="true" tabindex="-1"></a>    K <span class="op">=</span> [Q̃ Ã<span class="ch">'; Ã spzeros(size(Ã,1),size(Ã,1))]      # Sparse KKT matrix.</span></span>
<span id="cb1-33"><a href="#cb1-33" aria-hidden="true" tabindex="-1"></a>    k <span class="op">=</span> [<span class="fu">spzeros</span>(<span class="fu">size</span>(Q̃,<span class="fl">1</span>)); <span class="op">-</span>b̃]                    <span class="co"># Right hand side of the KKT system</span></span>
<span id="cb1-34"><a href="#cb1-34" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">LinearProblem</span>(K,k)                       <span class="co"># The KKT system as a linear problem.</span></span>
<span id="cb1-35"><a href="#cb1-35" aria-hidden="true" tabindex="-1"></a>    z̃λ <span class="op">=</span> LinearSolve.<span class="fu">solve</span>(prob)                    <span class="co"># Solving the KKT system. Ready for trying various solvers.</span></span>
<span id="cb1-36"><a href="#cb1-36" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[<span class="fl">1</span><span class="op">:</span>(n<span class="op">*</span>N)],(n,<span class="op">:</span>))</span>
<span id="cb1-37"><a href="#cb1-37" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">reshape</span>(z̃λ[(n<span class="op">*</span>N<span class="op">+</span><span class="fl">1</span>)<span class="op">:</span>(n<span class="op">+</span>m)<span class="op">*</span>N],(m,<span class="op">:</span>))</span>
<span id="cb1-38"><a href="#cb1-38" aria-hidden="true" tabindex="-1"></a>    return xopt,uopt</span>
<span id="cb1-39"><a href="#cb1-39" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb1-40"><a href="#cb1-40" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-41"><a href="#cb1-41" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb1-42"><a href="#cb1-42" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb1-43"><a href="#cb1-43" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb1-44"><a href="#cb1-44" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb1-45"><a href="#cb1-45" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb1-46"><a href="#cb1-46" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-47"><a href="#cb1-47" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb1-48"><a href="#cb1-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-49"><a href="#cb1-49" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb1-50"><a href="#cb1-50" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb1-51"><a href="#cb1-51" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb1-52"><a href="#cb1-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-53"><a href="#cb1-53" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb1-54"><a href="#cb1-54" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb1-55"><a href="#cb1-55" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb1-56"><a href="#cb1-56" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-57"><a href="#cb1-57" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_simultaneous</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb1-58"><a href="#cb1-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-59"><a href="#cb1-59" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb1-60"><a href="#cb1-60" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb1-61"><a href="#cb1-61" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-62"><a href="#cb1-62" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb1-63"><a href="#cb1-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-64"><a href="#cb1-64" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb1-65"><a href="#cb1-65" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb1-66"><a href="#cb1-66" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb1-67"><a href="#cb1-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-68"><a href="#cb1-68" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip660">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip660)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip661">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip660)" d="M263.478 774.117 L2640.76 774.117 L2640.76 47.2441 L263.478 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip662">
    <rect x="263" y="47" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,774.117 330.76,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="829.141,774.117 829.141,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1327.52,774.117 1327.52,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1825.9,774.117 1825.9,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2324.28,774.117 2324.28,47.2441 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,685.694 2640.76,685.694 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,547.65 2640.76,547.65 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,409.606 2640.76,409.606 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,271.563 2640.76,271.563 "></polyline>
<polyline clip-path="url(#clip662)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,133.519 2640.76,133.519 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,774.117 330.76,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="829.141,774.117 829.141,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1327.52,774.117 1327.52,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1825.9,774.117 1825.9,755.219 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2324.28,774.117 2324.28,755.219 "></polyline>
<path clip-path="url(#clip660)" d="M330.76 807.34 Q327.149 807.34 325.32 810.904 Q323.514 814.446 323.514 821.576 Q323.514 828.682 325.32 832.247 Q327.149 835.789 330.76 835.789 Q334.394 835.789 336.2 832.247 Q338.028 828.682 338.028 821.576 Q338.028 814.446 336.2 810.904 Q334.394 807.34 330.76 807.34 M330.76 803.636 Q336.57 803.636 339.625 808.242 Q342.704 812.826 342.704 821.576 Q342.704 830.303 339.625 834.909 Q336.57 839.492 330.76 839.492 Q324.95 839.492 321.871 834.909 Q318.815 830.303 318.815 821.576 Q318.815 812.826 321.871 808.242 Q324.95 803.636 330.76 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M823.794 834.886 L840.113 834.886 L840.113 838.821 L818.169 838.821 L818.169 834.886 Q820.831 832.131 825.414 827.502 Q830.02 822.849 831.201 821.506 Q833.446 818.983 834.326 817.247 Q835.229 815.488 835.229 813.798 Q835.229 811.043 833.284 809.307 Q831.363 807.571 828.261 807.571 Q826.062 807.571 823.608 808.335 Q821.178 809.099 818.4 810.65 L818.4 805.928 Q821.224 804.793 823.678 804.215 Q826.132 803.636 828.169 803.636 Q833.539 803.636 836.733 806.321 Q839.928 809.006 839.928 813.497 Q839.928 815.627 839.118 817.548 Q838.331 819.446 836.224 822.039 Q835.645 822.71 832.544 825.928 Q829.442 829.122 823.794 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1330.53 808.335 L1318.73 826.784 L1330.53 826.784 L1330.53 808.335 M1329.3 804.261 L1335.18 804.261 L1335.18 826.784 L1340.11 826.784 L1340.11 830.673 L1335.18 830.673 L1335.18 838.821 L1330.53 838.821 L1330.53 830.673 L1314.93 830.673 L1314.93 826.159 L1329.3 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1826.31 819.678 Q1823.16 819.678 1821.31 821.83 Q1819.48 823.983 1819.48 827.733 Q1819.48 831.46 1821.31 833.636 Q1823.16 835.789 1826.31 835.789 Q1829.46 835.789 1831.28 833.636 Q1833.14 831.46 1833.14 827.733 Q1833.14 823.983 1831.28 821.83 Q1829.46 819.678 1826.31 819.678 M1835.59 805.025 L1835.59 809.284 Q1833.83 808.451 1832.03 808.011 Q1830.24 807.571 1828.48 807.571 Q1823.85 807.571 1821.4 810.696 Q1818.97 813.821 1818.62 820.141 Q1819.99 818.127 1822.05 817.062 Q1824.11 815.974 1826.59 815.974 Q1831.79 815.974 1834.8 819.145 Q1837.84 822.293 1837.84 827.733 Q1837.84 833.057 1834.69 836.275 Q1831.54 839.492 1826.31 839.492 Q1820.31 839.492 1817.14 834.909 Q1813.97 830.303 1813.97 821.576 Q1813.97 813.381 1817.86 808.52 Q1821.75 803.636 1828.3 803.636 Q1830.06 803.636 1831.84 803.983 Q1833.65 804.33 1835.59 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2324.28 822.409 Q2320.95 822.409 2319.03 824.191 Q2317.13 825.974 2317.13 829.099 Q2317.13 832.224 2319.03 834.006 Q2320.95 835.789 2324.28 835.789 Q2327.62 835.789 2329.54 834.006 Q2331.46 832.201 2331.46 829.099 Q2331.46 825.974 2329.54 824.191 Q2327.64 822.409 2324.28 822.409 M2319.61 820.418 Q2316.6 819.678 2314.91 817.617 Q2313.24 815.557 2313.24 812.594 Q2313.24 808.451 2316.18 806.043 Q2319.15 803.636 2324.28 803.636 Q2329.45 803.636 2332.39 806.043 Q2335.33 808.451 2335.33 812.594 Q2335.33 815.557 2333.64 817.617 Q2331.97 819.678 2328.98 820.418 Q2332.36 821.205 2334.24 823.497 Q2336.14 825.789 2336.14 829.099 Q2336.14 834.122 2333.06 836.807 Q2330 839.492 2324.28 839.492 Q2318.57 839.492 2315.49 836.807 Q2312.43 834.122 2312.43 829.099 Q2312.43 825.789 2314.33 823.497 Q2316.23 821.205 2319.61 820.418 M2317.9 813.034 Q2317.9 815.719 2319.56 817.224 Q2321.25 818.729 2324.28 818.729 Q2327.29 818.729 2328.98 817.224 Q2330.7 815.719 2330.7 813.034 Q2330.7 810.349 2328.98 808.844 Q2327.29 807.34 2324.28 807.34 Q2321.25 807.34 2319.56 808.844 Q2317.9 810.349 2317.9 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1436.3 873.776 L1442.19 873.776 L1442.19 903.026 L1459.66 887.653 L1467.14 887.653 L1448.23 904.331 L1467.94 923.301 L1460.3 923.301 L1442.19 905.891 L1442.19 923.301 L1436.3 923.301 L1436.3 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 263.478,47.2441 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,685.694 282.376,685.694 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,547.65 282.376,547.65 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,409.606 282.376,409.606 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,271.563 282.376,271.563 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,133.519 282.376,133.519 "></polyline>
<path clip-path="url(#clip660)" d="M116.214 686.145 L145.89 686.145 L145.89 690.08 L116.214 690.08 L116.214 686.145 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M160.011 699.039 L176.33 699.039 L176.33 702.974 L154.386 702.974 L154.386 699.039 Q157.048 696.284 161.631 691.654 Q166.237 687.002 167.418 685.659 Q169.663 683.136 170.543 681.4 Q171.446 679.641 171.446 677.951 Q171.446 675.196 169.501 673.46 Q167.58 671.724 164.478 671.724 Q162.279 671.724 159.825 672.488 Q157.395 673.252 154.617 674.803 L154.617 670.08 Q157.441 668.946 159.895 668.367 Q162.348 667.789 164.385 667.789 Q169.756 667.789 172.95 670.474 Q176.145 673.159 176.145 677.65 Q176.145 679.779 175.334 681.701 Q174.547 683.599 172.441 686.191 Q171.862 686.863 168.76 690.08 Q165.659 693.275 160.011 699.039 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M186.145 697.094 L191.029 697.094 L191.029 702.974 L186.145 702.974 L186.145 697.094 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M211.214 671.492 Q207.603 671.492 205.774 675.057 Q203.969 678.599 203.969 685.729 Q203.969 692.835 205.774 696.4 Q207.603 699.941 211.214 699.941 Q214.848 699.941 216.654 696.4 Q218.482 692.835 218.482 685.729 Q218.482 678.599 216.654 675.057 Q214.848 671.492 211.214 671.492 M211.214 667.789 Q217.024 667.789 220.08 672.395 Q223.158 676.979 223.158 685.729 Q223.158 694.455 220.08 699.062 Q217.024 703.645 211.214 703.645 Q205.404 703.645 202.325 699.062 Q199.27 694.455 199.27 685.729 Q199.27 676.979 202.325 672.395 Q205.404 667.789 211.214 667.789 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M117.21 548.101 L146.886 548.101 L146.886 552.037 L117.21 552.037 L117.21 548.101 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M157.788 560.995 L165.427 560.995 L165.427 534.629 L157.117 536.296 L157.117 532.037 L165.381 530.37 L170.057 530.37 L170.057 560.995 L177.696 560.995 L177.696 564.93 L157.788 564.93 L157.788 560.995 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M187.14 559.05 L192.024 559.05 L192.024 564.93 L187.14 564.93 L187.14 559.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M202.256 530.37 L220.612 530.37 L220.612 534.305 L206.538 534.305 L206.538 542.777 Q207.557 542.43 208.575 542.268 Q209.594 542.083 210.612 542.083 Q216.399 542.083 219.779 545.254 Q223.158 548.426 223.158 553.842 Q223.158 559.421 219.686 562.523 Q216.214 565.601 209.894 565.601 Q207.719 565.601 205.45 565.231 Q203.205 564.861 200.797 564.12 L200.797 559.421 Q202.881 560.555 205.103 561.111 Q207.325 561.666 209.802 561.666 Q213.807 561.666 216.144 559.56 Q218.482 557.453 218.482 553.842 Q218.482 550.231 216.144 548.125 Q213.807 546.018 209.802 546.018 Q207.927 546.018 206.052 546.435 Q204.2 546.851 202.256 547.731 L202.256 530.37 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M116.214 410.058 L145.89 410.058 L145.89 413.993 L116.214 413.993 L116.214 410.058 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M156.793 422.951 L164.432 422.951 L164.432 396.586 L156.122 398.252 L156.122 393.993 L164.385 392.326 L169.061 392.326 L169.061 422.951 L176.7 422.951 L176.7 426.886 L156.793 426.886 L156.793 422.951 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M186.145 421.007 L191.029 421.007 L191.029 426.886 L186.145 426.886 L186.145 421.007 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M211.214 395.405 Q207.603 395.405 205.774 398.97 Q203.969 402.512 203.969 409.641 Q203.969 416.748 205.774 420.312 Q207.603 423.854 211.214 423.854 Q214.848 423.854 216.654 420.312 Q218.482 416.748 218.482 409.641 Q218.482 402.512 216.654 398.97 Q214.848 395.405 211.214 395.405 M211.214 391.701 Q217.024 391.701 220.08 396.308 Q223.158 400.891 223.158 409.641 Q223.158 418.368 220.08 422.974 Q217.024 427.558 211.214 427.558 Q205.404 427.558 202.325 422.974 Q199.27 418.368 199.27 409.641 Q199.27 400.891 202.325 396.308 Q205.404 391.701 211.214 391.701 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M117.21 272.014 L146.886 272.014 L146.886 275.949 L117.21 275.949 L117.21 272.014 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M166.978 257.361 Q163.367 257.361 161.538 260.926 Q159.733 264.468 159.733 271.597 Q159.733 278.704 161.538 282.269 Q163.367 285.81 166.978 285.81 Q170.612 285.81 172.418 282.269 Q174.247 278.704 174.247 271.597 Q174.247 264.468 172.418 260.926 Q170.612 257.361 166.978 257.361 M166.978 253.658 Q172.788 253.658 175.844 258.264 Q178.922 262.847 178.922 271.597 Q178.922 280.324 175.844 284.931 Q172.788 289.514 166.978 289.514 Q161.168 289.514 158.089 284.931 Q155.034 280.324 155.034 271.597 Q155.034 262.847 158.089 258.264 Q161.168 253.658 166.978 253.658 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M187.14 282.963 L192.024 282.963 L192.024 288.843 L187.14 288.843 L187.14 282.963 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M202.256 254.283 L220.612 254.283 L220.612 258.218 L206.538 258.218 L206.538 266.69 Q207.557 266.343 208.575 266.181 Q209.594 265.996 210.612 265.996 Q216.399 265.996 219.779 269.167 Q223.158 272.338 223.158 277.755 Q223.158 283.333 219.686 286.435 Q216.214 289.514 209.894 289.514 Q207.719 289.514 205.45 289.144 Q203.205 288.773 200.797 288.033 L200.797 283.333 Q202.881 284.468 205.103 285.023 Q207.325 285.579 209.802 285.579 Q213.807 285.579 216.144 283.472 Q218.482 281.366 218.482 277.755 Q218.482 274.144 216.144 272.037 Q213.807 269.931 209.802 269.931 Q207.927 269.931 206.052 270.347 Q204.2 270.764 202.256 271.644 L202.256 254.283 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M165.983 119.318 Q162.372 119.318 160.543 122.883 Q158.737 126.424 158.737 133.554 Q158.737 140.66 160.543 144.225 Q162.372 147.767 165.983 147.767 Q169.617 147.767 171.422 144.225 Q173.251 140.66 173.251 133.554 Q173.251 126.424 171.422 122.883 Q169.617 119.318 165.983 119.318 M165.983 115.614 Q171.793 115.614 174.848 120.22 Q177.927 124.804 177.927 133.554 Q177.927 142.281 174.848 146.887 Q171.793 151.47 165.983 151.47 Q160.173 151.47 157.094 146.887 Q154.038 142.281 154.038 133.554 Q154.038 124.804 157.094 120.22 Q160.173 115.614 165.983 115.614 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M186.145 144.919 L191.029 144.919 L191.029 150.799 L186.145 150.799 L186.145 144.919 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M211.214 119.318 Q207.603 119.318 205.774 122.883 Q203.969 126.424 203.969 133.554 Q203.969 140.66 205.774 144.225 Q207.603 147.767 211.214 147.767 Q214.848 147.767 216.654 144.225 Q218.482 140.66 218.482 133.554 Q218.482 126.424 216.654 122.883 Q214.848 119.318 211.214 119.318 M211.214 115.614 Q217.024 115.614 220.08 120.22 Q223.158 124.804 223.158 133.554 Q223.158 142.281 220.08 146.887 Q217.024 151.47 211.214 151.47 Q205.404 151.47 202.325 146.887 Q199.27 142.281 199.27 133.554 Q199.27 124.804 202.325 120.22 Q205.404 115.614 211.214 115.614 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip662)" d="M330.76 737.545 L314.76 753.545 L330.76 769.545 L346.76 753.545 L330.76 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M579.95 212.834 L563.95 228.834 L579.95 244.834 L595.95 228.834 L579.95 212.834 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M829.141 65.4955 L813.141 81.4955 L829.141 97.4955 L845.141 81.4955 L829.141 65.4955 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1078.33 51.816 L1062.33 67.816 L1078.33 83.816 L1094.33 67.816 L1078.33 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1327.52 71.9435 L1311.52 87.9435 L1327.52 103.943 L1343.52 87.9435 L1327.52 71.9435 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1576.71 92.3339 L1560.71 108.334 L1576.71 124.334 L1592.71 108.334 L1576.71 92.3339 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M1825.9 105.62 L1809.9 121.62 L1825.9 137.62 L1841.9 121.62 L1825.9 105.62 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M2075.09 112.701 L2059.09 128.701 L2075.09 144.701 L2091.09 128.701 L2075.09 112.701 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M2324.28 115.951 L2308.28 131.951 L2324.28 147.951 L2340.28 131.951 L2324.28 115.951 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip662)" d="M2573.47 117.212 L2557.47 133.212 L2573.47 149.212 L2589.47 133.212 L2573.47 117.212 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip662)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,753.545 579.95,753.545 579.95,228.834 829.141,228.834 829.141,81.4955 1078.33,81.4955 1078.33,67.816 1327.52,67.816 1327.52,87.9435 1576.71,87.9435 1576.71,108.334 1825.9,108.334 1825.9,121.62 2075.09,121.62 2075.09,128.701 2324.28,128.701 2324.28,131.951 2573.47,131.951 2573.47,133.212 "></polyline>
<path clip-path="url(#clip660)" d="M2302.07 749.888 L2561.51 749.888 L2561.51 646.208 L2302.07 646.208  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2302.07,749.888 2561.51,749.888 2561.51,646.208 2302.07,646.208 2302.07,749.888 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.49,698.048 2486.97,698.048 "></polyline>
<path clip-path="url(#clip660)" d="M2513.39 705.096 L2513.39 689.402 L2517.65 689.402 L2517.65 704.934 Q2517.65 708.615 2519.08 710.467 Q2520.52 712.295 2523.39 712.295 Q2526.84 712.295 2528.83 710.096 Q2530.84 707.897 2530.84 704.101 L2530.84 689.402 L2535.1 689.402 L2535.1 715.328 L2530.84 715.328 L2530.84 711.346 Q2529.29 713.708 2527.23 714.865 Q2525.19 715.999 2522.48 715.999 Q2518.02 715.999 2515.7 713.221 Q2513.39 710.444 2513.39 705.096 M2524.1 688.777 L2524.1 688.777 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M263.478 1734.12 L2640.76 1734.12 L2640.76 1007.24 L263.478 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip663">
    <rect x="263" y="1007" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,1734.12 330.76,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="891.438,1734.12 891.438,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1452.12,1734.12 1452.12,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2012.8,1734.12 2012.8,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2573.47,1734.12 2573.47,1007.24 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1567.05 2640.76,1567.05 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1387.31 2640.76,1387.31 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1207.56 2640.76,1207.56 "></polyline>
<polyline clip-path="url(#clip663)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1734.12 330.76,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="891.438,1734.12 891.438,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1452.12,1734.12 1452.12,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2012.8,1734.12 2012.8,1715.22 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2573.47,1734.12 2573.47,1715.22 "></polyline>
<path clip-path="url(#clip660)" d="M308.144 1767.34 Q304.533 1767.34 302.704 1770.9 Q300.899 1774.45 300.899 1781.58 Q300.899 1788.68 302.704 1792.25 Q304.533 1795.79 308.144 1795.79 Q311.778 1795.79 313.584 1792.25 Q315.413 1788.68 315.413 1781.58 Q315.413 1774.45 313.584 1770.9 Q311.778 1767.34 308.144 1767.34 M308.144 1763.64 Q313.954 1763.64 317.01 1768.24 Q320.089 1772.83 320.089 1781.58 Q320.089 1790.3 317.01 1794.91 Q313.954 1799.49 308.144 1799.49 Q302.334 1799.49 299.255 1794.91 Q296.2 1790.3 296.2 1781.58 Q296.2 1772.83 299.255 1768.24 Q302.334 1763.64 308.144 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M328.306 1792.94 L333.19 1792.94 L333.19 1798.82 L328.306 1798.82 L328.306 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M353.375 1767.34 Q349.764 1767.34 347.936 1770.9 Q346.13 1774.45 346.13 1781.58 Q346.13 1788.68 347.936 1792.25 Q349.764 1795.79 353.375 1795.79 Q357.01 1795.79 358.815 1792.25 Q360.644 1788.68 360.644 1781.58 Q360.644 1774.45 358.815 1770.9 Q357.01 1767.34 353.375 1767.34 M353.375 1763.64 Q359.186 1763.64 362.241 1768.24 Q365.32 1772.83 365.32 1781.58 Q365.32 1790.3 362.241 1794.91 Q359.186 1799.49 353.375 1799.49 Q347.565 1799.49 344.487 1794.91 Q341.431 1790.3 341.431 1781.58 Q341.431 1772.83 344.487 1768.24 Q347.565 1763.64 353.375 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M863.175 1794.89 L879.494 1794.89 L879.494 1798.82 L857.55 1798.82 L857.55 1794.89 Q860.212 1792.13 864.795 1787.5 Q869.402 1782.85 870.582 1781.51 Q872.827 1778.98 873.707 1777.25 Q874.61 1775.49 874.61 1773.8 Q874.61 1771.04 872.665 1769.31 Q870.744 1767.57 867.642 1767.57 Q865.443 1767.57 862.99 1768.34 Q860.559 1769.1 857.781 1770.65 L857.781 1765.93 Q860.605 1764.79 863.059 1764.21 Q865.513 1763.64 867.55 1763.64 Q872.92 1763.64 876.114 1766.32 Q879.309 1769.01 879.309 1773.5 Q879.309 1775.63 878.499 1777.55 Q877.712 1779.45 875.605 1782.04 Q875.026 1782.71 871.925 1785.93 Q868.823 1789.12 863.175 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M889.309 1792.94 L894.193 1792.94 L894.193 1798.82 L889.309 1798.82 L889.309 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M904.424 1764.26 L922.781 1764.26 L922.781 1768.2 L908.707 1768.2 L908.707 1776.67 Q909.725 1776.32 910.744 1776.16 Q911.762 1775.97 912.781 1775.97 Q918.568 1775.97 921.948 1779.15 Q925.327 1782.32 925.327 1787.73 Q925.327 1793.31 921.855 1796.41 Q918.383 1799.49 912.063 1799.49 Q909.887 1799.49 907.619 1799.12 Q905.374 1798.75 902.966 1798.01 L902.966 1793.31 Q905.049 1794.45 907.272 1795 Q909.494 1795.56 911.971 1795.56 Q915.975 1795.56 918.313 1793.45 Q920.651 1791.34 920.651 1787.73 Q920.651 1784.12 918.313 1782.02 Q915.975 1779.91 911.971 1779.91 Q910.096 1779.91 908.221 1780.33 Q906.369 1780.74 904.424 1781.62 L904.424 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1419.28 1764.26 L1437.64 1764.26 L1437.64 1768.2 L1423.56 1768.2 L1423.56 1776.67 Q1424.58 1776.32 1425.6 1776.16 Q1426.62 1775.97 1427.64 1775.97 Q1433.43 1775.97 1436.8 1779.15 Q1440.18 1782.32 1440.18 1787.73 Q1440.18 1793.31 1436.71 1796.41 Q1433.24 1799.49 1426.92 1799.49 Q1424.74 1799.49 1422.48 1799.12 Q1420.23 1798.75 1417.82 1798.01 L1417.82 1793.31 Q1419.91 1794.45 1422.13 1795 Q1424.35 1795.56 1426.83 1795.56 Q1430.83 1795.56 1433.17 1793.45 Q1435.51 1791.34 1435.51 1787.73 Q1435.51 1784.12 1433.17 1782.02 Q1430.83 1779.91 1426.83 1779.91 Q1424.95 1779.91 1423.08 1780.33 Q1421.23 1780.74 1419.28 1781.62 L1419.28 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1449.4 1792.94 L1454.28 1792.94 L1454.28 1798.82 L1449.4 1798.82 L1449.4 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1474.47 1767.34 Q1470.86 1767.34 1469.03 1770.9 Q1467.22 1774.45 1467.22 1781.58 Q1467.22 1788.68 1469.03 1792.25 Q1470.86 1795.79 1474.47 1795.79 Q1478.1 1795.79 1479.91 1792.25 Q1481.74 1788.68 1481.74 1781.58 Q1481.74 1774.45 1479.91 1770.9 Q1478.1 1767.34 1474.47 1767.34 M1474.47 1763.64 Q1480.28 1763.64 1483.33 1768.24 Q1486.41 1772.83 1486.41 1781.58 Q1486.41 1790.3 1483.33 1794.91 Q1480.28 1799.49 1474.47 1799.49 Q1468.66 1799.49 1465.58 1794.91 Q1462.52 1790.3 1462.52 1781.58 Q1462.52 1772.83 1465.58 1768.24 Q1468.66 1763.64 1474.47 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1979.12 1764.26 L2001.34 1764.26 L2001.34 1766.25 L1988.79 1798.82 L1983.91 1798.82 L1995.71 1768.2 L1979.12 1768.2 L1979.12 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2010.46 1792.94 L2015.34 1792.94 L2015.34 1798.82 L2010.46 1798.82 L2010.46 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2025.57 1764.26 L2043.93 1764.26 L2043.93 1768.2 L2029.86 1768.2 L2029.86 1776.67 Q2030.87 1776.32 2031.89 1776.16 Q2032.91 1775.97 2033.93 1775.97 Q2039.72 1775.97 2043.1 1779.15 Q2046.48 1782.32 2046.48 1787.73 Q2046.48 1793.31 2043 1796.41 Q2039.53 1799.49 2033.21 1799.49 Q2031.04 1799.49 2028.77 1799.12 Q2026.52 1798.75 2024.12 1798.01 L2024.12 1793.31 Q2026.2 1794.45 2028.42 1795 Q2030.64 1795.56 2033.12 1795.56 Q2037.12 1795.56 2039.46 1793.45 Q2041.8 1791.34 2041.8 1787.73 Q2041.8 1784.12 2039.46 1782.02 Q2037.12 1779.91 2033.12 1779.91 Q2031.24 1779.91 2029.37 1780.33 Q2027.52 1780.74 2025.57 1781.62 L2025.57 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2525.55 1794.89 L2533.19 1794.89 L2533.19 1768.52 L2524.88 1770.19 L2524.88 1765.93 L2533.14 1764.26 L2537.81 1764.26 L2537.81 1794.89 L2545.45 1794.89 L2545.45 1798.82 L2525.55 1798.82 L2525.55 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2564.9 1767.34 Q2561.29 1767.34 2559.46 1770.9 Q2557.65 1774.45 2557.65 1781.58 Q2557.65 1788.68 2559.46 1792.25 Q2561.29 1795.79 2564.9 1795.79 Q2568.53 1795.79 2570.34 1792.25 Q2572.17 1788.68 2572.17 1781.58 Q2572.17 1774.45 2570.34 1770.9 Q2568.53 1767.34 2564.9 1767.34 M2564.9 1763.64 Q2570.71 1763.64 2573.76 1768.24 Q2576.84 1772.83 2576.84 1781.58 Q2576.84 1790.3 2573.76 1794.91 Q2570.71 1799.49 2564.9 1799.49 Q2559.09 1799.49 2556.01 1794.91 Q2552.95 1790.3 2552.95 1781.58 Q2552.95 1772.83 2556.01 1768.24 Q2559.09 1763.64 2564.9 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2585.06 1792.94 L2589.94 1792.94 L2589.94 1798.82 L2585.06 1798.82 L2585.06 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2610.13 1767.34 Q2606.52 1767.34 2604.69 1770.9 Q2602.88 1774.45 2602.88 1781.58 Q2602.88 1788.68 2604.69 1792.25 Q2606.52 1795.79 2610.13 1795.79 Q2613.76 1795.79 2615.57 1792.25 Q2617.4 1788.68 2617.4 1781.58 Q2617.4 1774.45 2615.57 1770.9 Q2613.76 1767.34 2610.13 1767.34 M2610.13 1763.64 Q2615.94 1763.64 2619 1768.24 Q2622.07 1772.83 2622.07 1781.58 Q2622.07 1790.3 2619 1794.91 Q2615.94 1799.49 2610.13 1799.49 Q2604.32 1799.49 2601.24 1794.91 Q2598.18 1790.3 2598.18 1781.58 Q2598.18 1772.83 2601.24 1768.24 Q2604.32 1763.64 2610.13 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M1436.3 1833.78 L1442.19 1833.78 L1442.19 1863.03 L1459.66 1847.65 L1467.14 1847.65 L1448.23 1864.33 L1467.94 1883.3 L1460.3 1883.3 L1442.19 1865.89 L1442.19 1883.3 L1436.3 1883.3 L1436.3 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 263.478,1007.24 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1567.05 282.376,1567.05 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1387.31 282.376,1387.31 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1207.56 282.376,1207.56 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1027.82 282.376,1027.82 "></polyline>
<path clip-path="url(#clip660)" d="M211.214 1552.85 Q207.603 1552.85 205.774 1556.42 Q203.969 1559.96 203.969 1567.09 Q203.969 1574.19 205.774 1577.76 Q207.603 1581.3 211.214 1581.3 Q214.848 1581.3 216.654 1577.76 Q218.482 1574.19 218.482 1567.09 Q218.482 1559.96 216.654 1556.42 Q214.848 1552.85 211.214 1552.85 M211.214 1549.15 Q217.024 1549.15 220.08 1553.75 Q223.158 1558.34 223.158 1567.09 Q223.158 1575.81 220.08 1580.42 Q217.024 1585 211.214 1585 Q205.404 1585 202.325 1580.42 Q199.27 1575.81 199.27 1567.09 Q199.27 1558.34 202.325 1553.75 Q205.404 1549.15 211.214 1549.15 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M203.251 1400.65 L210.89 1400.65 L210.89 1374.29 L202.58 1375.95 L202.58 1371.69 L210.844 1370.03 L215.519 1370.03 L215.519 1400.65 L223.158 1400.65 L223.158 1404.59 L203.251 1404.59 L203.251 1400.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M206.839 1220.91 L223.158 1220.91 L223.158 1224.84 L201.214 1224.84 L201.214 1220.91 Q203.876 1218.15 208.459 1213.52 Q213.066 1208.87 214.246 1207.53 Q216.492 1205 217.371 1203.27 Q218.274 1201.51 218.274 1199.82 Q218.274 1197.06 216.33 1195.33 Q214.408 1193.59 211.307 1193.59 Q209.107 1193.59 206.654 1194.36 Q204.223 1195.12 201.445 1196.67 L201.445 1191.95 Q204.27 1190.81 206.723 1190.24 Q209.177 1189.66 211.214 1189.66 Q216.584 1189.66 219.779 1192.34 Q222.973 1195.03 222.973 1199.52 Q222.973 1201.65 222.163 1203.57 Q221.376 1205.47 219.269 1208.06 Q218.691 1208.73 215.589 1211.95 Q212.487 1215.14 206.839 1220.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M216.029 1026.46 Q219.385 1027.18 221.26 1029.45 Q223.158 1031.72 223.158 1035.05 Q223.158 1040.17 219.64 1042.97 Q216.121 1045.77 209.64 1045.77 Q207.464 1045.77 205.149 1045.33 Q202.857 1044.91 200.404 1044.05 L200.404 1039.54 Q202.348 1040.67 204.663 1041.25 Q206.978 1041.83 209.501 1041.83 Q213.899 1041.83 216.191 1040.1 Q218.506 1038.36 218.506 1035.05 Q218.506 1031.99 216.353 1030.28 Q214.223 1028.55 210.404 1028.55 L206.376 1028.55 L206.376 1024.7 L210.589 1024.7 Q214.038 1024.7 215.867 1023.34 Q217.695 1021.95 217.695 1019.36 Q217.695 1016.69 215.797 1015.28 Q213.922 1013.85 210.404 1013.85 Q208.482 1013.85 206.283 1014.26 Q204.084 1014.68 201.445 1015.56 L201.445 1011.39 Q204.107 1010.65 206.422 1010.28 Q208.76 1009.91 210.82 1009.91 Q216.144 1009.91 219.246 1012.34 Q222.348 1014.75 222.348 1018.87 Q222.348 1021.74 220.705 1023.73 Q219.061 1025.7 216.029 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M109.046 1354.07 L126.392 1366.96 L144.694 1353.4 L144.694 1360.3 L130.689 1370.68 L144.694 1381.06 L144.694 1387.96 L126.042 1374.12 L109.046 1386.79 L109.046 1379.88 L121.745 1370.43 L109.046 1360.97 L109.046 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip663)" d="M330.76 1371.31 L314.76 1387.31 L330.76 1403.31 L346.76 1387.31 L330.76 1371.31 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M555.031 1675.26 L539.031 1691.26 L555.031 1707.26 L571.031 1691.26 L555.031 1675.26 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M779.303 1697.55 L763.303 1713.55 L779.303 1729.55 L795.303 1713.55 L779.303 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1003.57 1650.89 L987.574 1666.89 L1003.57 1682.89 L1019.57 1666.89 L1003.57 1650.89 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1227.85 1605.68 L1211.85 1621.68 L1227.85 1637.68 L1243.85 1621.68 L1227.85 1605.68 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1452.12 1576.67 L1436.12 1592.67 L1452.12 1608.67 L1468.12 1592.67 L1452.12 1576.67 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1676.39 1561.38 L1660.39 1577.38 L1676.39 1593.38 L1692.39 1577.38 L1676.39 1561.38 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1900.66 1554.44 L1884.66 1570.44 L1900.66 1586.44 L1916.66 1570.44 L1900.66 1554.44 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2124.93 1551.76 L2108.93 1567.76 L2124.93 1583.76 L2140.93 1567.76 L2124.93 1551.76 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2349.2 1550.96 L2333.2 1566.96 L2349.2 1582.96 L2365.2 1566.96 L2349.2 1550.96 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2573.47 1550.85 L2557.47 1566.85 L2573.47 1582.85 L2589.47 1566.85 L2573.47 1550.85 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip663)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1387.31 555.031,1387.31 555.031,1691.26 779.303,1691.26 779.303,1713.55 1003.57,1713.55 1003.57,1666.89 1227.85,1666.89 1227.85,1621.68 1452.12,1621.68 1452.12,1592.67 1676.39,1592.67 1676.39,1577.38 1900.66,1577.38 1900.66,1570.44 2124.93,1570.44 2124.93,1567.76 2349.2,1567.76 2349.2,1566.96 2573.47,1566.96 2573.47,1566.85 "></polyline>
<path clip-path="url(#clip663)" d="M330.76 1011.82 L314.76 1027.82 L330.76 1043.82 L346.76 1027.82 L330.76 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M555.031 1201.68 L539.031 1217.68 L555.031 1233.68 L571.031 1217.68 L555.031 1201.68 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M779.303 1365.67 L763.303 1381.67 L779.303 1397.67 L795.303 1381.67 L779.303 1365.67 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1003.57 1466.4 L987.574 1482.4 L1003.57 1498.4 L1019.57 1482.4 L1003.57 1466.4 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1227.85 1518.01 L1211.85 1534.01 L1227.85 1550.01 L1243.85 1534.01 L1227.85 1518.01 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1452.12 1540.82 L1436.12 1556.82 L1452.12 1572.82 L1468.12 1556.82 L1452.12 1540.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1676.39 1549.37 L1660.39 1565.37 L1676.39 1581.37 L1692.39 1565.37 L1676.39 1549.37 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M1900.66 1551.82 L1884.66 1567.82 L1900.66 1583.82 L1916.66 1567.82 L1900.66 1551.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2124.93 1552.1 L2108.93 1568.1 L2124.93 1584.1 L2140.93 1568.1 L2124.93 1552.1 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2349.2 1551.82 L2333.2 1567.82 L2349.2 1583.82 L2365.2 1567.82 L2349.2 1551.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip663)" d="M2573.47 1551.52 L2557.47 1567.52 L2573.47 1583.52 L2589.47 1567.52 L2573.47 1551.52 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip663)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1027.82 555.031,1027.82 555.031,1217.68 779.303,1217.68 779.303,1381.67 1003.57,1381.67 1003.57,1482.4 1227.85,1482.4 1227.85,1534.01 1452.12,1534.01 1452.12,1556.82 1676.39,1556.82 1676.39,1565.37 1900.66,1565.37 1900.66,1567.82 2124.93,1567.82 2124.93,1568.1 2349.2,1568.1 2349.2,1567.82 2573.47,1567.82 2573.47,1567.52 "></polyline>
<path clip-path="url(#clip660)" d="M2280.68 1186.99 L2561.51 1186.99 L2561.51 1031.47 L2280.68 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip660)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2280.68,1186.99 2561.51,1186.99 2561.51,1031.47 2280.68,1031.47 2280.68,1186.99 "></polyline>
<polyline clip-path="url(#clip660)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1083.31 2465.58,1083.31 "></polyline>
<path clip-path="url(#clip660)" d="M2516.65 1074.67 L2507.28 1087.28 L2517.14 1100.59 L2512.11 1100.59 L2504.57 1090.41 L2497.02 1100.59 L2492 1100.59 L2502.07 1087.03 L2492.85 1074.67 L2497.88 1074.67 L2504.75 1083.9 L2511.63 1074.67 L2516.65 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2522.3 1098.05 L2527.02 1098.05 L2527.02 1083.9 L2521.86 1084.85 L2521.86 1082.17 L2527.18 1081.26 L2530.35 1081.26 L2530.35 1098.05 L2535.1 1098.05 L2535.1 1100.59 L2522.3 1100.59 L2522.3 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip660)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1135.15 2465.58,1135.15 "></polyline>
<path clip-path="url(#clip660)" d="M2516.65 1126.51 L2507.28 1139.12 L2517.14 1152.43 L2512.11 1152.43 L2504.57 1142.25 L2497.02 1152.43 L2492 1152.43 L2502.07 1138.87 L2492.85 1126.51 L2497.88 1126.51 L2504.75 1135.74 L2511.63 1126.51 L2516.65 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip660)" d="M2524.89 1149.79 L2534.71 1149.79 L2534.71 1152.43 L2520.86 1152.43 L2520.86 1149.89 Q2521.65 1149.17 2523.11 1147.87 Q2531.07 1140.81 2531.07 1138.64 Q2531.07 1137.11 2529.87 1136.18 Q2528.66 1135.23 2526.7 1135.23 Q2525.49 1135.23 2524.08 1135.65 Q2522.67 1136.04 2521 1136.85 L2521 1134.01 Q2522.78 1133.36 2524.31 1133.04 Q2525.86 1132.71 2527.18 1132.71 Q2530.54 1132.71 2532.55 1134.24 Q2534.57 1135.77 2534.57 1138.27 Q2534.57 1141.48 2526.9 1148.06 Q2525.61 1149.17 2524.89 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-constraints-on-controls-and-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-constraints-on-controls-and-states">Adding constraints on controls and states</h3>
<p>When solving a realistic optimal control problem, we may want to impose inequality constraints on <span class="math inline">\bm u_k</span> due to saturation of actuators. We may also want to add constraints on <span class="math inline">\bm x_k</span> as well, which may reflect some performance specifications. In both cases, we would arrive at the full KKT conditions, and rather than trying to solve these, we resort to some finetuned numerical solver for quadratic programming (QP) instead.</p>
<div id="exm-direct-simultaneous-constrained-using-jump" class="theorem example">
<p><span class="theorem-title"><strong>Example 2 (Simultaneous approach to the LQR problem with constraints on control – higher-level implementation using optimization modelling language JuMP)</strong></span> While developing the model all the way down to the individual matrices and vectors gives an insight into the structure of the problem (we learnt that in absence of constraints it amounts to solving an indefinite system of linear equations), here we show how the use of an optimization modelling language can make the process of building the model a lot more convenient. We use JuMP for this purpose, but things would be similar with, say, cvxpy in Python or Yalmip in Matlab.</p>
<div id="4" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>ocp <span class="op">=</span> <span class="fu">Model</span>(OSQP.Optimizer)</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a><span class="fu">set_silent</span>(ocp)</span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, umin <span class="op">&lt;=</span> u[<span class="fl">1</span><span class="op">:</span>N] <span class="op">&lt;=</span> umax)</span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="pp">@variable</span>(ocp, x[<span class="fl">1</span><span class="op">:</span>n,<span class="fl">1</span><span class="op">:</span>N<span class="op">+</span><span class="fl">1</span>])</span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(ocp, x[<span class="op">:</span>,i<span class="op">+</span><span class="fl">1</span>] <span class="op">==</span> A<span class="op">*</span>x[<span class="op">:</span>,i] <span class="op">+</span> B<span class="op">*</span>u[i])</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a><span class="cf">end</span></span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">1</span>,<span class="fl">1</span>], x₀[<span class="fl">1</span>])</span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a><span class="fu">fix</span>(x[<span class="fl">2</span>,<span class="fl">1</span>], x₀[<span class="fl">2</span>])</span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="pp">@objective</span>(ocp, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(x[<span class="op">:</span>,N],S,x[<span class="op">:</span>,N]) <span class="op">+</span> <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*sum</span>(<span class="fu">dot</span>(x[<span class="op">:</span>,i],Q,x[<span class="op">:</span>,i]) <span class="op">+</span> <span class="fu">dot</span>(u[i],R,u[i]) <span class="cf">for</span> i <span class="kw">in</span> <span class="fl">1</span><span class="op">:</span>N<span class="op">-</span><span class="fl">1</span>))</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-39"><a href="#cb2-39" aria-hidden="true" tabindex="-1"></a><span class="fu">optimize!</span>(ocp)</span>
<span id="cb2-40"><a href="#cb2-40" aria-hidden="true" tabindex="-1"></a>uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb2-41"><a href="#cb2-41" aria-hidden="true" tabindex="-1"></a>xopt <span class="op">=</span> <span class="fu">value</span>.(x)</span>
<span id="cb2-42"><a href="#cb2-42" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-43"><a href="#cb2-43" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb2-44"><a href="#cb2-44" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-45"><a href="#cb2-45" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-46"><a href="#cb2-46" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-47"><a href="#cb2-47" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb2-48"><a href="#cb2-48" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-49"><a href="#cb2-49" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,xopt<span class="op">'</span>,marker<span class="op">=:</span>diamond,label<span class="op">=</span>[<span class="st">"x₁"</span> <span class="st">"x₂"</span>],linetype<span class="op">=:</span>steppost)</span>
<span id="cb2-50"><a href="#cb2-50" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb2-51"><a href="#cb2-51" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb2-52"><a href="#cb2-52" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-53"><a href="#cb2-53" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip720">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip720)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip721">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip720)" d="M293.64 774.117 L2640.76 774.117 L2640.76 47.2441 L293.64 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip722">
    <rect x="293" y="47" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,774.117 360.068,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="852.126,774.117 852.126,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1344.18,774.117 1344.18,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1836.24,774.117 1836.24,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2328.3,774.117 2328.3,47.2441 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,753.545 2640.76,753.545 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,582.113 2640.76,582.113 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,410.681 2640.76,410.681 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,239.248 2640.76,239.248 "></polyline>
<polyline clip-path="url(#clip722)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,67.816 2640.76,67.816 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,774.117 360.068,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="852.126,774.117 852.126,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1344.18,774.117 1344.18,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1836.24,774.117 1836.24,755.219 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2328.3,774.117 2328.3,755.219 "></polyline>
<path clip-path="url(#clip720)" d="M360.068 807.34 Q356.457 807.34 354.628 810.904 Q352.823 814.446 352.823 821.576 Q352.823 828.682 354.628 832.247 Q356.457 835.789 360.068 835.789 Q363.702 835.789 365.508 832.247 Q367.336 828.682 367.336 821.576 Q367.336 814.446 365.508 810.904 Q363.702 807.34 360.068 807.34 M360.068 803.636 Q365.878 803.636 368.934 808.242 Q372.012 812.826 372.012 821.576 Q372.012 830.303 368.934 834.909 Q365.878 839.492 360.068 839.492 Q354.258 839.492 351.179 834.909 Q348.124 830.303 348.124 821.576 Q348.124 812.826 351.179 808.242 Q354.258 803.636 360.068 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M846.779 834.886 L863.098 834.886 L863.098 838.821 L841.154 838.821 L841.154 834.886 Q843.816 832.131 848.399 827.502 Q853.005 822.849 854.186 821.506 Q856.431 818.983 857.311 817.247 Q858.214 815.488 858.214 813.798 Q858.214 811.043 856.269 809.307 Q854.348 807.571 851.246 807.571 Q849.047 807.571 846.593 808.335 Q844.163 809.099 841.385 810.65 L841.385 805.928 Q844.209 804.793 846.663 804.215 Q849.117 803.636 851.154 803.636 Q856.524 803.636 859.718 806.321 Q862.913 809.006 862.913 813.497 Q862.913 815.627 862.103 817.548 Q861.316 819.446 859.209 822.039 Q858.63 822.71 855.529 825.928 Q852.427 829.122 846.779 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1347.19 808.335 L1335.39 826.784 L1347.19 826.784 L1347.19 808.335 M1345.97 804.261 L1351.85 804.261 L1351.85 826.784 L1356.78 826.784 L1356.78 830.673 L1351.85 830.673 L1351.85 838.821 L1347.19 838.821 L1347.19 830.673 L1331.59 830.673 L1331.59 826.159 L1345.97 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1836.65 819.678 Q1833.5 819.678 1831.65 821.83 Q1829.82 823.983 1829.82 827.733 Q1829.82 831.46 1831.65 833.636 Q1833.5 835.789 1836.65 835.789 Q1839.79 835.789 1841.62 833.636 Q1843.48 831.46 1843.48 827.733 Q1843.48 823.983 1841.62 821.83 Q1839.79 819.678 1836.65 819.678 M1845.93 805.025 L1845.93 809.284 Q1844.17 808.451 1842.36 808.011 Q1840.58 807.571 1838.82 807.571 Q1834.19 807.571 1831.74 810.696 Q1829.31 813.821 1828.96 820.141 Q1830.33 818.127 1832.39 817.062 Q1834.45 815.974 1836.92 815.974 Q1842.13 815.974 1845.14 819.145 Q1848.17 822.293 1848.17 827.733 Q1848.17 833.057 1845.03 836.275 Q1841.88 839.492 1836.65 839.492 Q1830.65 839.492 1827.48 834.909 Q1824.31 830.303 1824.31 821.576 Q1824.31 813.381 1828.2 808.52 Q1832.09 803.636 1838.64 803.636 Q1840.4 803.636 1842.18 803.983 Q1843.98 804.33 1845.93 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2328.3 822.409 Q2324.97 822.409 2323.04 824.191 Q2321.15 825.974 2321.15 829.099 Q2321.15 832.224 2323.04 834.006 Q2324.97 835.789 2328.3 835.789 Q2331.63 835.789 2333.55 834.006 Q2335.48 832.201 2335.48 829.099 Q2335.48 825.974 2333.55 824.191 Q2331.66 822.409 2328.3 822.409 M2323.62 820.418 Q2320.61 819.678 2318.92 817.617 Q2317.26 815.557 2317.26 812.594 Q2317.26 808.451 2320.2 806.043 Q2323.16 803.636 2328.3 803.636 Q2333.46 803.636 2336.4 806.043 Q2339.34 808.451 2339.34 812.594 Q2339.34 815.557 2337.65 817.617 Q2335.98 819.678 2333 820.418 Q2336.38 821.205 2338.25 823.497 Q2340.15 825.789 2340.15 829.099 Q2340.15 834.122 2337.07 836.807 Q2334.02 839.492 2328.3 839.492 Q2322.58 839.492 2319.5 836.807 Q2316.45 834.122 2316.45 829.099 Q2316.45 825.789 2318.35 823.497 Q2320.24 821.205 2323.62 820.418 M2321.91 813.034 Q2321.91 815.719 2323.58 817.224 Q2325.27 818.729 2328.3 818.729 Q2331.31 818.729 2333 817.224 Q2334.71 815.719 2334.71 813.034 Q2334.71 810.349 2333 808.844 Q2331.31 807.34 2328.3 807.34 Q2325.27 807.34 2323.58 808.844 Q2321.91 810.349 2321.91 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1451.38 873.776 L1457.27 873.776 L1457.27 903.026 L1474.74 887.653 L1482.22 887.653 L1463.31 904.331 L1483.02 923.301 L1475.38 923.301 L1457.27 905.891 L1457.27 923.301 L1451.38 923.301 L1451.38 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,774.117 293.64,47.2441 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,753.545 312.538,753.545 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,582.113 312.538,582.113 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,410.681 312.538,410.681 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,239.248 312.538,239.248 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,67.816 312.538,67.816 "></polyline>
<path clip-path="url(#clip720)" d="M116.214 753.996 L145.89 753.996 L145.89 757.932 L116.214 757.932 L116.214 753.996 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M156.793 766.89 L164.432 766.89 L164.432 740.524 L156.122 742.191 L156.122 737.932 L164.385 736.265 L169.061 736.265 L169.061 766.89 L176.7 766.89 L176.7 770.825 L156.793 770.825 L156.793 766.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M186.145 764.946 L191.029 764.946 L191.029 770.825 L186.145 770.825 L186.145 764.946 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M211.214 739.344 Q207.603 739.344 205.774 742.909 Q203.969 746.45 203.969 753.58 Q203.969 760.686 205.774 764.251 Q207.603 767.793 211.214 767.793 Q214.848 767.793 216.654 764.251 Q218.482 760.686 218.482 753.58 Q218.482 746.45 216.654 742.909 Q214.848 739.344 211.214 739.344 M211.214 735.64 Q217.024 735.64 220.08 740.247 Q223.158 744.83 223.158 753.58 Q223.158 762.307 220.08 766.913 Q217.024 771.496 211.214 771.496 Q205.404 771.496 202.325 766.913 Q199.27 762.307 199.27 753.58 Q199.27 744.83 202.325 740.247 Q205.404 735.64 211.214 735.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M241.376 739.344 Q237.765 739.344 235.936 742.909 Q234.13 746.45 234.13 753.58 Q234.13 760.686 235.936 764.251 Q237.765 767.793 241.376 767.793 Q245.01 767.793 246.816 764.251 Q248.644 760.686 248.644 753.58 Q248.644 746.45 246.816 742.909 Q245.01 739.344 241.376 739.344 M241.376 735.64 Q247.186 735.64 250.242 740.247 Q253.32 744.83 253.32 753.58 Q253.32 762.307 250.242 766.913 Q247.186 771.496 241.376 771.496 Q235.566 771.496 232.487 766.913 Q229.431 762.307 229.431 753.58 Q229.431 744.83 232.487 740.247 Q235.566 735.64 241.376 735.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M117.21 582.564 L146.886 582.564 L146.886 586.499 L117.21 586.499 L117.21 582.564 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M166.978 567.912 Q163.367 567.912 161.538 571.476 Q159.733 575.018 159.733 582.148 Q159.733 589.254 161.538 592.819 Q163.367 596.36 166.978 596.36 Q170.612 596.36 172.418 592.819 Q174.247 589.254 174.247 582.148 Q174.247 575.018 172.418 571.476 Q170.612 567.912 166.978 567.912 M166.978 564.208 Q172.788 564.208 175.844 568.814 Q178.922 573.398 178.922 582.148 Q178.922 590.874 175.844 595.481 Q172.788 600.064 166.978 600.064 Q161.168 600.064 158.089 595.481 Q155.034 590.874 155.034 582.148 Q155.034 573.398 158.089 568.814 Q161.168 564.208 166.978 564.208 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M187.14 593.513 L192.024 593.513 L192.024 599.393 L187.14 599.393 L187.14 593.513 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M201.029 564.833 L223.251 564.833 L223.251 566.824 L210.705 599.393 L205.82 599.393 L217.626 568.768 L201.029 568.768 L201.029 564.833 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M232.418 564.833 L250.774 564.833 L250.774 568.768 L236.7 568.768 L236.7 577.24 Q237.718 576.893 238.737 576.731 Q239.755 576.546 240.774 576.546 Q246.561 576.546 249.941 579.717 Q253.32 582.888 253.32 588.305 Q253.32 593.884 249.848 596.985 Q246.376 600.064 240.056 600.064 Q237.88 600.064 235.612 599.694 Q233.367 599.323 230.959 598.583 L230.959 593.884 Q233.043 595.018 235.265 595.573 Q237.487 596.129 239.964 596.129 Q243.968 596.129 246.306 594.022 Q248.644 591.916 248.644 588.305 Q248.644 584.694 246.306 582.587 Q243.968 580.481 239.964 580.481 Q238.089 580.481 236.214 580.898 Q234.362 581.314 232.418 582.194 L232.418 564.833 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M116.214 411.132 L145.89 411.132 L145.89 415.067 L116.214 415.067 L116.214 411.132 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M165.983 396.479 Q162.372 396.479 160.543 400.044 Q158.737 403.586 158.737 410.715 Q158.737 417.822 160.543 421.386 Q162.372 424.928 165.983 424.928 Q169.617 424.928 171.422 421.386 Q173.251 417.822 173.251 410.715 Q173.251 403.586 171.422 400.044 Q169.617 396.479 165.983 396.479 M165.983 392.776 Q171.793 392.776 174.848 397.382 Q177.927 401.965 177.927 410.715 Q177.927 419.442 174.848 424.049 Q171.793 428.632 165.983 428.632 Q160.173 428.632 157.094 424.049 Q154.038 419.442 154.038 410.715 Q154.038 401.965 157.094 397.382 Q160.173 392.776 165.983 392.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M186.145 422.081 L191.029 422.081 L191.029 427.961 L186.145 427.961 L186.145 422.081 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M201.26 393.401 L219.617 393.401 L219.617 397.336 L205.543 397.336 L205.543 405.808 Q206.561 405.461 207.58 405.299 Q208.598 405.113 209.617 405.113 Q215.404 405.113 218.783 408.285 Q222.163 411.456 222.163 416.873 Q222.163 422.451 218.691 425.553 Q215.219 428.632 208.899 428.632 Q206.723 428.632 204.455 428.261 Q202.209 427.891 199.802 427.15 L199.802 422.451 Q201.885 423.586 204.107 424.141 Q206.33 424.697 208.807 424.697 Q212.811 424.697 215.149 422.59 Q217.487 420.484 217.487 416.873 Q217.487 413.262 215.149 411.155 Q212.811 409.049 208.807 409.049 Q206.932 409.049 205.057 409.465 Q203.205 409.882 201.26 410.762 L201.26 393.401 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M241.376 396.479 Q237.765 396.479 235.936 400.044 Q234.13 403.586 234.13 410.715 Q234.13 417.822 235.936 421.386 Q237.765 424.928 241.376 424.928 Q245.01 424.928 246.816 421.386 Q248.644 417.822 248.644 410.715 Q248.644 403.586 246.816 400.044 Q245.01 396.479 241.376 396.479 M241.376 392.776 Q247.186 392.776 250.242 397.382 Q253.32 401.965 253.32 410.715 Q253.32 419.442 250.242 424.049 Q247.186 428.632 241.376 428.632 Q235.566 428.632 232.487 424.049 Q229.431 419.442 229.431 410.715 Q229.431 401.965 232.487 397.382 Q235.566 392.776 241.376 392.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M117.21 239.7 L146.886 239.7 L146.886 243.635 L117.21 243.635 L117.21 239.7 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M166.978 225.047 Q163.367 225.047 161.538 228.612 Q159.733 232.153 159.733 239.283 Q159.733 246.389 161.538 249.954 Q163.367 253.496 166.978 253.496 Q170.612 253.496 172.418 249.954 Q174.247 246.389 174.247 239.283 Q174.247 232.153 172.418 228.612 Q170.612 225.047 166.978 225.047 M166.978 221.343 Q172.788 221.343 175.844 225.95 Q178.922 230.533 178.922 239.283 Q178.922 248.01 175.844 252.616 Q172.788 257.2 166.978 257.2 Q161.168 257.2 158.089 252.616 Q155.034 248.01 155.034 239.283 Q155.034 230.533 158.089 225.95 Q161.168 221.343 166.978 221.343 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M187.14 250.649 L192.024 250.649 L192.024 256.528 L187.14 256.528 L187.14 250.649 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M206.237 252.593 L222.556 252.593 L222.556 256.528 L200.612 256.528 L200.612 252.593 Q203.274 249.838 207.857 245.209 Q212.464 240.556 213.644 239.214 Q215.89 236.69 216.769 234.954 Q217.672 233.195 217.672 231.505 Q217.672 228.751 215.728 227.015 Q213.807 225.278 210.705 225.278 Q208.506 225.278 206.052 226.042 Q203.621 226.806 200.844 228.357 L200.844 223.635 Q203.668 222.501 206.121 221.922 Q208.575 221.343 210.612 221.343 Q215.982 221.343 219.177 224.028 Q222.371 226.714 222.371 231.204 Q222.371 233.334 221.561 235.255 Q220.774 237.153 218.668 239.746 Q218.089 240.417 214.987 243.635 Q211.885 246.829 206.237 252.593 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M232.418 221.968 L250.774 221.968 L250.774 225.903 L236.7 225.903 L236.7 234.376 Q237.718 234.028 238.737 233.866 Q239.755 233.681 240.774 233.681 Q246.561 233.681 249.941 236.852 Q253.32 240.024 253.32 245.44 Q253.32 251.019 249.848 254.121 Q246.376 257.2 240.056 257.2 Q237.88 257.2 235.612 256.829 Q233.367 256.459 230.959 255.718 L230.959 251.019 Q233.043 252.153 235.265 252.709 Q237.487 253.264 239.964 253.264 Q243.968 253.264 246.306 251.158 Q248.644 249.051 248.644 245.44 Q248.644 241.829 246.306 239.723 Q243.968 237.616 239.964 237.616 Q238.089 237.616 236.214 238.033 Q234.362 238.45 232.418 239.329 L232.418 221.968 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M165.983 53.6146 Q162.372 53.6146 160.543 57.1794 Q158.737 60.7211 158.737 67.8507 Q158.737 74.9571 160.543 78.5219 Q162.372 82.0636 165.983 82.0636 Q169.617 82.0636 171.422 78.5219 Q173.251 74.9571 173.251 67.8507 Q173.251 60.7211 171.422 57.1794 Q169.617 53.6146 165.983 53.6146 M165.983 49.911 Q171.793 49.911 174.848 54.5174 Q177.927 59.1007 177.927 67.8507 Q177.927 76.5775 174.848 81.1839 Q171.793 85.7672 165.983 85.7672 Q160.173 85.7672 157.094 81.1839 Q154.038 76.5775 154.038 67.8507 Q154.038 59.1007 157.094 54.5174 Q160.173 49.911 165.983 49.911 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M186.145 79.2164 L191.029 79.2164 L191.029 85.096 L186.145 85.096 L186.145 79.2164 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M211.214 53.6146 Q207.603 53.6146 205.774 57.1794 Q203.969 60.7211 203.969 67.8507 Q203.969 74.9571 205.774 78.5219 Q207.603 82.0636 211.214 82.0636 Q214.848 82.0636 216.654 78.5219 Q218.482 74.9571 218.482 67.8507 Q218.482 60.7211 216.654 57.1794 Q214.848 53.6146 211.214 53.6146 M211.214 49.911 Q217.024 49.911 220.08 54.5174 Q223.158 59.1007 223.158 67.8507 Q223.158 76.5775 220.08 81.1839 Q217.024 85.7672 211.214 85.7672 Q205.404 85.7672 202.325 81.1839 Q199.27 76.5775 199.27 67.8507 Q199.27 59.1007 202.325 54.5174 Q205.404 49.911 211.214 49.911 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M241.376 53.6146 Q237.765 53.6146 235.936 57.1794 Q234.13 60.7211 234.13 67.8507 Q234.13 74.9571 235.936 78.5219 Q237.765 82.0636 241.376 82.0636 Q245.01 82.0636 246.816 78.5219 Q248.644 74.9571 248.644 67.8507 Q248.644 60.7211 246.816 57.1794 Q245.01 53.6146 241.376 53.6146 M241.376 49.911 Q247.186 49.911 250.242 54.5174 Q253.32 59.1007 253.32 67.8507 Q253.32 76.5775 250.242 81.1839 Q247.186 85.7672 241.376 85.7672 Q235.566 85.7672 232.487 81.1839 Q229.431 76.5775 229.431 67.8507 Q229.431 59.1007 232.487 54.5174 Q235.566 49.911 241.376 49.911 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip722)" d="M360.068 737.545 L344.068 753.545 L360.068 769.545 L376.068 753.545 L360.068 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M606.097 737.545 L590.097 753.545 L606.097 769.545 L622.097 753.545 L606.097 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M852.126 602.551 L836.126 618.551 L852.126 634.551 L868.126 618.551 L852.126 602.551 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1098.15 333.076 L1082.15 349.076 L1098.15 365.076 L1114.15 349.076 L1098.15 333.076 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1344.18 195.677 L1328.18 211.677 L1344.18 227.677 L1360.18 211.677 L1344.18 195.677 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1590.21 125.265 L1574.21 141.265 L1590.21 157.265 L1606.21 141.265 L1590.21 125.265 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M1836.24 88.9774 L1820.24 104.977 L1836.24 120.977 L1852.24 104.977 L1836.24 88.9774 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M2082.27 69.942 L2066.27 85.942 L2082.27 101.942 L2098.27 85.942 L2082.27 69.942 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M2328.3 59.2858 L2312.3 75.2858 L2328.3 91.2858 L2344.3 75.2858 L2328.3 59.2858 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip722)" d="M2574.33 51.816 L2558.33 67.816 L2574.33 83.816 L2590.33 67.816 L2574.33 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip722)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,753.545 606.097,753.545 606.097,753.545 852.126,753.545 852.126,618.551 1098.15,618.551 1098.15,349.076 1344.18,349.076 1344.18,211.677 1590.21,211.677 1590.21,141.265 1836.24,141.265 1836.24,104.977 2082.27,104.977 2082.27,85.942 2328.3,85.942 2328.3,75.2858 2574.33,75.2858 2574.33,67.816 "></polyline>
<path clip-path="url(#clip720)" d="M371.877 175.153 L628.302 175.153 L628.302 71.4732 L371.877 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="371.877,175.153 628.302,175.153 628.302,71.4732 371.877,71.4732 371.877,175.153 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="397.956,123.313 554.431,123.313 "></polyline>
<path clip-path="url(#clip720)" d="M580.51 130.362 L580.51 114.667 L584.769 114.667 L584.769 130.2 Q584.769 133.88 586.204 135.732 Q587.639 137.561 590.51 137.561 Q593.959 137.561 595.95 135.362 Q597.963 133.163 597.963 129.366 L597.963 114.667 L602.223 114.667 L602.223 140.593 L597.963 140.593 L597.963 136.612 Q596.413 138.973 594.352 140.13 Q592.315 141.264 589.607 141.264 Q585.139 141.264 582.825 138.487 Q580.51 135.709 580.51 130.362 M591.227 114.042 L591.227 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M293.64 1734.12 L2640.76 1734.12 L2640.76 1007.24 L293.64 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip723">
    <rect x="293" y="1007" width="2348" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="360.068,1734.12 360.068,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="913.633,1734.12 913.633,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1467.2,1734.12 1467.2,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2020.76,1734.12 2020.76,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2574.33,1734.12 2574.33,1007.24 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1714.22 2640.76,1714.22 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1485.42 2640.76,1485.42 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1256.62 2640.76,1256.62 "></polyline>
<polyline clip-path="url(#clip723)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="293.64,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1734.12 360.068,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="913.633,1734.12 913.633,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1467.2,1734.12 1467.2,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2020.76,1734.12 2020.76,1715.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2574.33,1734.12 2574.33,1715.22 "></polyline>
<path clip-path="url(#clip720)" d="M337.452 1767.34 Q333.841 1767.34 332.013 1770.9 Q330.207 1774.45 330.207 1781.58 Q330.207 1788.68 332.013 1792.25 Q333.841 1795.79 337.452 1795.79 Q341.087 1795.79 342.892 1792.25 Q344.721 1788.68 344.721 1781.58 Q344.721 1774.45 342.892 1770.9 Q341.087 1767.34 337.452 1767.34 M337.452 1763.64 Q343.263 1763.64 346.318 1768.24 Q349.397 1772.83 349.397 1781.58 Q349.397 1790.3 346.318 1794.91 Q343.263 1799.49 337.452 1799.49 Q331.642 1799.49 328.564 1794.91 Q325.508 1790.3 325.508 1781.58 Q325.508 1772.83 328.564 1768.24 Q331.642 1763.64 337.452 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M357.614 1792.94 L362.499 1792.94 L362.499 1798.82 L357.614 1798.82 L357.614 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M382.684 1767.34 Q379.073 1767.34 377.244 1770.9 Q375.438 1774.45 375.438 1781.58 Q375.438 1788.68 377.244 1792.25 Q379.073 1795.79 382.684 1795.79 Q386.318 1795.79 388.123 1792.25 Q389.952 1788.68 389.952 1781.58 Q389.952 1774.45 388.123 1770.9 Q386.318 1767.34 382.684 1767.34 M382.684 1763.64 Q388.494 1763.64 391.549 1768.24 Q394.628 1772.83 394.628 1781.58 Q394.628 1790.3 391.549 1794.91 Q388.494 1799.49 382.684 1799.49 Q376.873 1799.49 373.795 1794.91 Q370.739 1790.3 370.739 1781.58 Q370.739 1772.83 373.795 1768.24 Q376.873 1763.64 382.684 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M885.369 1794.89 L901.689 1794.89 L901.689 1798.82 L879.744 1798.82 L879.744 1794.89 Q882.406 1792.13 886.99 1787.5 Q891.596 1782.85 892.777 1781.51 Q895.022 1778.98 895.902 1777.25 Q896.804 1775.49 896.804 1773.8 Q896.804 1771.04 894.86 1769.31 Q892.939 1767.57 889.837 1767.57 Q887.638 1767.57 885.184 1768.34 Q882.754 1769.1 879.976 1770.65 L879.976 1765.93 Q882.8 1764.79 885.254 1764.21 Q887.707 1763.64 889.744 1763.64 Q895.115 1763.64 898.309 1766.32 Q901.503 1769.01 901.503 1773.5 Q901.503 1775.63 900.693 1777.55 Q899.906 1779.45 897.8 1782.04 Q897.221 1782.71 894.119 1785.93 Q891.017 1789.12 885.369 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M911.503 1792.94 L916.388 1792.94 L916.388 1798.82 L911.503 1798.82 L911.503 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M926.619 1764.26 L944.975 1764.26 L944.975 1768.2 L930.901 1768.2 L930.901 1776.67 Q931.92 1776.32 932.938 1776.16 Q933.957 1775.97 934.975 1775.97 Q940.763 1775.97 944.142 1779.15 Q947.522 1782.32 947.522 1787.73 Q947.522 1793.31 944.05 1796.41 Q940.577 1799.49 934.258 1799.49 Q932.082 1799.49 929.813 1799.12 Q927.568 1798.75 925.161 1798.01 L925.161 1793.31 Q927.244 1794.45 929.466 1795 Q931.688 1795.56 934.165 1795.56 Q938.17 1795.56 940.508 1793.45 Q942.846 1791.34 942.846 1787.73 Q942.846 1784.12 940.508 1782.02 Q938.17 1779.91 934.165 1779.91 Q932.29 1779.91 930.415 1780.33 Q928.563 1780.74 926.619 1781.62 L926.619 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1434.36 1764.26 L1452.72 1764.26 L1452.72 1768.2 L1438.64 1768.2 L1438.64 1776.67 Q1439.66 1776.32 1440.68 1776.16 Q1441.7 1775.97 1442.72 1775.97 Q1448.51 1775.97 1451.89 1779.15 Q1455.27 1782.32 1455.27 1787.73 Q1455.27 1793.31 1451.79 1796.41 Q1448.32 1799.49 1442 1799.49 Q1439.83 1799.49 1437.56 1799.12 Q1435.31 1798.75 1432.9 1798.01 L1432.9 1793.31 Q1434.99 1794.45 1437.21 1795 Q1439.43 1795.56 1441.91 1795.56 Q1445.91 1795.56 1448.25 1793.45 Q1450.59 1791.34 1450.59 1787.73 Q1450.59 1784.12 1448.25 1782.02 Q1445.91 1779.91 1441.91 1779.91 Q1440.03 1779.91 1438.16 1780.33 Q1436.31 1780.74 1434.36 1781.62 L1434.36 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1464.48 1792.94 L1469.36 1792.94 L1469.36 1798.82 L1464.48 1798.82 L1464.48 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1489.55 1767.34 Q1485.94 1767.34 1484.11 1770.9 Q1482.3 1774.45 1482.3 1781.58 Q1482.3 1788.68 1484.11 1792.25 Q1485.94 1795.79 1489.55 1795.79 Q1493.18 1795.79 1494.99 1792.25 Q1496.82 1788.68 1496.82 1781.58 Q1496.82 1774.45 1494.99 1770.9 Q1493.18 1767.34 1489.55 1767.34 M1489.55 1763.64 Q1495.36 1763.64 1498.41 1768.24 Q1501.49 1772.83 1501.49 1781.58 Q1501.49 1790.3 1498.41 1794.91 Q1495.36 1799.49 1489.55 1799.49 Q1483.74 1799.49 1480.66 1794.91 Q1477.6 1790.3 1477.6 1781.58 Q1477.6 1772.83 1480.66 1768.24 Q1483.74 1763.64 1489.55 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1987.08 1764.26 L2009.3 1764.26 L2009.3 1766.25 L1996.76 1798.82 L1991.87 1798.82 L2003.68 1768.2 L1987.08 1768.2 L1987.08 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2018.43 1792.94 L2023.31 1792.94 L2023.31 1798.82 L2018.43 1798.82 L2018.43 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2033.54 1764.26 L2051.9 1764.26 L2051.9 1768.2 L2037.82 1768.2 L2037.82 1776.67 Q2038.84 1776.32 2039.86 1776.16 Q2040.88 1775.97 2041.9 1775.97 Q2047.68 1775.97 2051.06 1779.15 Q2054.44 1782.32 2054.44 1787.73 Q2054.44 1793.31 2050.97 1796.41 Q2047.5 1799.49 2041.18 1799.49 Q2039 1799.49 2036.74 1799.12 Q2034.49 1798.75 2032.08 1798.01 L2032.08 1793.31 Q2034.17 1794.45 2036.39 1795 Q2038.61 1795.56 2041.09 1795.56 Q2045.09 1795.56 2047.43 1793.45 Q2049.77 1791.34 2049.77 1787.73 Q2049.77 1784.12 2047.43 1782.02 Q2045.09 1779.91 2041.09 1779.91 Q2039.21 1779.91 2037.34 1780.33 Q2035.49 1780.74 2033.54 1781.62 L2033.54 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2526.4 1794.89 L2534.04 1794.89 L2534.04 1768.52 L2525.73 1770.19 L2525.73 1765.93 L2533.99 1764.26 L2538.67 1764.26 L2538.67 1794.89 L2546.31 1794.89 L2546.31 1798.82 L2526.4 1798.82 L2526.4 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2565.75 1767.34 Q2562.14 1767.34 2560.31 1770.9 Q2558.51 1774.45 2558.51 1781.58 Q2558.51 1788.68 2560.31 1792.25 Q2562.14 1795.79 2565.75 1795.79 Q2569.39 1795.79 2571.19 1792.25 Q2573.02 1788.68 2573.02 1781.58 Q2573.02 1774.45 2571.19 1770.9 Q2569.39 1767.34 2565.75 1767.34 M2565.75 1763.64 Q2571.56 1763.64 2574.62 1768.24 Q2577.7 1772.83 2577.7 1781.58 Q2577.7 1790.3 2574.62 1794.91 Q2571.56 1799.49 2565.75 1799.49 Q2559.94 1799.49 2556.86 1794.91 Q2553.81 1790.3 2553.81 1781.58 Q2553.81 1772.83 2556.86 1768.24 Q2559.94 1763.64 2565.75 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2585.91 1792.94 L2590.8 1792.94 L2590.8 1798.82 L2585.91 1798.82 L2585.91 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2610.98 1767.34 Q2607.37 1767.34 2605.54 1770.9 Q2603.74 1774.45 2603.74 1781.58 Q2603.74 1788.68 2605.54 1792.25 Q2607.37 1795.79 2610.98 1795.79 Q2614.62 1795.79 2616.42 1792.25 Q2618.25 1788.68 2618.25 1781.58 Q2618.25 1774.45 2616.42 1770.9 Q2614.62 1767.34 2610.98 1767.34 M2610.98 1763.64 Q2616.79 1763.64 2619.85 1768.24 Q2622.93 1772.83 2622.93 1781.58 Q2622.93 1790.3 2619.85 1794.91 Q2616.79 1799.49 2610.98 1799.49 Q2605.17 1799.49 2602.09 1794.91 Q2599.04 1790.3 2599.04 1781.58 Q2599.04 1772.83 2602.09 1768.24 Q2605.17 1763.64 2610.98 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M1451.38 1833.78 L1457.27 1833.78 L1457.27 1863.03 L1474.74 1847.65 L1482.22 1847.65 L1463.31 1864.33 L1483.02 1883.3 L1475.38 1883.3 L1457.27 1865.89 L1457.27 1883.3 L1451.38 1883.3 L1451.38 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1734.12 293.64,1007.24 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1714.22 312.538,1714.22 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1485.42 312.538,1485.42 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1256.62 312.538,1256.62 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="293.64,1027.82 312.538,1027.82 "></polyline>
<path clip-path="url(#clip720)" d="M241.376 1700.02 Q237.765 1700.02 235.936 1703.58 Q234.13 1707.12 234.13 1714.25 Q234.13 1721.36 235.936 1724.93 Q237.765 1728.47 241.376 1728.47 Q245.01 1728.47 246.816 1724.93 Q248.644 1721.36 248.644 1714.25 Q248.644 1707.12 246.816 1703.58 Q245.01 1700.02 241.376 1700.02 M241.376 1696.31 Q247.186 1696.31 250.242 1700.92 Q253.32 1705.5 253.32 1714.25 Q253.32 1722.98 250.242 1727.59 Q247.186 1732.17 241.376 1732.17 Q235.566 1732.17 232.487 1727.59 Q229.431 1722.98 229.431 1714.25 Q229.431 1705.5 232.487 1700.92 Q235.566 1696.31 241.376 1696.31 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M233.413 1498.76 L241.052 1498.76 L241.052 1472.4 L232.742 1474.06 L232.742 1469.8 L241.005 1468.14 L245.681 1468.14 L245.681 1498.76 L253.32 1498.76 L253.32 1502.7 L233.413 1502.7 L233.413 1498.76 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M237.001 1269.96 L253.32 1269.96 L253.32 1273.9 L231.376 1273.9 L231.376 1269.96 Q234.038 1267.21 238.621 1262.58 Q243.228 1257.92 244.408 1256.58 Q246.654 1254.06 247.533 1252.32 Q248.436 1250.56 248.436 1248.87 Q248.436 1246.12 246.492 1244.38 Q244.57 1242.65 241.468 1242.65 Q239.269 1242.65 236.816 1243.41 Q234.385 1244.17 231.607 1245.73 L231.607 1241 Q234.431 1239.87 236.885 1239.29 Q239.339 1238.71 241.376 1238.71 Q246.746 1238.71 249.941 1241.4 Q253.135 1244.08 253.135 1248.57 Q253.135 1250.7 252.325 1252.62 Q251.538 1254.52 249.431 1257.11 Q248.853 1257.79 245.751 1261 Q242.649 1264.2 237.001 1269.96 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M246.191 1026.46 Q249.547 1027.18 251.422 1029.45 Q253.32 1031.72 253.32 1035.05 Q253.32 1040.17 249.802 1042.97 Q246.283 1045.77 239.802 1045.77 Q237.626 1045.77 235.311 1045.33 Q233.019 1044.91 230.566 1044.05 L230.566 1039.54 Q232.51 1040.67 234.825 1041.25 Q237.14 1041.83 239.663 1041.83 Q244.061 1041.83 246.353 1040.1 Q248.667 1038.36 248.667 1035.05 Q248.667 1031.99 246.515 1030.28 Q244.385 1028.55 240.566 1028.55 L236.538 1028.55 L236.538 1024.7 L240.751 1024.7 Q244.2 1024.7 246.029 1023.34 Q247.857 1021.95 247.857 1019.36 Q247.857 1016.69 245.959 1015.28 Q244.084 1013.85 240.566 1013.85 Q238.644 1013.85 236.445 1014.26 Q234.246 1014.68 231.607 1015.56 L231.607 1011.39 Q234.269 1010.65 236.584 1010.28 Q238.922 1009.91 240.982 1009.91 Q246.306 1009.91 249.408 1012.34 Q252.51 1014.75 252.51 1018.87 Q252.51 1021.74 250.866 1023.73 Q249.223 1025.7 246.191 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M139.207 1354.07 L156.554 1366.96 L174.855 1353.4 L174.855 1360.3 L160.851 1370.68 L174.855 1381.06 L174.855 1387.96 L156.204 1374.12 L139.207 1386.79 L139.207 1379.88 L151.907 1370.43 L139.207 1360.97 L139.207 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip723)" d="M360.068 1469.42 L344.068 1485.42 L360.068 1501.42 L376.068 1485.42 L360.068 1469.42 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M581.494 1555 L565.494 1571 L581.494 1587 L597.494 1571 L581.494 1555 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M802.92 1610.54 L786.92 1626.54 L802.92 1642.54 L818.92 1626.54 L802.92 1610.54 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1024.35 1649.52 L1008.35 1665.52 L1024.35 1681.52 L1040.35 1665.52 L1024.35 1649.52 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1245.77 1672.77 L1229.77 1688.77 L1245.77 1704.77 L1261.77 1688.77 L1245.77 1672.77 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1467.2 1685.11 L1451.2 1701.11 L1467.2 1717.11 L1483.2 1701.11 L1467.2 1685.11 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1688.62 1691.49 L1672.62 1707.49 L1688.62 1723.49 L1704.62 1707.49 L1688.62 1691.49 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1910.05 1694.75 L1894.05 1710.75 L1910.05 1726.75 L1926.05 1710.75 L1910.05 1694.75 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2131.48 1696.4 L2115.48 1712.4 L2131.48 1728.4 L2147.48 1712.4 L2131.48 1696.4 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2352.9 1697.21 L2336.9 1713.21 L2352.9 1729.21 L2368.9 1713.21 L2352.9 1697.21 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2574.33 1697.55 L2558.33 1713.55 L2574.33 1729.55 L2590.33 1713.55 L2574.33 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip723)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1485.42 581.494,1485.42 581.494,1571 802.92,1571 802.92,1626.54 1024.35,1626.54 1024.35,1665.52 1245.77,1665.52 1245.77,1688.77 1467.2,1688.77 1467.2,1701.11 1688.62,1701.11 1688.62,1707.49 1910.05,1707.49 1910.05,1710.75 2131.48,1710.75 2131.48,1712.4 2352.9,1712.4 2352.9,1713.21 2574.33,1713.21 2574.33,1713.55 "></polyline>
<path clip-path="url(#clip723)" d="M360.068 1011.82 L344.068 1027.82 L360.068 1043.82 L376.068 1027.82 L360.068 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M581.494 1247.35 L565.494 1263.35 L581.494 1279.35 L597.494 1263.35 L581.494 1247.35 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M802.92 1437.34 L786.92 1453.34 L802.92 1469.34 L818.92 1453.34 L802.92 1437.34 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1024.35 1567.13 L1008.35 1583.13 L1024.35 1599.13 L1040.35 1583.13 L1024.35 1567.13 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1245.77 1631.38 L1229.77 1647.38 L1245.77 1663.38 L1261.77 1647.38 L1245.77 1631.38 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1467.2 1663.99 L1451.2 1679.99 L1467.2 1695.99 L1483.2 1679.99 L1467.2 1663.99 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1688.62 1680.64 L1672.62 1696.64 L1688.62 1712.64 L1704.62 1696.64 L1688.62 1680.64 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M1910.05 1689.11 L1894.05 1705.11 L1910.05 1721.11 L1926.05 1705.11 L1910.05 1689.11 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2131.48 1693.35 L2115.48 1709.35 L2131.48 1725.35 L2147.48 1709.35 L2131.48 1693.35 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2352.9 1695.32 L2336.9 1711.32 L2352.9 1727.32 L2368.9 1711.32 L2352.9 1695.32 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip723)" d="M2574.33 1695.89 L2558.33 1711.89 L2574.33 1727.89 L2590.33 1711.89 L2574.33 1695.89 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip723)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="360.068,1027.82 581.494,1027.82 581.494,1263.35 802.92,1263.35 802.92,1453.34 1024.35,1453.34 1024.35,1583.13 1245.77,1583.13 1245.77,1647.38 1467.2,1647.38 1467.2,1679.99 1688.62,1679.99 1688.62,1696.64 1910.05,1696.64 1910.05,1705.11 2131.48,1705.11 2131.48,1709.35 2352.9,1709.35 2352.9,1711.32 2574.33,1711.32 2574.33,1711.89 "></polyline>
<path clip-path="url(#clip720)" d="M2284.71 1186.99 L2562.52 1186.99 L2562.52 1031.47 L2284.71 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip720)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2284.71,1186.99 2562.52,1186.99 2562.52,1031.47 2284.71,1031.47 2284.71,1186.99 "></polyline>
<polyline clip-path="url(#clip720)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1083.31 2467.26,1083.31 "></polyline>
<path clip-path="url(#clip720)" d="M2517.99 1074.67 L2508.62 1087.28 L2518.48 1100.59 L2513.45 1100.59 L2505.91 1090.41 L2498.36 1100.59 L2493.34 1100.59 L2503.41 1087.03 L2494.19 1074.67 L2499.22 1074.67 L2506.09 1083.9 L2512.97 1074.67 L2517.99 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2523.64 1098.05 L2528.36 1098.05 L2528.36 1083.9 L2523.2 1084.85 L2523.2 1082.17 L2528.52 1081.26 L2531.69 1081.26 L2531.69 1098.05 L2536.44 1098.05 L2536.44 1100.59 L2523.64 1100.59 L2523.64 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip720)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2310.78,1135.15 2467.26,1135.15 "></polyline>
<path clip-path="url(#clip720)" d="M2517.99 1126.51 L2508.62 1139.12 L2518.48 1152.43 L2513.45 1152.43 L2505.91 1142.25 L2498.36 1152.43 L2493.34 1152.43 L2503.41 1138.87 L2494.19 1126.51 L2499.22 1126.51 L2506.09 1135.74 L2512.97 1126.51 L2517.99 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip720)" d="M2526.23 1149.79 L2536.05 1149.79 L2536.05 1152.43 L2522.2 1152.43 L2522.2 1149.89 Q2522.99 1149.17 2524.45 1147.87 Q2532.41 1140.81 2532.41 1138.64 Q2532.41 1137.11 2531.21 1136.18 Q2530 1135.23 2528.04 1135.23 Q2526.83 1135.23 2525.42 1135.65 Q2524.01 1136.04 2522.34 1136.85 L2522.34 1134.01 Q2524.12 1133.36 2525.65 1133.04 Q2527.2 1132.71 2528.52 1132.71 Q2531.88 1132.71 2533.89 1134.24 Q2535.91 1135.77 2535.91 1138.27 Q2535.91 1141.48 2528.25 1148.06 Q2526.95 1149.17 2526.23 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
</section>
<section id="sequential-dense-formulation" class="level2">
<h2 class="anchored" data-anchor-id="sequential-dense-formulation">Sequential (dense) formulation</h2>
<p>We can express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span>. This can be done in a straightforward way using (<a href="#eq-linear_system_linear_constraints_matrix_format" class="quarto-xref">Eq.&nbsp;1</a>), namely, <span class="math display">
\bar{\bm x} = (\mathbf I-\overline{\mathbf A})^{-1}\overline{\mathbf B} \bm u + (\mathbf I-\overline{\mathbf A})^{-1} \overline{\mathbf A}_0 \mathbf x_0.
</span></p>
<p>However, instead of solving the sets of equations, we can do this substitution in a more insightful way. Write down the state equation for several discrete times <span class="math display">
\begin{aligned}
\bm x_1 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
\bm x_2 &amp;= \mathbf A\mathbf x_0 + \mathbf B\bm u_0\\
     &amp;= \mathbf A(\mathbf A\mathbf x_0 + \mathbf B\bm u_0)+ \mathbf B\bm u_0\\
     &amp;= \mathbf A^2\mathbf x_0 + \mathbf A\mathbf B\bm u_0 + \mathbf B\bm u_0\\
     &amp;\vdots\\
\bm x_k &amp;= \mathbf A^k\mathbf x_0 + \mathbf A^{k-1}\mathbf B\bm u_0 +\mathbf A^{k-2}\mathbf B\bm u_1 +\ldots \mathbf B\bm u_{k-1}.
\end{aligned}
</span></p>
<p>Rewriting into matrix-vector form (and extending the time <span class="math inline">k</span> up to the final time <span class="math inline">N</span>) <span class="math display">
\begin{bmatrix}
\bm x_1\\\bm x_2\\\vdots\\\bm x_N
\end{bmatrix}
=
\underbrace{
\begin{bmatrix}
  \mathbf B &amp; &amp; &amp; \\
  \mathbf A\mathbf B &amp; \mathbf B &amp; &amp; \\
  \vdots &amp; &amp; \ddots &amp;\\
  \mathbf A^{N-1}\mathbf B &amp; \mathbf A^{N-2}\mathbf B &amp; &amp; \mathbf B
\end{bmatrix}}_{\widehat{\mathbf C}}
  \begin{bmatrix}
\bm u_0\\\bm u_1\\\vdots\\\bm u_{N-1}
\end{bmatrix}
+
\underbrace{
  \begin{bmatrix}
\mathbf A\\\mathbf A^2\\\vdots\\\mathbf A^N
\end{bmatrix}}_{\widehat{\mathbf A}}\mathbf x_0.
</span></p>
<p>For convenience, let’s rewrite the compact relation between <span class="math inline">\bar{\bm x}</span> and <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> <span id="eq-x_as_function_of_u_and_x0"><span class="math display">
\bar{\bm x} = \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0.
\tag{2}</span></span></p>
<p>We can now substitute this into the original cost, which then becomes independent of <span class="math inline">\bar{\bm x}</span>, which we reflect formally by using a new name <span class="math inline">\tilde J</span> <span class="math display">
\begin{aligned}
\tilde J(\bar{\bm u};\mathbf x_0) &amp;= \frac{1}{2}(\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0)^\top\overline{\mathbf Q} (\widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0) + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} \mathbf x_0 + \frac{1}{2}\bar{\bm u}^\top\overline{\mathbf R} \bar{\bm u} + \frac{1}{2}\mathbf x_0^\top\mathbf Q\mathbf x_0\\
&amp;= \frac{1}{2}\bar{\bm u}^\top(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})\bar{\bm u} + \mathbf x_0^\top\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C} \bar{\bm u} + \frac{1}{2} \mathbf x_0^\top(\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf A} + \mathbf Q)\mathbf x_0.
\end{aligned}
</span></p>
<p>The last term (the one independent of <span class="math inline">\bar{\bm u}</span>) does not have an impact on the optimal <span class="math inline">\bar{\bm u}</span> and therefore it can be discarded, but such minor modification perhaps does not justify a new name for the cost function. We write it as <span class="math display">
\tilde J(\bar{\bm u};\mathbf x_0) = \frac{1}{2}\bar{\bm u}^\top\underbrace{(\widehat{\mathbf C}^\top \overline{\mathbf Q} \widehat{\mathbf C} + \overline{\mathbf R})}_{\mathbf H}\bar{\bm u} +  \mathbf x_0^\top\underbrace{\widehat{\mathbf A}^\top \overline{\mathbf Q} \widehat{\mathbf C}}_{\mathbf F^\top} \bar{\bm u}.
</span></p>
<p>This cost is a function of <span class="math inline">\bar{\bm u}</span>, the initial state <span class="math inline">\mathbf x_0</span> is regarded as a fixed parameter. Its gradient is <span class="math display">
\nabla \tilde J = \mathbf H\bar{\bm u}+\mathbf F\mathbf x_0.
</span></p>
<p>Setting it to zero leads to the following linear system of equations <span class="math display">
\mathbf H\bar{\bm u}=-\mathbf F\mathbf x_0
</span> that needs to be solved for <span class="math inline">\bar{\bm u}</span>. Formally, we write the solution as <span class="math display">
\bar{\bm u} = -\mathbf H^{-1} \mathbf F \mathbf x_0.
</span></p>
<div id="exm-direct-sequential" class="theorem example">
<p><span class="theorem-title"><strong>Example 3 (Reformulating the unconstrained LQR problem as a system of linear equations – sequential approach)</strong></span> &nbsp;</p>
<div id="6" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">-H\</span>(F<span class="op">*</span>x₀)</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb3-35"><a href="#cb3-35" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb3-36"><a href="#cb3-36" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb3-37"><a href="#cb3-37" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-38"><a href="#cb3-38" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb3-39"><a href="#cb3-39" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-40"><a href="#cb3-40" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb3-41"><a href="#cb3-41" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb3-42"><a href="#cb3-42" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb3-43"><a href="#cb3-43" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-44"><a href="#cb3-44" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb3-45"><a href="#cb3-45" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb3-46"><a href="#cb3-46" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb3-47"><a href="#cb3-47" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-48"><a href="#cb3-48" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N)</span>
<span id="cb3-49"><a href="#cb3-49" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-50"><a href="#cb3-50" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb3-51"><a href="#cb3-51" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb3-52"><a href="#cb3-52" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-53"><a href="#cb3-53" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb3-54"><a href="#cb3-54" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-55"><a href="#cb3-55" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb3-56"><a href="#cb3-56" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb3-57"><a href="#cb3-57" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb3-58"><a href="#cb3-58" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-59"><a href="#cb3-59" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip780">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip780)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip781">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip780)" d="M263.478 774.117 L2640.76 774.117 L2640.76 47.2441 L263.478 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip782">
    <rect x="263" y="47" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,774.117 330.76,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="829.141,774.117 829.141,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1327.52,774.117 1327.52,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1825.9,774.117 1825.9,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2324.28,774.117 2324.28,47.2441 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,762.799 2640.76,762.799 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,530.827 2640.76,530.827 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,298.854 2640.76,298.854 "></polyline>
<polyline clip-path="url(#clip782)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,66.8821 2640.76,66.8821 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,774.117 330.76,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="829.141,774.117 829.141,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1327.52,774.117 1327.52,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1825.9,774.117 1825.9,755.219 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2324.28,774.117 2324.28,755.219 "></polyline>
<path clip-path="url(#clip780)" d="M330.76 807.34 Q327.149 807.34 325.32 810.904 Q323.514 814.446 323.514 821.576 Q323.514 828.682 325.32 832.247 Q327.149 835.789 330.76 835.789 Q334.394 835.789 336.2 832.247 Q338.028 828.682 338.028 821.576 Q338.028 814.446 336.2 810.904 Q334.394 807.34 330.76 807.34 M330.76 803.636 Q336.57 803.636 339.625 808.242 Q342.704 812.826 342.704 821.576 Q342.704 830.303 339.625 834.909 Q336.57 839.492 330.76 839.492 Q324.95 839.492 321.871 834.909 Q318.815 830.303 318.815 821.576 Q318.815 812.826 321.871 808.242 Q324.95 803.636 330.76 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M823.794 834.886 L840.113 834.886 L840.113 838.821 L818.169 838.821 L818.169 834.886 Q820.831 832.131 825.414 827.502 Q830.02 822.849 831.201 821.506 Q833.446 818.983 834.326 817.247 Q835.229 815.488 835.229 813.798 Q835.229 811.043 833.284 809.307 Q831.363 807.571 828.261 807.571 Q826.062 807.571 823.608 808.335 Q821.178 809.099 818.4 810.65 L818.4 805.928 Q821.224 804.793 823.678 804.215 Q826.132 803.636 828.169 803.636 Q833.539 803.636 836.733 806.321 Q839.928 809.006 839.928 813.497 Q839.928 815.627 839.118 817.548 Q838.331 819.446 836.224 822.039 Q835.645 822.71 832.544 825.928 Q829.442 829.122 823.794 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1330.53 808.335 L1318.73 826.784 L1330.53 826.784 L1330.53 808.335 M1329.3 804.261 L1335.18 804.261 L1335.18 826.784 L1340.11 826.784 L1340.11 830.673 L1335.18 830.673 L1335.18 838.821 L1330.53 838.821 L1330.53 830.673 L1314.93 830.673 L1314.93 826.159 L1329.3 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1826.31 819.678 Q1823.16 819.678 1821.31 821.83 Q1819.48 823.983 1819.48 827.733 Q1819.48 831.46 1821.31 833.636 Q1823.16 835.789 1826.31 835.789 Q1829.46 835.789 1831.28 833.636 Q1833.14 831.46 1833.14 827.733 Q1833.14 823.983 1831.28 821.83 Q1829.46 819.678 1826.31 819.678 M1835.59 805.025 L1835.59 809.284 Q1833.83 808.451 1832.03 808.011 Q1830.24 807.571 1828.48 807.571 Q1823.85 807.571 1821.4 810.696 Q1818.97 813.821 1818.62 820.141 Q1819.99 818.127 1822.05 817.062 Q1824.11 815.974 1826.59 815.974 Q1831.79 815.974 1834.8 819.145 Q1837.84 822.293 1837.84 827.733 Q1837.84 833.057 1834.69 836.275 Q1831.54 839.492 1826.31 839.492 Q1820.31 839.492 1817.14 834.909 Q1813.97 830.303 1813.97 821.576 Q1813.97 813.381 1817.86 808.52 Q1821.75 803.636 1828.3 803.636 Q1830.06 803.636 1831.84 803.983 Q1833.65 804.33 1835.59 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2324.28 822.409 Q2320.95 822.409 2319.03 824.191 Q2317.13 825.974 2317.13 829.099 Q2317.13 832.224 2319.03 834.006 Q2320.95 835.789 2324.28 835.789 Q2327.62 835.789 2329.54 834.006 Q2331.46 832.201 2331.46 829.099 Q2331.46 825.974 2329.54 824.191 Q2327.64 822.409 2324.28 822.409 M2319.61 820.418 Q2316.6 819.678 2314.91 817.617 Q2313.24 815.557 2313.24 812.594 Q2313.24 808.451 2316.18 806.043 Q2319.15 803.636 2324.28 803.636 Q2329.45 803.636 2332.39 806.043 Q2335.33 808.451 2335.33 812.594 Q2335.33 815.557 2333.64 817.617 Q2331.97 819.678 2328.98 820.418 Q2332.36 821.205 2334.24 823.497 Q2336.14 825.789 2336.14 829.099 Q2336.14 834.122 2333.06 836.807 Q2330 839.492 2324.28 839.492 Q2318.57 839.492 2315.49 836.807 Q2312.43 834.122 2312.43 829.099 Q2312.43 825.789 2314.33 823.497 Q2316.23 821.205 2319.61 820.418 M2317.9 813.034 Q2317.9 815.719 2319.56 817.224 Q2321.25 818.729 2324.28 818.729 Q2327.29 818.729 2328.98 817.224 Q2330.7 815.719 2330.7 813.034 Q2330.7 810.349 2328.98 808.844 Q2327.29 807.34 2324.28 807.34 Q2321.25 807.34 2319.56 808.844 Q2317.9 810.349 2317.9 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1436.3 873.776 L1442.19 873.776 L1442.19 903.026 L1459.66 887.653 L1467.14 887.653 L1448.23 904.331 L1467.94 923.301 L1460.3 923.301 L1442.19 905.891 L1442.19 923.301 L1436.3 923.301 L1436.3 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,774.117 263.478,47.2441 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,762.799 282.376,762.799 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,530.827 282.376,530.827 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,298.854 282.376,298.854 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,66.8821 282.376,66.8821 "></polyline>
<path clip-path="url(#clip780)" d="M117.21 763.251 L146.886 763.251 L146.886 767.186 L117.21 767.186 L117.21 763.251 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M157.788 776.144 L165.427 776.144 L165.427 749.778 L157.117 751.445 L157.117 747.186 L165.381 745.519 L170.057 745.519 L170.057 776.144 L177.696 776.144 L177.696 780.079 L157.788 780.079 L157.788 776.144 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M187.14 774.2 L192.024 774.2 L192.024 780.079 L187.14 780.079 L187.14 774.2 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M202.256 745.519 L220.612 745.519 L220.612 749.454 L206.538 749.454 L206.538 757.927 Q207.557 757.579 208.575 757.417 Q209.594 757.232 210.612 757.232 Q216.399 757.232 219.779 760.403 Q223.158 763.575 223.158 768.991 Q223.158 774.57 219.686 777.672 Q216.214 780.75 209.894 780.75 Q207.719 780.75 205.45 780.38 Q203.205 780.01 200.797 779.269 L200.797 774.57 Q202.881 775.704 205.103 776.26 Q207.325 776.815 209.802 776.815 Q213.807 776.815 216.144 774.709 Q218.482 772.602 218.482 768.991 Q218.482 765.38 216.144 763.274 Q213.807 761.167 209.802 761.167 Q207.927 761.167 206.052 761.584 Q204.2 762.001 202.256 762.88 L202.256 745.519 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M116.214 531.278 L145.89 531.278 L145.89 535.213 L116.214 535.213 L116.214 531.278 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M156.793 544.172 L164.432 544.172 L164.432 517.806 L156.122 519.473 L156.122 515.213 L164.385 513.547 L169.061 513.547 L169.061 544.172 L176.7 544.172 L176.7 548.107 L156.793 548.107 L156.793 544.172 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M186.145 542.227 L191.029 542.227 L191.029 548.107 L186.145 548.107 L186.145 542.227 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M211.214 516.626 Q207.603 516.626 205.774 520.19 Q203.969 523.732 203.969 530.862 Q203.969 537.968 205.774 541.533 Q207.603 545.074 211.214 545.074 Q214.848 545.074 216.654 541.533 Q218.482 537.968 218.482 530.862 Q218.482 523.732 216.654 520.19 Q214.848 516.626 211.214 516.626 M211.214 512.922 Q217.024 512.922 220.08 517.528 Q223.158 522.112 223.158 530.862 Q223.158 539.588 220.08 544.195 Q217.024 548.778 211.214 548.778 Q205.404 548.778 202.325 544.195 Q199.27 539.588 199.27 530.862 Q199.27 522.112 202.325 517.528 Q205.404 512.922 211.214 512.922 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M117.21 299.306 L146.886 299.306 L146.886 303.241 L117.21 303.241 L117.21 299.306 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M166.978 284.653 Q163.367 284.653 161.538 288.218 Q159.733 291.76 159.733 298.889 Q159.733 305.996 161.538 309.56 Q163.367 313.102 166.978 313.102 Q170.612 313.102 172.418 309.56 Q174.247 305.996 174.247 298.889 Q174.247 291.76 172.418 288.218 Q170.612 284.653 166.978 284.653 M166.978 280.949 Q172.788 280.949 175.844 285.556 Q178.922 290.139 178.922 298.889 Q178.922 307.616 175.844 312.222 Q172.788 316.806 166.978 316.806 Q161.168 316.806 158.089 312.222 Q155.034 307.616 155.034 298.889 Q155.034 290.139 158.089 285.556 Q161.168 280.949 166.978 280.949 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M187.14 310.255 L192.024 310.255 L192.024 316.134 L187.14 316.134 L187.14 310.255 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M202.256 281.574 L220.612 281.574 L220.612 285.51 L206.538 285.51 L206.538 293.982 Q207.557 293.635 208.575 293.473 Q209.594 293.287 210.612 293.287 Q216.399 293.287 219.779 296.459 Q223.158 299.63 223.158 305.047 Q223.158 310.625 219.686 313.727 Q216.214 316.806 209.894 316.806 Q207.719 316.806 205.45 316.435 Q203.205 316.065 200.797 315.324 L200.797 310.625 Q202.881 311.76 205.103 312.315 Q207.325 312.871 209.802 312.871 Q213.807 312.871 216.144 310.764 Q218.482 308.658 218.482 305.047 Q218.482 301.435 216.144 299.329 Q213.807 297.223 209.802 297.223 Q207.927 297.223 206.052 297.639 Q204.2 298.056 202.256 298.936 L202.256 281.574 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M165.983 52.6808 Q162.372 52.6808 160.543 56.2456 Q158.737 59.7873 158.737 66.9169 Q158.737 74.0233 160.543 77.5881 Q162.372 81.1298 165.983 81.1298 Q169.617 81.1298 171.422 77.5881 Q173.251 74.0233 173.251 66.9169 Q173.251 59.7873 171.422 56.2456 Q169.617 52.6808 165.983 52.6808 M165.983 48.9771 Q171.793 48.9771 174.848 53.5836 Q177.927 58.1669 177.927 66.9169 Q177.927 75.6437 174.848 80.2501 Q171.793 84.8334 165.983 84.8334 Q160.173 84.8334 157.094 80.2501 Q154.038 75.6437 154.038 66.9169 Q154.038 58.1669 157.094 53.5836 Q160.173 48.9771 165.983 48.9771 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M186.145 78.2825 L191.029 78.2825 L191.029 84.1621 L186.145 84.1621 L186.145 78.2825 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M211.214 52.6808 Q207.603 52.6808 205.774 56.2456 Q203.969 59.7873 203.969 66.9169 Q203.969 74.0233 205.774 77.5881 Q207.603 81.1298 211.214 81.1298 Q214.848 81.1298 216.654 77.5881 Q218.482 74.0233 218.482 66.9169 Q218.482 59.7873 216.654 56.2456 Q214.848 52.6808 211.214 52.6808 M211.214 48.9771 Q217.024 48.9771 220.08 53.5836 Q223.158 58.1669 223.158 66.9169 Q223.158 75.6437 220.08 80.2501 Q217.024 84.8334 211.214 84.8334 Q205.404 84.8334 202.325 80.2501 Q199.27 75.6437 199.27 66.9169 Q199.27 58.1669 202.325 53.5836 Q205.404 48.9771 211.214 48.9771 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip782)" d="M330.76 737.545 L314.76 753.545 L330.76 769.545 L346.76 753.545 L330.76 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M579.95 599.121 L563.95 615.121 L579.95 631.121 L595.95 615.121 L579.95 599.121 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M829.141 266.222 L813.141 282.222 L829.141 298.222 L845.141 282.222 L829.141 266.222 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1078.33 158.822 L1062.33 174.822 L1078.33 190.822 L1094.33 174.822 L1078.33 158.822 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1327.52 99.9975 L1311.52 115.998 L1327.52 131.998 L1343.52 115.998 L1327.52 99.9975 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1576.71 74.0598 L1560.71 90.0598 L1576.71 106.06 L1592.71 90.0598 L1576.71 74.0598 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M1825.9 61.6541 L1809.9 77.6541 L1825.9 93.6541 L1841.9 77.6541 L1825.9 61.6541 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M2075.09 55.8914 L2059.09 71.8914 L2075.09 87.8914 L2091.09 71.8914 L2075.09 55.8914 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M2324.28 53.1486 L2308.28 69.1486 L2324.28 85.1486 L2340.28 69.1486 L2324.28 53.1486 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip782)" d="M2573.47 51.816 L2557.47 67.816 L2573.47 83.816 L2589.47 67.816 L2573.47 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip782)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,753.545 579.95,753.545 579.95,615.121 829.141,615.121 829.141,282.222 1078.33,282.222 1078.33,174.822 1327.52,174.822 1327.52,115.998 1576.71,115.998 1576.71,90.0598 1825.9,90.0598 1825.9,77.6541 2075.09,77.6541 2075.09,71.8914 2324.28,71.8914 2324.28,69.1486 2573.47,69.1486 2573.47,67.816 "></polyline>
<path clip-path="url(#clip780)" d="M342.721 175.153 L602.162 175.153 L602.162 71.4732 L342.721 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="342.721,175.153 602.162,175.153 602.162,71.4732 342.721,71.4732 342.721,175.153 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="369.135,123.313 527.62,123.313 "></polyline>
<path clip-path="url(#clip780)" d="M554.034 130.362 L554.034 114.667 L558.294 114.667 L558.294 130.2 Q558.294 133.88 559.729 135.732 Q561.164 137.561 564.034 137.561 Q567.483 137.561 569.474 135.362 Q571.488 133.163 571.488 129.366 L571.488 114.667 L575.747 114.667 L575.747 140.593 L571.488 140.593 L571.488 136.612 Q569.937 138.973 567.877 140.13 Q565.84 141.264 563.132 141.264 Q558.664 141.264 556.349 138.487 Q554.034 135.709 554.034 130.362 M564.752 114.042 L564.752 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M263.478 1734.12 L2640.76 1734.12 L2640.76 1007.24 L263.478 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip783">
    <rect x="263" y="1007" width="2378" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="330.76,1734.12 330.76,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="891.438,1734.12 891.438,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1452.12,1734.12 1452.12,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2012.8,1734.12 2012.8,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2573.47,1734.12 2573.47,1007.24 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1644.54 2640.76,1644.54 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1438.96 2640.76,1438.96 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1233.39 2640.76,1233.39 "></polyline>
<polyline clip-path="url(#clip783)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="263.478,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1734.12 330.76,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="891.438,1734.12 891.438,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1452.12,1734.12 1452.12,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2012.8,1734.12 2012.8,1715.22 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2573.47,1734.12 2573.47,1715.22 "></polyline>
<path clip-path="url(#clip780)" d="M308.144 1767.34 Q304.533 1767.34 302.704 1770.9 Q300.899 1774.45 300.899 1781.58 Q300.899 1788.68 302.704 1792.25 Q304.533 1795.79 308.144 1795.79 Q311.778 1795.79 313.584 1792.25 Q315.413 1788.68 315.413 1781.58 Q315.413 1774.45 313.584 1770.9 Q311.778 1767.34 308.144 1767.34 M308.144 1763.64 Q313.954 1763.64 317.01 1768.24 Q320.089 1772.83 320.089 1781.58 Q320.089 1790.3 317.01 1794.91 Q313.954 1799.49 308.144 1799.49 Q302.334 1799.49 299.255 1794.91 Q296.2 1790.3 296.2 1781.58 Q296.2 1772.83 299.255 1768.24 Q302.334 1763.64 308.144 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M328.306 1792.94 L333.19 1792.94 L333.19 1798.82 L328.306 1798.82 L328.306 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M353.375 1767.34 Q349.764 1767.34 347.936 1770.9 Q346.13 1774.45 346.13 1781.58 Q346.13 1788.68 347.936 1792.25 Q349.764 1795.79 353.375 1795.79 Q357.01 1795.79 358.815 1792.25 Q360.644 1788.68 360.644 1781.58 Q360.644 1774.45 358.815 1770.9 Q357.01 1767.34 353.375 1767.34 M353.375 1763.64 Q359.186 1763.64 362.241 1768.24 Q365.32 1772.83 365.32 1781.58 Q365.32 1790.3 362.241 1794.91 Q359.186 1799.49 353.375 1799.49 Q347.565 1799.49 344.487 1794.91 Q341.431 1790.3 341.431 1781.58 Q341.431 1772.83 344.487 1768.24 Q347.565 1763.64 353.375 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M863.175 1794.89 L879.494 1794.89 L879.494 1798.82 L857.55 1798.82 L857.55 1794.89 Q860.212 1792.13 864.795 1787.5 Q869.402 1782.85 870.582 1781.51 Q872.827 1778.98 873.707 1777.25 Q874.61 1775.49 874.61 1773.8 Q874.61 1771.04 872.665 1769.31 Q870.744 1767.57 867.642 1767.57 Q865.443 1767.57 862.99 1768.34 Q860.559 1769.1 857.781 1770.65 L857.781 1765.93 Q860.605 1764.79 863.059 1764.21 Q865.513 1763.64 867.55 1763.64 Q872.92 1763.64 876.114 1766.32 Q879.309 1769.01 879.309 1773.5 Q879.309 1775.63 878.499 1777.55 Q877.712 1779.45 875.605 1782.04 Q875.026 1782.71 871.925 1785.93 Q868.823 1789.12 863.175 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M889.309 1792.94 L894.193 1792.94 L894.193 1798.82 L889.309 1798.82 L889.309 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M904.424 1764.26 L922.781 1764.26 L922.781 1768.2 L908.707 1768.2 L908.707 1776.67 Q909.725 1776.32 910.744 1776.16 Q911.762 1775.97 912.781 1775.97 Q918.568 1775.97 921.948 1779.15 Q925.327 1782.32 925.327 1787.73 Q925.327 1793.31 921.855 1796.41 Q918.383 1799.49 912.063 1799.49 Q909.887 1799.49 907.619 1799.12 Q905.374 1798.75 902.966 1798.01 L902.966 1793.31 Q905.049 1794.45 907.272 1795 Q909.494 1795.56 911.971 1795.56 Q915.975 1795.56 918.313 1793.45 Q920.651 1791.34 920.651 1787.73 Q920.651 1784.12 918.313 1782.02 Q915.975 1779.91 911.971 1779.91 Q910.096 1779.91 908.221 1780.33 Q906.369 1780.74 904.424 1781.62 L904.424 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1419.28 1764.26 L1437.64 1764.26 L1437.64 1768.2 L1423.56 1768.2 L1423.56 1776.67 Q1424.58 1776.32 1425.6 1776.16 Q1426.62 1775.97 1427.64 1775.97 Q1433.43 1775.97 1436.8 1779.15 Q1440.18 1782.32 1440.18 1787.73 Q1440.18 1793.31 1436.71 1796.41 Q1433.24 1799.49 1426.92 1799.49 Q1424.74 1799.49 1422.48 1799.12 Q1420.23 1798.75 1417.82 1798.01 L1417.82 1793.31 Q1419.91 1794.45 1422.13 1795 Q1424.35 1795.56 1426.83 1795.56 Q1430.83 1795.56 1433.17 1793.45 Q1435.51 1791.34 1435.51 1787.73 Q1435.51 1784.12 1433.17 1782.02 Q1430.83 1779.91 1426.83 1779.91 Q1424.95 1779.91 1423.08 1780.33 Q1421.23 1780.74 1419.28 1781.62 L1419.28 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1449.4 1792.94 L1454.28 1792.94 L1454.28 1798.82 L1449.4 1798.82 L1449.4 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1474.47 1767.34 Q1470.86 1767.34 1469.03 1770.9 Q1467.22 1774.45 1467.22 1781.58 Q1467.22 1788.68 1469.03 1792.25 Q1470.86 1795.79 1474.47 1795.79 Q1478.1 1795.79 1479.91 1792.25 Q1481.74 1788.68 1481.74 1781.58 Q1481.74 1774.45 1479.91 1770.9 Q1478.1 1767.34 1474.47 1767.34 M1474.47 1763.64 Q1480.28 1763.64 1483.33 1768.24 Q1486.41 1772.83 1486.41 1781.58 Q1486.41 1790.3 1483.33 1794.91 Q1480.28 1799.49 1474.47 1799.49 Q1468.66 1799.49 1465.58 1794.91 Q1462.52 1790.3 1462.52 1781.58 Q1462.52 1772.83 1465.58 1768.24 Q1468.66 1763.64 1474.47 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1979.12 1764.26 L2001.34 1764.26 L2001.34 1766.25 L1988.79 1798.82 L1983.91 1798.82 L1995.71 1768.2 L1979.12 1768.2 L1979.12 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2010.46 1792.94 L2015.34 1792.94 L2015.34 1798.82 L2010.46 1798.82 L2010.46 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2025.57 1764.26 L2043.93 1764.26 L2043.93 1768.2 L2029.86 1768.2 L2029.86 1776.67 Q2030.87 1776.32 2031.89 1776.16 Q2032.91 1775.97 2033.93 1775.97 Q2039.72 1775.97 2043.1 1779.15 Q2046.48 1782.32 2046.48 1787.73 Q2046.48 1793.31 2043 1796.41 Q2039.53 1799.49 2033.21 1799.49 Q2031.04 1799.49 2028.77 1799.12 Q2026.52 1798.75 2024.12 1798.01 L2024.12 1793.31 Q2026.2 1794.45 2028.42 1795 Q2030.64 1795.56 2033.12 1795.56 Q2037.12 1795.56 2039.46 1793.45 Q2041.8 1791.34 2041.8 1787.73 Q2041.8 1784.12 2039.46 1782.02 Q2037.12 1779.91 2033.12 1779.91 Q2031.24 1779.91 2029.37 1780.33 Q2027.52 1780.74 2025.57 1781.62 L2025.57 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2525.55 1794.89 L2533.19 1794.89 L2533.19 1768.52 L2524.88 1770.19 L2524.88 1765.93 L2533.14 1764.26 L2537.81 1764.26 L2537.81 1794.89 L2545.45 1794.89 L2545.45 1798.82 L2525.55 1798.82 L2525.55 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2564.9 1767.34 Q2561.29 1767.34 2559.46 1770.9 Q2557.65 1774.45 2557.65 1781.58 Q2557.65 1788.68 2559.46 1792.25 Q2561.29 1795.79 2564.9 1795.79 Q2568.53 1795.79 2570.34 1792.25 Q2572.17 1788.68 2572.17 1781.58 Q2572.17 1774.45 2570.34 1770.9 Q2568.53 1767.34 2564.9 1767.34 M2564.9 1763.64 Q2570.71 1763.64 2573.76 1768.24 Q2576.84 1772.83 2576.84 1781.58 Q2576.84 1790.3 2573.76 1794.91 Q2570.71 1799.49 2564.9 1799.49 Q2559.09 1799.49 2556.01 1794.91 Q2552.95 1790.3 2552.95 1781.58 Q2552.95 1772.83 2556.01 1768.24 Q2559.09 1763.64 2564.9 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2585.06 1792.94 L2589.94 1792.94 L2589.94 1798.82 L2585.06 1798.82 L2585.06 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2610.13 1767.34 Q2606.52 1767.34 2604.69 1770.9 Q2602.88 1774.45 2602.88 1781.58 Q2602.88 1788.68 2604.69 1792.25 Q2606.52 1795.79 2610.13 1795.79 Q2613.76 1795.79 2615.57 1792.25 Q2617.4 1788.68 2617.4 1781.58 Q2617.4 1774.45 2615.57 1770.9 Q2613.76 1767.34 2610.13 1767.34 M2610.13 1763.64 Q2615.94 1763.64 2619 1768.24 Q2622.07 1772.83 2622.07 1781.58 Q2622.07 1790.3 2619 1794.91 Q2615.94 1799.49 2610.13 1799.49 Q2604.32 1799.49 2601.24 1794.91 Q2598.18 1790.3 2598.18 1781.58 Q2598.18 1772.83 2601.24 1768.24 Q2604.32 1763.64 2610.13 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M1436.3 1833.78 L1442.19 1833.78 L1442.19 1863.03 L1459.66 1847.65 L1467.14 1847.65 L1448.23 1864.33 L1467.94 1883.3 L1460.3 1883.3 L1442.19 1865.89 L1442.19 1883.3 L1436.3 1883.3 L1436.3 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1734.12 263.478,1007.24 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1644.54 282.376,1644.54 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1438.96 282.376,1438.96 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1233.39 282.376,1233.39 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="263.478,1027.82 282.376,1027.82 "></polyline>
<path clip-path="url(#clip780)" d="M211.214 1630.34 Q207.603 1630.34 205.774 1633.9 Q203.969 1637.44 203.969 1644.57 Q203.969 1651.68 205.774 1655.24 Q207.603 1658.79 211.214 1658.79 Q214.848 1658.79 216.654 1655.24 Q218.482 1651.68 218.482 1644.57 Q218.482 1637.44 216.654 1633.9 Q214.848 1630.34 211.214 1630.34 M211.214 1626.63 Q217.024 1626.63 220.08 1631.24 Q223.158 1635.82 223.158 1644.57 Q223.158 1653.3 220.08 1657.91 Q217.024 1662.49 211.214 1662.49 Q205.404 1662.49 202.325 1657.91 Q199.27 1653.3 199.27 1644.57 Q199.27 1635.82 202.325 1631.24 Q205.404 1626.63 211.214 1626.63 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M203.251 1452.31 L210.89 1452.31 L210.89 1425.94 L202.58 1427.61 L202.58 1423.35 L210.844 1421.68 L215.519 1421.68 L215.519 1452.31 L223.158 1452.31 L223.158 1456.24 L203.251 1456.24 L203.251 1452.31 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M206.839 1246.73 L223.158 1246.73 L223.158 1250.67 L201.214 1250.67 L201.214 1246.73 Q203.876 1243.98 208.459 1239.35 Q213.066 1234.7 214.246 1233.36 Q216.492 1230.83 217.371 1229.1 Q218.274 1227.34 218.274 1225.65 Q218.274 1222.89 216.33 1221.16 Q214.408 1219.42 211.307 1219.42 Q209.107 1219.42 206.654 1220.18 Q204.223 1220.95 201.445 1222.5 L201.445 1217.78 Q204.27 1216.64 206.723 1216.06 Q209.177 1215.48 211.214 1215.48 Q216.584 1215.48 219.779 1218.17 Q222.973 1220.86 222.973 1225.35 Q222.973 1227.48 222.163 1229.4 Q221.376 1231.29 219.269 1233.89 Q218.691 1234.56 215.589 1237.78 Q212.487 1240.97 206.839 1246.73 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M216.029 1026.46 Q219.385 1027.18 221.26 1029.45 Q223.158 1031.72 223.158 1035.05 Q223.158 1040.17 219.64 1042.97 Q216.121 1045.77 209.64 1045.77 Q207.464 1045.77 205.149 1045.33 Q202.857 1044.91 200.404 1044.05 L200.404 1039.54 Q202.348 1040.67 204.663 1041.25 Q206.978 1041.83 209.501 1041.83 Q213.899 1041.83 216.191 1040.1 Q218.506 1038.36 218.506 1035.05 Q218.506 1031.99 216.353 1030.28 Q214.223 1028.55 210.404 1028.55 L206.376 1028.55 L206.376 1024.7 L210.589 1024.7 Q214.038 1024.7 215.867 1023.34 Q217.695 1021.95 217.695 1019.36 Q217.695 1016.69 215.797 1015.28 Q213.922 1013.85 210.404 1013.85 Q208.482 1013.85 206.283 1014.26 Q204.084 1014.68 201.445 1015.56 L201.445 1011.39 Q204.107 1010.65 206.422 1010.28 Q208.76 1009.91 210.82 1009.91 Q216.144 1009.91 219.246 1012.34 Q222.348 1014.75 222.348 1018.87 Q222.348 1021.74 220.705 1023.73 Q219.061 1025.7 216.029 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M109.046 1354.07 L126.392 1366.96 L144.694 1353.4 L144.694 1360.3 L130.689 1370.68 L144.694 1381.06 L144.694 1387.96 L126.042 1374.12 L109.046 1386.79 L109.046 1379.88 L121.745 1370.43 L109.046 1360.97 L109.046 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip783)" d="M330.76 1422.96 L314.76 1438.96 L330.76 1454.96 L346.76 1438.96 L330.76 1422.96 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M555.031 1185.37 L539.031 1201.37 L555.031 1217.37 L571.031 1201.37 L555.031 1185.37 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M779.303 1483.78 L763.303 1499.78 L779.303 1515.78 L795.303 1499.78 L779.303 1483.78 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1003.57 1549.72 L987.574 1565.72 L1003.57 1581.72 L1019.57 1565.72 L1003.57 1549.72 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1227.85 1593.72 L1211.85 1609.72 L1227.85 1625.72 L1243.85 1609.72 L1227.85 1593.72 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1452.12 1611.91 L1436.12 1627.91 L1452.12 1643.91 L1468.12 1627.91 L1452.12 1611.91 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1676.39 1620.83 L1660.39 1636.83 L1676.39 1652.83 L1692.39 1636.83 L1676.39 1620.83 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1900.66 1624.92 L1884.66 1640.92 L1900.66 1656.92 L1916.66 1640.92 L1900.66 1624.92 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2124.93 1626.83 L2108.93 1642.83 L2124.93 1658.83 L2140.93 1642.83 L2124.93 1626.83 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2349.2 1627.71 L2333.2 1643.71 L2349.2 1659.71 L2365.2 1643.71 L2349.2 1627.71 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2573.47 1628.08 L2557.47 1644.08 L2573.47 1660.08 L2589.47 1644.08 L2573.47 1628.08 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip783)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1438.96 555.031,1438.96 555.031,1201.37 779.303,1201.37 779.303,1499.78 1003.57,1499.78 1003.57,1565.72 1227.85,1565.72 1227.85,1609.72 1452.12,1609.72 1452.12,1627.91 1676.39,1627.91 1676.39,1636.83 1900.66,1636.83 1900.66,1640.92 2124.93,1640.92 2124.93,1642.83 2349.2,1642.83 2349.2,1643.71 2573.47,1643.71 2573.47,1644.08 "></polyline>
<path clip-path="url(#clip783)" d="M330.76 1011.82 L314.76 1027.82 L330.76 1043.82 L346.76 1027.82 L330.76 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M555.031 1697.55 L539.031 1713.55 L555.031 1729.55 L571.031 1713.55 L555.031 1697.55 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M779.303 1596.67 L763.303 1612.67 L779.303 1628.67 L795.303 1612.67 L779.303 1596.67 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1003.57 1625.16 L987.574 1641.16 L1003.57 1657.16 L1019.57 1641.16 L1003.57 1625.16 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1227.85 1624.89 L1211.85 1640.89 L1227.85 1656.89 L1243.85 1640.89 L1227.85 1624.89 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1452.12 1627.2 L1436.12 1643.2 L1452.12 1659.2 L1468.12 1643.2 L1452.12 1627.2 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1676.39 1627.84 L1660.39 1643.84 L1676.39 1659.84 L1692.39 1643.84 L1676.39 1627.84 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M1900.66 1628.22 L1884.66 1644.22 L1900.66 1660.22 L1916.66 1644.22 L1900.66 1628.22 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2124.93 1628.37 L2108.93 1644.37 L2124.93 1660.37 L2140.93 1644.37 L2124.93 1628.37 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2349.2 1628.42 L2333.2 1644.42 L2349.2 1660.42 L2365.2 1644.42 L2349.2 1628.42 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip783)" d="M2573.47 1628.4 L2557.47 1644.4 L2573.47 1660.4 L2589.47 1644.4 L2573.47 1628.4 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip783)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="330.76,1027.82 555.031,1027.82 555.031,1713.55 779.303,1713.55 779.303,1612.67 1003.57,1612.67 1003.57,1641.16 1227.85,1641.16 1227.85,1640.89 1452.12,1640.89 1452.12,1643.2 1676.39,1643.2 1676.39,1643.84 1900.66,1643.84 1900.66,1644.22 2124.93,1644.22 2124.93,1644.37 2349.2,1644.37 2349.2,1644.42 2573.47,1644.42 2573.47,1644.4 "></polyline>
<path clip-path="url(#clip780)" d="M2280.68 1186.99 L2561.51 1186.99 L2561.51 1031.47 L2280.68 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip780)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2280.68,1186.99 2561.51,1186.99 2561.51,1031.47 2280.68,1031.47 2280.68,1186.99 "></polyline>
<polyline clip-path="url(#clip780)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1083.31 2465.58,1083.31 "></polyline>
<path clip-path="url(#clip780)" d="M2516.65 1074.67 L2507.28 1087.28 L2517.14 1100.59 L2512.11 1100.59 L2504.57 1090.41 L2497.02 1100.59 L2492 1100.59 L2502.07 1087.03 L2492.85 1074.67 L2497.88 1074.67 L2504.75 1083.9 L2511.63 1074.67 L2516.65 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2522.3 1098.05 L2527.02 1098.05 L2527.02 1083.9 L2521.86 1084.85 L2521.86 1082.17 L2527.18 1081.26 L2530.35 1081.26 L2530.35 1098.05 L2535.1 1098.05 L2535.1 1100.59 L2522.3 1100.59 L2522.3 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip780)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2307.1,1135.15 2465.58,1135.15 "></polyline>
<path clip-path="url(#clip780)" d="M2516.65 1126.51 L2507.28 1139.12 L2517.14 1152.43 L2512.11 1152.43 L2504.57 1142.25 L2497.02 1152.43 L2492 1152.43 L2502.07 1138.87 L2492.85 1126.51 L2497.88 1126.51 L2504.75 1135.74 L2511.63 1126.51 L2516.65 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip780)" d="M2524.89 1149.79 L2534.71 1149.79 L2534.71 1152.43 L2520.86 1152.43 L2520.86 1149.89 Q2521.65 1149.17 2523.11 1147.87 Q2531.07 1140.81 2531.07 1138.64 Q2531.07 1137.11 2529.87 1136.18 Q2528.66 1135.23 2526.7 1135.23 Q2525.49 1135.23 2524.08 1135.65 Q2522.67 1136.04 2521 1136.85 L2521 1134.01 Q2522.78 1133.36 2524.31 1133.04 Q2525.86 1132.71 2527.18 1132.71 Q2530.54 1132.71 2532.55 1134.24 Q2534.57 1135.77 2534.57 1138.27 Q2534.57 1141.48 2526.9 1148.06 Q2525.61 1149.17 2524.89 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
<section id="adding-the-constraints-on-controls" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-controls">Adding the constraints on controls</h3>
<p>Adding constraints on <span class="math inline">\bar{\bm u}</span> is straightforward. It is just that instead of a linear system we will have a linear system with additional inequality constraints. Let’s get one <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp;\quad \bar{\bm u} \leq \bar{\mathbf u}^\mathrm{max}\\
               &amp;\quad \bar{\bm u} \geq \bar{\mathbf u}^\mathrm{min},
\end{aligned}
</span> which we can rewrite more explicitly (in the matrix-vector format) as <span class="math display">
\begin{aligned}
\operatorname*{minimize}_{\bar{\bm u}} &amp; \quad \frac{1}{2}\bar{\bm u}^T \mathbf H \bar{\bm u} + \mathbf x_0^T\mathbf F^T \bar{\bm u}\\
\text{subject to} &amp; \begin{bmatrix}
                  \mathbf{I}  &amp;    &amp;         &amp;    \\
                    &amp; \mathbf{I}  &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  \mathbf{I} \\
                    -\mathbf{I}   &amp;   &amp;     &amp;    \\
                    &amp; -\mathbf{I} &amp;         &amp;    \\
                    &amp;    &amp; \ddots  &amp;    \\
                    &amp;    &amp;         &amp;  -\mathbf{I}
                 \end{bmatrix}
                 \begin{bmatrix}
                  \bm u_0 \\ \bm u_1 \\ \vdots \\ \bm u_{N-1}
                 \end{bmatrix}
                 \leq
                 \begin{bmatrix}
                  \mathbf u^\mathbf{max} \\ \mathbf u^\mathrm{max} \\ \vdots \\ \mathbf u^\mathrm{max}\\ -\mathbf u^\mathrm{min} \\ -\mathbf u^\mathrm{min} \\ \vdots \\ -\mathbf u^\mathrm{min}
                 \end{bmatrix}.
\end{aligned}
</span></p>
<div id="exm-direct-sequential-constrained-u" class="theorem example">
<p><span class="theorem-title"><strong>Example 4 (Reformulating the LQR problem with constraints on control as a quadratic program – sequential approach)</strong></span> &nbsp;</p>
<div id="8" class="cell" data-execution_count="1">
<details class="code-fold">
<summary>Show the code</summary>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode julia code-with-copy"><code class="sourceCode julia"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">LinearAlgebra</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">BlockArrays</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">SparseArrays</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">JuMP</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">OSQP</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="kw">function</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>    n <span class="op">=</span> <span class="fu">size</span>(A)[<span class="fl">1</span>]</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>    m <span class="op">=</span> <span class="fu">size</span>(B)[<span class="fl">2</span>]</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>    Q̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>n),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([n],N))</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>        Q̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> Q</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-14"><a href="#cb4-14" aria-hidden="true" tabindex="-1"></a>    Q̄[<span class="fu">Block</span>(N,N)] <span class="op">=</span> S</span>
<span id="cb4-15"><a href="#cb4-15" aria-hidden="true" tabindex="-1"></a>    R̄ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>m,N<span class="op">*</span>m),<span class="fu">repeat</span>([m],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-16"><a href="#cb4-16" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-17"><a href="#cb4-17" aria-hidden="true" tabindex="-1"></a>        R̄[<span class="fu">Block</span>(i,i)] <span class="op">=</span> R</span>
<span id="cb4-18"><a href="#cb4-18" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-19"><a href="#cb4-19" aria-hidden="true" tabindex="-1"></a>    Ĉ <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,N<span class="op">*</span>m),<span class="fu">repeat</span>([n],N),<span class="fu">repeat</span>([m],N))</span>
<span id="cb4-20"><a href="#cb4-20" aria-hidden="true" tabindex="-1"></a>    Â <span class="op">=</span> <span class="fu">BlockArray</span>(<span class="fu">spzeros</span>(N<span class="op">*</span>n,n),<span class="fu">repeat</span>([n],N),[n])</span>
<span id="cb4-21"><a href="#cb4-21" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> i<span class="op">=</span><span class="fl">1</span><span class="op">:</span>N</span>
<span id="cb4-22"><a href="#cb4-22" aria-hidden="true" tabindex="-1"></a>        <span class="cf">for</span> j <span class="op">=</span> <span class="fl">1</span><span class="op">:</span>i</span>
<span id="cb4-23"><a href="#cb4-23" aria-hidden="true" tabindex="-1"></a>            Ĉ[<span class="fu">Block</span>(i,j)] <span class="op">=</span> A<span class="op">^</span>(i<span class="op">-</span>j)<span class="op">*</span>B</span>
<span id="cb4-24"><a href="#cb4-24" aria-hidden="true" tabindex="-1"></a>            Â[<span class="fu">Block</span>(i,<span class="fl">1</span>)] <span class="op">=</span> A<span class="op">^</span>i</span>
<span id="cb4-25"><a href="#cb4-25" aria-hidden="true" tabindex="-1"></a>        <span class="cf">end</span></span>
<span id="cb4-26"><a href="#cb4-26" aria-hidden="true" tabindex="-1"></a>    <span class="cf">end</span></span>
<span id="cb4-27"><a href="#cb4-27" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Ĉ + R̄</span></span>
<span id="cb4-28"><a href="#cb4-28" aria-hidden="true" tabindex="-1"></a>    H <span class="op">=</span> <span class="fu">Array</span>(H)</span>
<span id="cb4-29"><a href="#cb4-29" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> Ĉ<span class="ch">'*Q̄*Â</span></span>
<span id="cb4-30"><a href="#cb4-30" aria-hidden="true" tabindex="-1"></a>    F <span class="op">=</span> <span class="fu">Array</span>(F)</span>
<span id="cb4-31"><a href="#cb4-31" aria-hidden="true" tabindex="-1"></a>    prob <span class="op">=</span> <span class="fu">Model</span>()</span>
<span id="cb4-32"><a href="#cb4-32" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@variable</span>(prob, u[<span class="fl">1</span><span class="op">:</span>N<span class="op">*</span>m])</span>
<span id="cb4-33"><a href="#cb4-33" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@objective</span>(prob, Min, <span class="fl">1</span><span class="op">/</span><span class="fl">2</span><span class="fu">*dot</span>(u,H,u) <span class="op">+</span> <span class="fu">dot</span>(F<span class="op">*</span>x₀,u))</span>
<span id="cb4-34"><a href="#cb4-34" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&gt;=</span> umin)</span>
<span id="cb4-35"><a href="#cb4-35" aria-hidden="true" tabindex="-1"></a>    <span class="pp">@constraint</span>(prob, u <span class="op">.&lt;=</span> umax)</span>
<span id="cb4-36"><a href="#cb4-36" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_silent</span>(prob)</span>
<span id="cb4-37"><a href="#cb4-37" aria-hidden="true" tabindex="-1"></a>    <span class="fu">set_optimizer</span>(prob, OSQP.Optimizer)</span>
<span id="cb4-38"><a href="#cb4-38" aria-hidden="true" tabindex="-1"></a>    <span class="fu">optimize!</span>(prob)</span>
<span id="cb4-39"><a href="#cb4-39" aria-hidden="true" tabindex="-1"></a>    uopt <span class="op">=</span> <span class="fu">value</span>.(u)</span>
<span id="cb4-40"><a href="#cb4-40" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> Ĉ<span class="op">*</span>uopt <span class="op">+</span> Â<span class="op">*</span>x₀</span>
<span id="cb4-41"><a href="#cb4-41" aria-hidden="true" tabindex="-1"></a>    xopt <span class="op">=</span> <span class="fu">reshape</span>(xopt,(<span class="fl">2</span>,<span class="op">:</span>))</span>
<span id="cb4-42"><a href="#cb4-42" aria-hidden="true" tabindex="-1"></a><span class="co">#=     u = Variable(N*m)</span></span>
<span id="cb4-43"><a href="#cb4-43" aria-hidden="true" tabindex="-1"></a><span class="co">    problem = minimize(1/2*quadform(u,H) + dot(F*x₀,u))</span></span>
<span id="cb4-44"><a href="#cb4-44" aria-hidden="true" tabindex="-1"></a><span class="co">    problem.constraints = [u &gt;= umin, u &lt;= umax]</span></span>
<span id="cb4-45"><a href="#cb4-45" aria-hidden="true" tabindex="-1"></a><span class="co">    Convex.solve!(problem, SCS.Optimizer; silent = true)</span></span>
<span id="cb4-46"><a href="#cb4-46" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = Ĉ*u.value + Â*x₀</span></span>
<span id="cb4-47"><a href="#cb4-47" aria-hidden="true" tabindex="-1"></a><span class="co">    xopt = reshape(xopt,(2,:))</span></span>
<span id="cb4-48"><a href="#cb4-48" aria-hidden="true" tabindex="-1"></a><span class="co">    uopt = u.value =#</span></span>
<span id="cb4-49"><a href="#cb4-49" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> xopt,uopt</span>
<span id="cb4-50"><a href="#cb4-50" aria-hidden="true" tabindex="-1"></a><span class="kw">end</span></span>
<span id="cb4-51"><a href="#cb4-51" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-52"><a href="#cb4-52" aria-hidden="true" tabindex="-1"></a>n <span class="op">=</span> <span class="fl">2</span>               <span class="co"># Number of state variables.</span></span>
<span id="cb4-53"><a href="#cb4-53" aria-hidden="true" tabindex="-1"></a>m <span class="op">=</span> <span class="fl">1</span>               <span class="co"># Number of (control) input variables. </span></span>
<span id="cb4-54"><a href="#cb4-54" aria-hidden="true" tabindex="-1"></a>A <span class="op">=</span> <span class="fu">rand</span>(n,n)       <span class="co"># State matrix.</span></span>
<span id="cb4-55"><a href="#cb4-55" aria-hidden="true" tabindex="-1"></a>B <span class="op">=</span> <span class="fu">rand</span>(n,m)       <span class="co"># Input coupling matrix.</span></span>
<span id="cb4-56"><a href="#cb4-56" aria-hidden="true" tabindex="-1"></a>x₀ <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">3.0</span>]     <span class="co"># Initial state.</span></span>
<span id="cb4-57"><a href="#cb4-57" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-58"><a href="#cb4-58" aria-hidden="true" tabindex="-1"></a>N <span class="op">=</span> <span class="fl">10</span>              <span class="co"># Time horizon.</span></span>
<span id="cb4-59"><a href="#cb4-59" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-60"><a href="#cb4-60" aria-hidden="true" tabindex="-1"></a>s <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]      </span>
<span id="cb4-61"><a href="#cb4-61" aria-hidden="true" tabindex="-1"></a>q <span class="op">=</span> [<span class="fl">1.0</span>, <span class="fl">2.0</span>]</span>
<span id="cb4-62"><a href="#cb4-62" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> [<span class="fl">1.0</span>]</span>
<span id="cb4-63"><a href="#cb4-63" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-64"><a href="#cb4-64" aria-hidden="true" tabindex="-1"></a>S <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>s)     <span class="co"># Matrix defining the terminal state cost.</span></span>
<span id="cb4-65"><a href="#cb4-65" aria-hidden="true" tabindex="-1"></a>Q <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>q)     <span class="co"># Matrix defining the running state dost.</span></span>
<span id="cb4-66"><a href="#cb4-66" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> <span class="fu">diagm</span>(<span class="fl">0</span><span class="op">=&gt;</span>r)     <span class="co"># Matrix defining the cost of control.</span></span>
<span id="cb4-67"><a href="#cb4-67" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-68"><a href="#cb4-68" aria-hidden="true" tabindex="-1"></a>umin <span class="op">=</span> <span class="op">-</span><span class="fl">1.0</span></span>
<span id="cb4-69"><a href="#cb4-69" aria-hidden="true" tabindex="-1"></a>umax <span class="op">=</span> <span class="fl">1.0</span></span>
<span id="cb4-70"><a href="#cb4-70" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-71"><a href="#cb4-71" aria-hidden="true" tabindex="-1"></a>xopt,uopt <span class="op">=</span> <span class="fu">direct_dlqr_sequential</span>(A,B,x₀,Q,R,S,N,(umin,umax))</span>
<span id="cb4-72"><a href="#cb4-72" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-73"><a href="#cb4-73" aria-hidden="true" tabindex="-1"></a><span class="im">using</span> <span class="bu">Plots</span></span>
<span id="cb4-74"><a href="#cb4-74" aria-hidden="true" tabindex="-1"></a>p1 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>(N<span class="op">-</span><span class="fl">1</span>),uopt,marker<span class="op">=:</span>diamond,label<span class="op">=</span><span class="st">"u"</span>,linetype<span class="op">=:</span>steppost)</span>
<span id="cb4-75"><a href="#cb4-75" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-76"><a href="#cb4-76" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"u"</span>)</span>
<span id="cb4-77"><a href="#cb4-77" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-78"><a href="#cb4-78" aria-hidden="true" tabindex="-1"></a>p2 <span class="op">=</span> <span class="fu">plot</span>(<span class="fl">0</span><span class="op">:</span>N,<span class="fu">hcat</span>(x₀,xopt)<span class="ch">',marker=:diamond,label=["x₁" "x₂"],linetype=:steppost)</span></span>
<span id="cb4-79"><a href="#cb4-79" aria-hidden="true" tabindex="-1"></a><span class="fu">xlabel!</span>(<span class="st">"k"</span>)</span>
<span id="cb4-80"><a href="#cb4-80" aria-hidden="true" tabindex="-1"></a><span class="fu">ylabel!</span>(<span class="st">"x"</span>)</span>
<span id="cb4-81"><a href="#cb4-81" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-82"><a href="#cb4-82" aria-hidden="true" tabindex="-1"></a><span class="fu">plot</span>(p1,p2,layout<span class="op">=</span>(<span class="fl">2</span>,<span class="fl">1</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</details>
<div class="cell-output cell-output-display" data-execution_count="1">
<!--?xml version="1.0" encoding="utf-8"?-->
<svg xmlns="http://www.w3.org/2000/svg" xlink="http://www.w3.org/1999/xlink" width="672" height="480" viewbox="0 0 2688 1920">
<defs>
  <clippath id="clip840">
    <rect x="0" y="0" width="2688" height="1920"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip840)" d="M0 1920 L2688 1920 L2688 0 L0 0  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip841">
    <rect x="537" y="0" width="1883" height="1883"></rect>
  </clippath>
</defs>
<path clip-path="url(#clip840)" d="M354.45 774.117 L2640.76 774.117 L2640.76 47.2441 L354.45 47.2441  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip842">
    <rect x="354" y="47" width="2287" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="419.157,774.117 419.157,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="898.466,774.117 898.466,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1377.78,774.117 1377.78,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1857.09,774.117 1857.09,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2336.39,774.117 2336.39,47.2441 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,725.192 2640.76,725.192 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,563.185 2640.76,563.185 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,401.178 2640.76,401.178 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,239.171 2640.76,239.171 "></polyline>
<polyline clip-path="url(#clip842)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,77.1634 2640.76,77.1634 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,774.117 2640.76,774.117 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="419.157,774.117 419.157,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="898.466,774.117 898.466,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1377.78,774.117 1377.78,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1857.09,774.117 1857.09,755.219 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2336.39,774.117 2336.39,755.219 "></polyline>
<path clip-path="url(#clip840)" d="M419.157 807.34 Q415.546 807.34 413.717 810.904 Q411.911 814.446 411.911 821.576 Q411.911 828.682 413.717 832.247 Q415.546 835.789 419.157 835.789 Q422.791 835.789 424.597 832.247 Q426.425 828.682 426.425 821.576 Q426.425 814.446 424.597 810.904 Q422.791 807.34 419.157 807.34 M419.157 803.636 Q424.967 803.636 428.023 808.242 Q431.101 812.826 431.101 821.576 Q431.101 830.303 428.023 834.909 Q424.967 839.492 419.157 839.492 Q413.347 839.492 410.268 834.909 Q407.212 830.303 407.212 821.576 Q407.212 812.826 410.268 808.242 Q413.347 803.636 419.157 803.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M893.119 834.886 L909.438 834.886 L909.438 838.821 L887.494 838.821 L887.494 834.886 Q890.156 832.131 894.739 827.502 Q899.346 822.849 900.526 821.506 Q902.772 818.983 903.651 817.247 Q904.554 815.488 904.554 813.798 Q904.554 811.043 902.61 809.307 Q900.688 807.571 897.587 807.571 Q895.388 807.571 892.934 808.335 Q890.503 809.099 887.726 810.65 L887.726 805.928 Q890.55 804.793 893.003 804.215 Q895.457 803.636 897.494 803.636 Q902.864 803.636 906.059 806.321 Q909.253 809.006 909.253 813.497 Q909.253 815.627 908.443 817.548 Q907.656 819.446 905.55 822.039 Q904.971 822.71 901.869 825.928 Q898.767 829.122 893.119 834.886 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1380.78 808.335 L1368.98 826.784 L1380.78 826.784 L1380.78 808.335 M1379.56 804.261 L1385.44 804.261 L1385.44 826.784 L1390.37 826.784 L1390.37 830.673 L1385.44 830.673 L1385.44 838.821 L1380.78 838.821 L1380.78 830.673 L1365.18 830.673 L1365.18 826.159 L1379.56 804.261 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1857.49 819.678 Q1854.34 819.678 1852.49 821.83 Q1850.66 823.983 1850.66 827.733 Q1850.66 831.46 1852.49 833.636 Q1854.34 835.789 1857.49 835.789 Q1860.64 835.789 1862.47 833.636 Q1864.32 831.46 1864.32 827.733 Q1864.32 823.983 1862.47 821.83 Q1860.64 819.678 1857.49 819.678 M1866.77 805.025 L1866.77 809.284 Q1865.01 808.451 1863.21 808.011 Q1861.43 807.571 1859.67 807.571 Q1855.04 807.571 1852.58 810.696 Q1850.15 813.821 1849.8 820.141 Q1851.17 818.127 1853.23 817.062 Q1855.29 815.974 1857.77 815.974 Q1862.98 815.974 1865.99 819.145 Q1869.02 822.293 1869.02 827.733 Q1869.02 833.057 1865.87 836.275 Q1862.72 839.492 1857.49 839.492 Q1851.49 839.492 1848.32 834.909 Q1845.15 830.303 1845.15 821.576 Q1845.15 813.381 1849.04 808.52 Q1852.93 803.636 1859.48 803.636 Q1861.24 803.636 1863.02 803.983 Q1864.83 804.33 1866.77 805.025 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2336.39 822.409 Q2333.06 822.409 2331.14 824.191 Q2329.24 825.974 2329.24 829.099 Q2329.24 832.224 2331.14 834.006 Q2333.06 835.789 2336.39 835.789 Q2339.73 835.789 2341.65 834.006 Q2343.57 832.201 2343.57 829.099 Q2343.57 825.974 2341.65 824.191 Q2339.75 822.409 2336.39 822.409 M2331.72 820.418 Q2328.71 819.678 2327.02 817.617 Q2325.35 815.557 2325.35 812.594 Q2325.35 808.451 2328.29 806.043 Q2331.26 803.636 2336.39 803.636 Q2341.56 803.636 2344.5 806.043 Q2347.44 808.451 2347.44 812.594 Q2347.44 815.557 2345.75 817.617 Q2344.08 819.678 2341.09 820.418 Q2344.47 821.205 2346.35 823.497 Q2348.25 825.789 2348.25 829.099 Q2348.25 834.122 2345.17 836.807 Q2342.11 839.492 2336.39 839.492 Q2330.68 839.492 2327.6 836.807 Q2324.54 834.122 2324.54 829.099 Q2324.54 825.789 2326.44 823.497 Q2328.34 821.205 2331.72 820.418 M2330.01 813.034 Q2330.01 815.719 2331.67 817.224 Q2333.36 818.729 2336.39 818.729 Q2339.4 818.729 2341.09 817.224 Q2342.81 815.719 2342.81 813.034 Q2342.81 810.349 2341.09 808.844 Q2339.4 807.34 2336.39 807.34 Q2333.36 807.34 2331.67 808.844 Q2330.01 810.349 2330.01 813.034 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1481.78 873.776 L1487.67 873.776 L1487.67 903.026 L1505.15 887.653 L1512.63 887.653 L1493.72 904.331 L1513.42 923.301 L1505.78 923.301 L1487.67 905.891 L1487.67 923.301 L1481.78 923.301 L1481.78 873.776 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,774.117 354.45,47.2441 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,725.192 373.348,725.192 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,563.185 373.348,563.185 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,401.178 373.348,401.178 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,239.171 373.348,239.171 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,77.1634 373.348,77.1634 "></polyline>
<path clip-path="url(#clip840)" d="M116.701 725.643 L146.376 725.643 L146.376 729.578 L116.701 729.578 L116.701 725.643 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M157.279 738.537 L164.918 738.537 L164.918 712.171 L156.608 713.838 L156.608 709.578 L164.872 707.912 L169.547 707.912 L169.547 738.537 L177.186 738.537 L177.186 742.472 L157.279 742.472 L157.279 738.537 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.631 736.592 L191.515 736.592 L191.515 742.472 L186.631 742.472 L186.631 736.592 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M211.7 710.99 Q208.089 710.99 206.26 714.555 Q204.455 718.097 204.455 725.226 Q204.455 732.333 206.26 735.898 Q208.089 739.439 211.7 739.439 Q215.334 739.439 217.14 735.898 Q218.969 732.333 218.969 725.226 Q218.969 718.097 217.14 714.555 Q215.334 710.99 211.7 710.99 M211.7 707.287 Q217.51 707.287 220.566 711.893 Q223.644 716.476 223.644 725.226 Q223.644 733.953 220.566 738.56 Q217.51 743.143 211.7 743.143 Q205.89 743.143 202.811 738.56 Q199.756 733.953 199.756 725.226 Q199.756 716.476 202.811 711.893 Q205.89 707.287 211.7 707.287 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M241.862 710.99 Q238.251 710.99 236.422 714.555 Q234.617 718.097 234.617 725.226 Q234.617 732.333 236.422 735.898 Q238.251 739.439 241.862 739.439 Q245.496 739.439 247.302 735.898 Q249.13 732.333 249.13 725.226 Q249.13 718.097 247.302 714.555 Q245.496 710.99 241.862 710.99 M241.862 707.287 Q247.672 707.287 250.728 711.893 Q253.806 716.476 253.806 725.226 Q253.806 733.953 250.728 738.56 Q247.672 743.143 241.862 743.143 Q236.052 743.143 232.973 738.56 Q229.918 733.953 229.918 725.226 Q229.918 716.476 232.973 711.893 Q236.052 707.287 241.862 707.287 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M272.024 710.99 Q268.413 710.99 266.584 714.555 Q264.778 718.097 264.778 725.226 Q264.778 732.333 266.584 735.898 Q268.413 739.439 272.024 739.439 Q275.658 739.439 277.464 735.898 Q279.292 732.333 279.292 725.226 Q279.292 718.097 277.464 714.555 Q275.658 710.99 272.024 710.99 M272.024 707.287 Q277.834 707.287 280.889 711.893 Q283.968 716.476 283.968 725.226 Q283.968 733.953 280.889 738.56 Q277.834 743.143 272.024 743.143 Q266.214 743.143 263.135 738.56 Q260.079 733.953 260.079 725.226 Q260.079 716.476 263.135 711.893 Q266.214 707.287 272.024 707.287 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M302.186 710.99 Q298.575 710.99 296.746 714.555 Q294.94 718.097 294.94 725.226 Q294.94 732.333 296.746 735.898 Q298.575 739.439 302.186 739.439 Q305.82 739.439 307.625 735.898 Q309.454 732.333 309.454 725.226 Q309.454 718.097 307.625 714.555 Q305.82 710.99 302.186 710.99 M302.186 707.287 Q307.996 707.287 311.051 711.893 Q314.13 716.476 314.13 725.226 Q314.13 733.953 311.051 738.56 Q307.996 743.143 302.186 743.143 Q296.376 743.143 293.297 738.56 Q290.241 733.953 290.241 725.226 Q290.241 716.476 293.297 711.893 Q296.376 707.287 302.186 707.287 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M116.793 563.636 L146.469 563.636 L146.469 567.571 L116.793 567.571 L116.793 563.636 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M166.561 548.983 Q162.95 548.983 161.122 552.548 Q159.316 556.09 159.316 563.219 Q159.316 570.326 161.122 573.891 Q162.95 577.432 166.561 577.432 Q170.196 577.432 172.001 573.891 Q173.83 570.326 173.83 563.219 Q173.83 556.09 172.001 552.548 Q170.196 548.983 166.561 548.983 M166.561 545.28 Q172.372 545.28 175.427 549.886 Q178.506 554.469 178.506 563.219 Q178.506 571.946 175.427 576.553 Q172.372 581.136 166.561 581.136 Q160.751 581.136 157.673 576.553 Q154.617 571.946 154.617 563.219 Q154.617 554.469 157.673 549.886 Q160.751 545.28 166.561 545.28 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.723 574.585 L191.608 574.585 L191.608 580.465 L186.723 580.465 L186.723 574.585 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M201.932 579.747 L201.932 575.488 Q203.691 576.321 205.496 576.761 Q207.302 577.201 209.038 577.201 Q213.668 577.201 216.098 574.099 Q218.552 570.974 218.899 564.631 Q217.556 566.622 215.496 567.687 Q213.436 568.752 210.936 568.752 Q205.751 568.752 202.719 565.627 Q199.709 562.479 199.709 557.039 Q199.709 551.715 202.857 548.497 Q206.006 545.28 211.237 545.28 Q217.232 545.28 220.381 549.886 Q223.552 554.469 223.552 563.219 Q223.552 571.391 219.663 576.275 Q215.797 581.136 209.246 581.136 Q207.487 581.136 205.682 580.789 Q203.876 580.442 201.932 579.747 M211.237 565.094 Q214.385 565.094 216.214 562.942 Q218.066 560.789 218.066 557.039 Q218.066 553.312 216.214 551.159 Q214.385 548.983 211.237 548.983 Q208.089 548.983 206.237 551.159 Q204.408 553.312 204.408 557.039 Q204.408 560.789 206.237 562.942 Q208.089 565.094 211.237 565.094 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M232.093 579.747 L232.093 575.488 Q233.853 576.321 235.658 576.761 Q237.464 577.201 239.2 577.201 Q243.83 577.201 246.26 574.099 Q248.714 570.974 249.061 564.631 Q247.718 566.622 245.658 567.687 Q243.598 568.752 241.098 568.752 Q235.913 568.752 232.88 565.627 Q229.871 562.479 229.871 557.039 Q229.871 551.715 233.019 548.497 Q236.168 545.28 241.399 545.28 Q247.394 545.28 250.542 549.886 Q253.714 554.469 253.714 563.219 Q253.714 571.391 249.825 576.275 Q245.959 581.136 239.408 581.136 Q237.649 581.136 235.843 580.789 Q234.038 580.442 232.093 579.747 M241.399 565.094 Q244.547 565.094 246.376 562.942 Q248.228 560.789 248.228 557.039 Q248.228 553.312 246.376 551.159 Q244.547 548.983 241.399 548.983 Q238.251 548.983 236.399 551.159 Q234.57 553.312 234.57 557.039 Q234.57 560.789 236.399 562.942 Q238.251 565.094 241.399 565.094 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M262.255 579.747 L262.255 575.488 Q264.015 576.321 265.82 576.761 Q267.626 577.201 269.362 577.201 Q273.991 577.201 276.422 574.099 Q278.876 570.974 279.223 564.631 Q277.88 566.622 275.82 567.687 Q273.76 568.752 271.26 568.752 Q266.075 568.752 263.042 565.627 Q260.033 562.479 260.033 557.039 Q260.033 551.715 263.181 548.497 Q266.329 545.28 271.561 545.28 Q277.556 545.28 280.704 549.886 Q283.876 554.469 283.876 563.219 Q283.876 571.391 279.987 576.275 Q276.121 581.136 269.57 581.136 Q267.811 581.136 266.005 580.789 Q264.2 580.442 262.255 579.747 M271.561 565.094 Q274.709 565.094 276.538 562.942 Q278.39 560.789 278.39 557.039 Q278.39 553.312 276.538 551.159 Q274.709 548.983 271.561 548.983 Q268.413 548.983 266.561 551.159 Q264.732 553.312 264.732 557.039 Q264.732 560.789 266.561 562.942 Q268.413 565.094 271.561 565.094 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M302.278 564.053 Q298.945 564.053 297.024 565.835 Q295.126 567.618 295.126 570.742 Q295.126 573.867 297.024 575.65 Q298.945 577.432 302.278 577.432 Q305.612 577.432 307.533 575.65 Q309.454 573.844 309.454 570.742 Q309.454 567.618 307.533 565.835 Q305.635 564.053 302.278 564.053 M297.602 562.062 Q294.593 561.321 292.903 559.261 Q291.237 557.201 291.237 554.238 Q291.237 550.094 294.176 547.687 Q297.139 545.28 302.278 545.28 Q307.44 545.28 310.38 547.687 Q313.32 550.094 313.32 554.238 Q313.32 557.201 311.63 559.261 Q309.963 561.321 306.977 562.062 Q310.357 562.849 312.232 565.141 Q314.13 567.432 314.13 570.742 Q314.13 575.766 311.051 578.451 Q307.996 581.136 302.278 581.136 Q296.561 581.136 293.482 578.451 Q290.426 575.766 290.426 570.742 Q290.426 567.432 292.325 565.141 Q294.223 562.849 297.602 562.062 M295.889 554.678 Q295.889 557.363 297.556 558.868 Q299.246 560.372 302.278 560.372 Q305.288 560.372 306.977 558.868 Q308.69 557.363 308.69 554.678 Q308.69 551.993 306.977 550.488 Q305.288 548.983 302.278 548.983 Q299.246 548.983 297.556 550.488 Q295.889 551.993 295.889 554.678 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M116.539 401.629 L146.214 401.629 L146.214 405.564 L116.539 405.564 L116.539 401.629 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M166.307 386.976 Q162.696 386.976 160.867 390.541 Q159.061 394.083 159.061 401.212 Q159.061 408.319 160.867 411.884 Q162.696 415.425 166.307 415.425 Q169.941 415.425 171.747 411.884 Q173.575 408.319 173.575 401.212 Q173.575 394.083 171.747 390.541 Q169.941 386.976 166.307 386.976 M166.307 383.273 Q172.117 383.273 175.172 387.879 Q178.251 392.462 178.251 401.212 Q178.251 409.939 175.172 414.546 Q172.117 419.129 166.307 419.129 Q160.497 419.129 157.418 414.546 Q154.362 409.939 154.362 401.212 Q154.362 392.462 157.418 387.879 Q160.497 383.273 166.307 383.273 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.469 412.578 L191.353 412.578 L191.353 418.458 L186.469 418.458 L186.469 412.578 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M201.677 417.74 L201.677 413.481 Q203.436 414.314 205.242 414.754 Q207.047 415.194 208.783 415.194 Q213.413 415.194 215.844 412.092 Q218.297 408.967 218.644 402.624 Q217.302 404.615 215.242 405.68 Q213.182 406.745 210.682 406.745 Q205.496 406.745 202.464 403.62 Q199.455 400.472 199.455 395.032 Q199.455 389.708 202.603 386.49 Q205.751 383.273 210.982 383.273 Q216.978 383.273 220.126 387.879 Q223.297 392.462 223.297 401.212 Q223.297 409.384 219.408 414.268 Q215.543 419.129 208.992 419.129 Q207.232 419.129 205.427 418.782 Q203.621 418.434 201.677 417.74 M210.982 403.087 Q214.131 403.087 215.959 400.935 Q217.811 398.782 217.811 395.032 Q217.811 391.305 215.959 389.152 Q214.131 386.976 210.982 386.976 Q207.834 386.976 205.982 389.152 Q204.154 391.305 204.154 395.032 Q204.154 398.782 205.982 400.935 Q207.834 403.087 210.982 403.087 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M231.839 417.74 L231.839 413.481 Q233.598 414.314 235.404 414.754 Q237.209 415.194 238.945 415.194 Q243.575 415.194 246.005 412.092 Q248.459 408.967 248.806 402.624 Q247.464 404.615 245.404 405.68 Q243.343 406.745 240.843 406.745 Q235.658 406.745 232.626 403.62 Q229.617 400.472 229.617 395.032 Q229.617 389.708 232.765 386.49 Q235.913 383.273 241.144 383.273 Q247.14 383.273 250.288 387.879 Q253.459 392.462 253.459 401.212 Q253.459 409.384 249.57 414.268 Q245.704 419.129 239.154 419.129 Q237.394 419.129 235.589 418.782 Q233.783 418.434 231.839 417.74 M241.144 403.087 Q244.292 403.087 246.121 400.935 Q247.973 398.782 247.973 395.032 Q247.973 391.305 246.121 389.152 Q244.292 386.976 241.144 386.976 Q237.996 386.976 236.144 389.152 Q234.316 391.305 234.316 395.032 Q234.316 398.782 236.144 400.935 Q237.996 403.087 241.144 403.087 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M262.001 417.74 L262.001 413.481 Q263.76 414.314 265.565 414.754 Q267.371 415.194 269.107 415.194 Q273.737 415.194 276.167 412.092 Q278.621 408.967 278.968 402.624 Q277.626 404.615 275.565 405.68 Q273.505 406.745 271.005 406.745 Q265.82 406.745 262.788 403.62 Q259.778 400.472 259.778 395.032 Q259.778 389.708 262.927 386.49 Q266.075 383.273 271.306 383.273 Q277.302 383.273 280.45 387.879 Q283.621 392.462 283.621 401.212 Q283.621 409.384 279.732 414.268 Q275.866 419.129 269.315 419.129 Q267.556 419.129 265.751 418.782 Q263.945 418.434 262.001 417.74 M271.306 403.087 Q274.454 403.087 276.283 400.935 Q278.135 398.782 278.135 395.032 Q278.135 391.305 276.283 389.152 Q274.454 386.976 271.306 386.976 Q268.158 386.976 266.306 389.152 Q264.478 391.305 264.478 395.032 Q264.478 398.782 266.306 400.935 Q268.158 403.087 271.306 403.087 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M302.602 399.314 Q299.454 399.314 297.602 401.467 Q295.774 403.62 295.774 407.37 Q295.774 411.097 297.602 413.272 Q299.454 415.425 302.602 415.425 Q305.75 415.425 307.579 413.272 Q309.431 411.097 309.431 407.37 Q309.431 403.62 307.579 401.467 Q305.75 399.314 302.602 399.314 M311.885 384.661 L311.885 388.921 Q310.125 388.087 308.32 387.648 Q306.537 387.208 304.778 387.208 Q300.149 387.208 297.695 390.333 Q295.264 393.458 294.917 399.777 Q296.283 397.763 298.343 396.698 Q300.403 395.61 302.88 395.61 Q308.088 395.61 311.098 398.782 Q314.13 401.93 314.13 407.37 Q314.13 412.694 310.982 415.911 Q307.834 419.129 302.602 419.129 Q296.607 419.129 293.436 414.546 Q290.264 409.939 290.264 401.212 Q290.264 393.018 294.153 388.157 Q298.042 383.273 304.593 383.273 Q306.352 383.273 308.135 383.62 Q309.94 383.967 311.885 384.661 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M116.214 239.622 L145.89 239.622 L145.89 243.557 L116.214 243.557 L116.214 239.622 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M165.983 224.969 Q162.372 224.969 160.543 228.534 Q158.737 232.076 158.737 239.205 Q158.737 246.312 160.543 249.876 Q162.372 253.418 165.983 253.418 Q169.617 253.418 171.422 249.876 Q173.251 246.312 173.251 239.205 Q173.251 232.076 171.422 228.534 Q169.617 224.969 165.983 224.969 M165.983 221.266 Q171.793 221.266 174.848 225.872 Q177.927 230.455 177.927 239.205 Q177.927 247.932 174.848 252.538 Q171.793 257.122 165.983 257.122 Q160.173 257.122 157.094 252.538 Q154.038 247.932 154.038 239.205 Q154.038 230.455 157.094 225.872 Q160.173 221.266 165.983 221.266 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M186.145 250.571 L191.029 250.571 L191.029 256.451 L186.145 256.451 L186.145 250.571 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M201.353 255.733 L201.353 251.474 Q203.112 252.307 204.918 252.747 Q206.723 253.187 208.459 253.187 Q213.089 253.187 215.519 250.085 Q217.973 246.96 218.32 240.617 Q216.978 242.608 214.918 243.673 Q212.857 244.738 210.357 244.738 Q205.172 244.738 202.14 241.613 Q199.131 238.464 199.131 233.025 Q199.131 227.701 202.279 224.483 Q205.427 221.266 210.658 221.266 Q216.654 221.266 219.802 225.872 Q222.973 230.455 222.973 239.205 Q222.973 247.376 219.084 252.261 Q215.219 257.122 208.668 257.122 Q206.908 257.122 205.103 256.775 Q203.297 256.427 201.353 255.733 M210.658 241.08 Q213.807 241.08 215.635 238.927 Q217.487 236.775 217.487 233.025 Q217.487 229.298 215.635 227.145 Q213.807 224.969 210.658 224.969 Q207.51 224.969 205.658 227.145 Q203.83 229.298 203.83 233.025 Q203.83 236.775 205.658 238.927 Q207.51 241.08 210.658 241.08 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M231.515 255.733 L231.515 251.474 Q233.274 252.307 235.08 252.747 Q236.885 253.187 238.621 253.187 Q243.251 253.187 245.681 250.085 Q248.135 246.96 248.482 240.617 Q247.14 242.608 245.079 243.673 Q243.019 244.738 240.519 244.738 Q235.334 244.738 232.302 241.613 Q229.293 238.464 229.293 233.025 Q229.293 227.701 232.441 224.483 Q235.589 221.266 240.82 221.266 Q246.816 221.266 249.964 225.872 Q253.135 230.455 253.135 239.205 Q253.135 247.376 249.246 252.261 Q245.38 257.122 238.83 257.122 Q237.07 257.122 235.265 256.775 Q233.459 256.427 231.515 255.733 M240.82 241.08 Q243.968 241.08 245.797 238.927 Q247.649 236.775 247.649 233.025 Q247.649 229.298 245.797 227.145 Q243.968 224.969 240.82 224.969 Q237.672 224.969 235.82 227.145 Q233.992 229.298 233.992 233.025 Q233.992 236.775 235.82 238.927 Q237.672 241.08 240.82 241.08 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M261.677 255.733 L261.677 251.474 Q263.436 252.307 265.241 252.747 Q267.047 253.187 268.783 253.187 Q273.413 253.187 275.843 250.085 Q278.297 246.96 278.644 240.617 Q277.302 242.608 275.241 243.673 Q273.181 244.738 270.681 244.738 Q265.496 244.738 262.464 241.613 Q259.454 238.464 259.454 233.025 Q259.454 227.701 262.603 224.483 Q265.751 221.266 270.982 221.266 Q276.977 221.266 280.126 225.872 Q283.297 230.455 283.297 239.205 Q283.297 247.376 279.408 252.261 Q275.542 257.122 268.991 257.122 Q267.232 257.122 265.427 256.775 Q263.621 256.427 261.677 255.733 M270.982 241.08 Q274.13 241.08 275.959 238.927 Q277.811 236.775 277.811 233.025 Q277.811 229.298 275.959 227.145 Q274.13 224.969 270.982 224.969 Q267.834 224.969 265.982 227.145 Q264.153 229.298 264.153 233.025 Q264.153 236.775 265.982 238.927 Q267.834 241.08 270.982 241.08 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M304.547 225.965 L292.741 244.414 L304.547 244.414 L304.547 225.965 M303.32 221.891 L309.2 221.891 L309.2 244.414 L314.13 244.414 L314.13 248.302 L309.2 248.302 L309.2 256.451 L304.547 256.451 L304.547 248.302 L288.945 248.302 L288.945 243.789 L303.32 221.891 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M118.298 77.6148 L147.974 77.6148 L147.974 81.55 L118.298 81.55 L118.298 77.6148 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M168.066 62.9621 Q164.455 62.9621 162.626 66.5269 Q160.821 70.0686 160.821 77.1982 Q160.821 84.3046 162.626 87.8694 Q164.455 91.411 168.066 91.411 Q171.7 91.411 173.506 87.8694 Q175.334 84.3046 175.334 77.1982 Q175.334 70.0686 173.506 66.5269 Q171.7 62.9621 168.066 62.9621 M168.066 59.2584 Q173.876 59.2584 176.932 63.8649 Q180.01 68.4482 180.01 77.1982 Q180.01 85.925 176.932 90.5314 Q173.876 95.1147 168.066 95.1147 Q162.256 95.1147 159.177 90.5314 Q156.122 85.925 156.122 77.1982 Q156.122 68.4482 159.177 63.8649 Q162.256 59.2584 168.066 59.2584 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M188.228 88.5638 L193.112 88.5638 L193.112 94.4434 L188.228 94.4434 L188.228 88.5638 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M203.436 93.7259 L203.436 89.4666 Q205.195 90.2999 207.001 90.7398 Q208.807 91.1796 210.543 91.1796 Q215.172 91.1796 217.603 88.0777 Q220.056 84.9528 220.404 78.6102 Q219.061 80.6009 217.001 81.6657 Q214.941 82.7305 212.441 82.7305 Q207.256 82.7305 204.223 79.6056 Q201.214 76.4574 201.214 71.0176 Q201.214 65.6936 204.362 62.476 Q207.51 59.2584 212.742 59.2584 Q218.737 59.2584 221.885 63.8649 Q225.056 68.4482 225.056 77.1982 Q225.056 85.3694 221.168 90.2536 Q217.302 95.1147 210.751 95.1147 Q208.992 95.1147 207.186 94.7675 Q205.381 94.4203 203.436 93.7259 M212.742 79.0732 Q215.89 79.0732 217.719 76.9204 Q219.57 74.7676 219.57 71.0176 Q219.57 67.2908 217.719 65.138 Q215.89 62.9621 212.742 62.9621 Q209.594 62.9621 207.742 65.138 Q205.913 67.2908 205.913 71.0176 Q205.913 74.7676 207.742 76.9204 Q209.594 79.0732 212.742 79.0732 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M233.598 93.7259 L233.598 89.4666 Q235.357 90.2999 237.163 90.7398 Q238.968 91.1796 240.705 91.1796 Q245.334 91.1796 247.765 88.0777 Q250.218 84.9528 250.566 78.6102 Q249.223 80.6009 247.163 81.6657 Q245.103 82.7305 242.603 82.7305 Q237.417 82.7305 234.385 79.6056 Q231.376 76.4574 231.376 71.0176 Q231.376 65.6936 234.524 62.476 Q237.672 59.2584 242.904 59.2584 Q248.899 59.2584 252.047 63.8649 Q255.218 68.4482 255.218 77.1982 Q255.218 85.3694 251.329 90.2536 Q247.464 95.1147 240.913 95.1147 Q239.154 95.1147 237.348 94.7675 Q235.543 94.4203 233.598 93.7259 M242.904 79.0732 Q246.052 79.0732 247.88 76.9204 Q249.732 74.7676 249.732 71.0176 Q249.732 67.2908 247.88 65.138 Q246.052 62.9621 242.904 62.9621 Q239.755 62.9621 237.904 65.138 Q236.075 67.2908 236.075 71.0176 Q236.075 74.7676 237.904 76.9204 Q239.755 79.0732 242.904 79.0732 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M263.76 93.7259 L263.76 89.4666 Q265.519 90.2999 267.325 90.7398 Q269.13 91.1796 270.866 91.1796 Q275.496 91.1796 277.927 88.0777 Q280.38 84.9528 280.727 78.6102 Q279.385 80.6009 277.325 81.6657 Q275.265 82.7305 272.765 82.7305 Q267.579 82.7305 264.547 79.6056 Q261.538 76.4574 261.538 71.0176 Q261.538 65.6936 264.686 62.476 Q267.834 59.2584 273.065 59.2584 Q279.061 59.2584 282.209 63.8649 Q285.38 68.4482 285.38 77.1982 Q285.38 85.3694 281.491 90.2536 Q277.626 95.1147 271.075 95.1147 Q269.315 95.1147 267.51 94.7675 Q265.704 94.4203 263.76 93.7259 M273.065 79.0732 Q276.214 79.0732 278.042 76.9204 Q279.894 74.7676 279.894 71.0176 Q279.894 67.2908 278.042 65.138 Q276.214 62.9621 273.065 62.9621 Q269.917 62.9621 268.065 65.138 Q266.237 67.2908 266.237 71.0176 Q266.237 74.7676 268.065 76.9204 Q269.917 79.0732 273.065 79.0732 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M297.811 90.5083 L314.13 90.5083 L314.13 94.4434 L292.186 94.4434 L292.186 90.5083 Q294.848 87.7537 299.431 83.1241 Q304.038 78.4713 305.218 77.1287 Q307.463 74.6056 308.343 72.8695 Q309.246 71.1102 309.246 69.4204 Q309.246 66.6658 307.301 64.9297 Q305.38 63.1936 302.278 63.1936 Q300.079 63.1936 297.626 63.9575 Q295.195 64.7214 292.417 66.2723 L292.417 61.5501 Q295.241 60.4158 297.695 59.8371 Q300.149 59.2584 302.186 59.2584 Q307.556 59.2584 310.75 61.9436 Q313.945 64.6288 313.945 69.1195 Q313.945 71.2491 313.135 73.1704 Q312.348 75.0685 310.241 77.6611 Q309.662 78.3324 306.561 81.55 Q303.459 84.7444 297.811 90.5083 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M47.5702 425.608 L25.9905 425.608 L25.9905 419.752 L47.3474 419.752 Q52.4082 419.752 54.9545 417.778 Q57.4689 415.805 57.4689 411.858 Q57.4689 407.116 54.4452 404.378 Q51.4215 401.609 46.2016 401.609 L25.9905 401.609 L25.9905 395.753 L61.6384 395.753 L61.6384 401.609 L56.1639 401.609 Q59.4104 403.742 61.0019 406.575 Q62.5615 409.376 62.5615 413.1 Q62.5615 419.242 58.742 422.425 Q54.9226 425.608 47.5702 425.608 M25.1311 410.872 L25.1311 410.872 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip842)" d="M419.157 719.78 L403.157 735.78 L419.157 751.78 L435.157 735.78 L419.157 719.78 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M658.812 719.665 L642.812 735.665 L658.812 751.665 L674.812 735.665 L658.812 719.665 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M898.466 718.699 L882.466 734.699 L898.466 750.699 L914.466 734.699 L898.466 718.699 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1138.12 702.21 L1122.12 718.21 L1138.12 734.21 L1154.12 718.21 L1138.12 702.21 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1377.78 694.054 L1361.78 710.054 L1377.78 726.054 L1393.78 710.054 L1377.78 694.054 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1617.43 718.578 L1601.43 734.578 L1617.43 750.578 L1633.43 734.578 L1617.43 718.578 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M1857.09 721.012 L1841.09 737.012 L1857.09 753.012 L1873.09 737.012 L1857.09 721.012 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M2096.74 737.545 L2080.74 753.545 L2096.74 769.545 L2112.74 753.545 L2096.74 737.545 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M2336.39 694.14 L2320.39 710.14 L2336.39 726.14 L2352.39 710.14 L2336.39 694.14 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip842)" d="M2576.05 51.816 L2560.05 67.816 L2576.05 83.816 L2592.05 67.816 L2576.05 51.816 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip842)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="419.157,735.78 658.812,735.78 658.812,735.665 898.466,735.665 898.466,734.699 1138.12,734.699 1138.12,718.21 1377.78,718.21 1377.78,710.054 1617.43,710.054 1617.43,734.578 1857.09,734.578 1857.09,737.012 2096.74,737.012 2096.74,753.545 2336.39,753.545 2336.39,710.14 2576.05,710.14 2576.05,67.816 "></polyline>
<path clip-path="url(#clip840)" d="M430.66 175.153 L681.004 175.153 L681.004 71.4732 L430.66 71.4732  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="430.66,175.153 681.004,175.153 681.004,71.4732 430.66,71.4732 430.66,175.153 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="456.064,123.313 608.484,123.313 "></polyline>
<path clip-path="url(#clip840)" d="M633.887 130.362 L633.887 114.667 L638.147 114.667 L638.147 130.2 Q638.147 133.88 639.582 135.732 Q641.017 137.561 643.887 137.561 Q647.336 137.561 649.327 135.362 Q651.341 133.163 651.341 129.366 L651.341 114.667 L655.6 114.667 L655.6 140.593 L651.341 140.593 L651.341 136.612 Q649.79 138.973 647.73 140.13 Q645.693 141.264 642.985 141.264 Q638.517 141.264 636.202 138.487 Q633.887 135.709 633.887 130.362 M644.605 114.042 L644.605 114.042 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M354.45 1734.12 L2640.76 1734.12 L2640.76 1007.24 L354.45 1007.24  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<defs>
  <clippath id="clip843">
    <rect x="354" y="1007" width="2287" height="728"></rect>
  </clippath>
</defs>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="419.157,1734.12 419.157,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="958.38,1734.12 958.38,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="1497.6,1734.12 1497.6,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2036.83,1734.12 2036.83,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="2576.05,1734.12 2576.05,1007.24 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,1713.55 2640.76,1713.55 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,1542.11 2640.76,1542.11 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,1370.68 2640.76,1370.68 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,1199.25 2640.76,1199.25 "></polyline>
<polyline clip-path="url(#clip843)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:2; stroke-opacity:0.1; fill:none" points="354.45,1027.82 2640.76,1027.82 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,1734.12 2640.76,1734.12 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="419.157,1734.12 419.157,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="958.38,1734.12 958.38,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="1497.6,1734.12 1497.6,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2036.83,1734.12 2036.83,1715.22 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2576.05,1734.12 2576.05,1715.22 "></polyline>
<path clip-path="url(#clip840)" d="M396.541 1767.34 Q392.93 1767.34 391.101 1770.9 Q389.296 1774.45 389.296 1781.58 Q389.296 1788.68 391.101 1792.25 Q392.93 1795.79 396.541 1795.79 Q400.175 1795.79 401.981 1792.25 Q403.81 1788.68 403.81 1781.58 Q403.81 1774.45 401.981 1770.9 Q400.175 1767.34 396.541 1767.34 M396.541 1763.64 Q402.351 1763.64 405.407 1768.24 Q408.486 1772.83 408.486 1781.58 Q408.486 1790.3 405.407 1794.91 Q402.351 1799.49 396.541 1799.49 Q390.731 1799.49 387.652 1794.91 Q384.597 1790.3 384.597 1781.58 Q384.597 1772.83 387.652 1768.24 Q390.731 1763.64 396.541 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M416.703 1792.94 L421.587 1792.94 L421.587 1798.82 L416.703 1798.82 L416.703 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M441.772 1767.34 Q438.161 1767.34 436.333 1770.9 Q434.527 1774.45 434.527 1781.58 Q434.527 1788.68 436.333 1792.25 Q438.161 1795.79 441.772 1795.79 Q445.407 1795.79 447.212 1792.25 Q449.041 1788.68 449.041 1781.58 Q449.041 1774.45 447.212 1770.9 Q445.407 1767.34 441.772 1767.34 M441.772 1763.64 Q447.583 1763.64 450.638 1768.24 Q453.717 1772.83 453.717 1781.58 Q453.717 1790.3 450.638 1794.91 Q447.583 1799.49 441.772 1799.49 Q435.962 1799.49 432.884 1794.91 Q429.828 1790.3 429.828 1781.58 Q429.828 1772.83 432.884 1768.24 Q435.962 1763.64 441.772 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M930.116 1794.89 L946.436 1794.89 L946.436 1798.82 L924.491 1798.82 L924.491 1794.89 Q927.153 1792.13 931.737 1787.5 Q936.343 1782.85 937.524 1781.51 Q939.769 1778.98 940.649 1777.25 Q941.551 1775.49 941.551 1773.8 Q941.551 1771.04 939.607 1769.31 Q937.686 1767.57 934.584 1767.57 Q932.385 1767.57 929.931 1768.34 Q927.5 1769.1 924.723 1770.65 L924.723 1765.93 Q927.547 1764.79 930 1764.21 Q932.454 1763.64 934.491 1763.64 Q939.861 1763.64 943.056 1766.32 Q946.25 1769.01 946.25 1773.5 Q946.25 1775.63 945.44 1777.55 Q944.653 1779.45 942.547 1782.04 Q941.968 1782.71 938.866 1785.93 Q935.764 1789.12 930.116 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M956.25 1792.94 L961.135 1792.94 L961.135 1798.82 L956.25 1798.82 L956.25 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M971.366 1764.26 L989.722 1764.26 L989.722 1768.2 L975.648 1768.2 L975.648 1776.67 Q976.667 1776.32 977.685 1776.16 Q978.704 1775.97 979.722 1775.97 Q985.509 1775.97 988.889 1779.15 Q992.269 1782.32 992.269 1787.73 Q992.269 1793.31 988.796 1796.41 Q985.324 1799.49 979.005 1799.49 Q976.829 1799.49 974.56 1799.12 Q972.315 1798.75 969.908 1798.01 L969.908 1793.31 Q971.991 1794.45 974.213 1795 Q976.435 1795.56 978.912 1795.56 Q982.917 1795.56 985.255 1793.45 Q987.593 1791.34 987.593 1787.73 Q987.593 1784.12 985.255 1782.02 Q982.917 1779.91 978.912 1779.91 Q977.037 1779.91 975.162 1780.33 Q973.31 1780.74 971.366 1781.62 L971.366 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1464.77 1764.26 L1483.12 1764.26 L1483.12 1768.2 L1469.05 1768.2 L1469.05 1776.67 Q1470.07 1776.32 1471.09 1776.16 Q1472.11 1775.97 1473.12 1775.97 Q1478.91 1775.97 1482.29 1779.15 Q1485.67 1782.32 1485.67 1787.73 Q1485.67 1793.31 1482.2 1796.41 Q1478.73 1799.49 1472.41 1799.49 Q1470.23 1799.49 1467.96 1799.12 Q1465.72 1798.75 1463.31 1798.01 L1463.31 1793.31 Q1465.39 1794.45 1467.61 1795 Q1469.84 1795.56 1472.31 1795.56 Q1476.32 1795.56 1478.66 1793.45 Q1480.99 1791.34 1480.99 1787.73 Q1480.99 1784.12 1478.66 1782.02 Q1476.32 1779.91 1472.31 1779.91 Q1470.44 1779.91 1468.56 1780.33 Q1466.71 1780.74 1464.77 1781.62 L1464.77 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1494.88 1792.94 L1499.77 1792.94 L1499.77 1798.82 L1494.88 1798.82 L1494.88 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1519.95 1767.34 Q1516.34 1767.34 1514.51 1770.9 Q1512.71 1774.45 1512.71 1781.58 Q1512.71 1788.68 1514.51 1792.25 Q1516.34 1795.79 1519.95 1795.79 Q1523.59 1795.79 1525.39 1792.25 Q1527.22 1788.68 1527.22 1781.58 Q1527.22 1774.45 1525.39 1770.9 Q1523.59 1767.34 1519.95 1767.34 M1519.95 1763.64 Q1525.76 1763.64 1528.82 1768.24 Q1531.9 1772.83 1531.9 1781.58 Q1531.9 1790.3 1528.82 1794.91 Q1525.76 1799.49 1519.95 1799.49 Q1514.14 1799.49 1511.06 1794.91 Q1508.01 1790.3 1508.01 1781.58 Q1508.01 1772.83 1511.06 1768.24 Q1514.14 1763.64 1519.95 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2003.15 1764.26 L2025.37 1764.26 L2025.37 1766.25 L2012.82 1798.82 L2007.94 1798.82 L2019.74 1768.2 L2003.15 1768.2 L2003.15 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2034.49 1792.94 L2039.37 1792.94 L2039.37 1798.82 L2034.49 1798.82 L2034.49 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2049.6 1764.26 L2067.96 1764.26 L2067.96 1768.2 L2053.89 1768.2 L2053.89 1776.67 Q2054.9 1776.32 2055.92 1776.16 Q2056.94 1775.97 2057.96 1775.97 Q2063.75 1775.97 2067.13 1779.15 Q2070.51 1782.32 2070.51 1787.73 Q2070.51 1793.31 2067.03 1796.41 Q2063.56 1799.49 2057.24 1799.49 Q2055.07 1799.49 2052.8 1799.12 Q2050.55 1798.75 2048.15 1798.01 L2048.15 1793.31 Q2050.23 1794.45 2052.45 1795 Q2054.67 1795.56 2057.15 1795.56 Q2061.15 1795.56 2063.49 1793.45 Q2065.83 1791.34 2065.83 1787.73 Q2065.83 1784.12 2063.49 1782.02 Q2061.15 1779.91 2057.15 1779.91 Q2055.28 1779.91 2053.4 1780.33 Q2051.55 1780.74 2049.6 1781.62 L2049.6 1764.26 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2528.12 1794.89 L2535.76 1794.89 L2535.76 1768.52 L2527.45 1770.19 L2527.45 1765.93 L2535.71 1764.26 L2540.39 1764.26 L2540.39 1794.89 L2548.03 1794.89 L2548.03 1798.82 L2528.12 1798.82 L2528.12 1794.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2567.47 1767.34 Q2563.86 1767.34 2562.03 1770.9 Q2560.23 1774.45 2560.23 1781.58 Q2560.23 1788.68 2562.03 1792.25 Q2563.86 1795.79 2567.47 1795.79 Q2571.11 1795.79 2572.91 1792.25 Q2574.74 1788.68 2574.74 1781.58 Q2574.74 1774.45 2572.91 1770.9 Q2571.11 1767.34 2567.47 1767.34 M2567.47 1763.64 Q2573.28 1763.64 2576.34 1768.24 Q2579.42 1772.83 2579.42 1781.58 Q2579.42 1790.3 2576.34 1794.91 Q2573.28 1799.49 2567.47 1799.49 Q2561.66 1799.49 2558.58 1794.91 Q2555.53 1790.3 2555.53 1781.58 Q2555.53 1772.83 2558.58 1768.24 Q2561.66 1763.64 2567.47 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2587.63 1792.94 L2592.52 1792.94 L2592.52 1798.82 L2587.63 1798.82 L2587.63 1792.94 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2612.7 1767.34 Q2609.09 1767.34 2607.26 1770.9 Q2605.46 1774.45 2605.46 1781.58 Q2605.46 1788.68 2607.26 1792.25 Q2609.09 1795.79 2612.7 1795.79 Q2616.34 1795.79 2618.14 1792.25 Q2619.97 1788.68 2619.97 1781.58 Q2619.97 1774.45 2618.14 1770.9 Q2616.34 1767.34 2612.7 1767.34 M2612.7 1763.64 Q2618.51 1763.64 2621.57 1768.24 Q2624.65 1772.83 2624.65 1781.58 Q2624.65 1790.3 2621.57 1794.91 Q2618.51 1799.49 2612.7 1799.49 Q2606.89 1799.49 2603.82 1794.91 Q2600.76 1790.3 2600.76 1781.58 Q2600.76 1772.83 2603.82 1768.24 Q2606.89 1763.64 2612.7 1763.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M1481.78 1833.78 L1487.67 1833.78 L1487.67 1863.03 L1505.15 1847.65 L1512.63 1847.65 L1493.72 1864.33 L1513.42 1883.3 L1505.78 1883.3 L1487.67 1865.89 L1487.67 1883.3 L1481.78 1883.3 L1481.78 1833.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,1734.12 354.45,1007.24 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,1713.55 373.348,1713.55 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,1542.11 373.348,1542.11 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,1370.68 373.348,1370.68 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,1199.25 373.348,1199.25 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="354.45,1027.82 373.348,1027.82 "></polyline>
<path clip-path="url(#clip840)" d="M247.765 1726.89 L255.404 1726.89 L255.404 1700.52 L247.093 1702.19 L247.093 1697.93 L255.357 1696.27 L260.033 1696.27 L260.033 1726.89 L267.672 1726.89 L267.672 1730.83 L247.765 1730.83 L247.765 1726.89 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M277.116 1724.95 L282.001 1724.95 L282.001 1730.83 L277.116 1730.83 L277.116 1724.95 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M302.186 1699.34 Q298.575 1699.34 296.746 1702.91 Q294.94 1706.45 294.94 1713.58 Q294.94 1720.69 296.746 1724.25 Q298.575 1727.79 302.186 1727.79 Q305.82 1727.79 307.625 1724.25 Q309.454 1720.69 309.454 1713.58 Q309.454 1706.45 307.625 1702.91 Q305.82 1699.34 302.186 1699.34 M302.186 1695.64 Q307.996 1695.64 311.051 1700.25 Q314.13 1704.83 314.13 1713.58 Q314.13 1722.31 311.051 1726.91 Q307.996 1731.5 302.186 1731.5 Q296.376 1731.5 293.297 1726.91 Q290.241 1722.31 290.241 1713.58 Q290.241 1704.83 293.297 1700.25 Q296.376 1695.64 302.186 1695.64 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M248.76 1555.46 L256.399 1555.46 L256.399 1529.09 L248.089 1530.76 L248.089 1526.5 L256.353 1524.83 L261.028 1524.83 L261.028 1555.46 L268.667 1555.46 L268.667 1559.39 L248.76 1559.39 L248.76 1555.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M278.112 1553.51 L282.996 1553.51 L282.996 1559.39 L278.112 1559.39 L278.112 1553.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M293.227 1524.83 L311.584 1524.83 L311.584 1528.77 L297.51 1528.77 L297.51 1537.24 Q298.528 1536.89 299.547 1536.73 Q300.565 1536.55 301.584 1536.55 Q307.371 1536.55 310.75 1539.72 Q314.13 1542.89 314.13 1548.3 Q314.13 1553.88 310.658 1556.99 Q307.186 1560.06 300.866 1560.06 Q298.69 1560.06 296.422 1559.69 Q294.176 1559.32 291.769 1558.58 L291.769 1553.88 Q293.852 1555.02 296.075 1555.57 Q298.297 1556.13 300.774 1556.13 Q304.778 1556.13 307.116 1554.02 Q309.454 1551.92 309.454 1548.3 Q309.454 1544.69 307.116 1542.59 Q304.778 1540.48 300.774 1540.48 Q298.899 1540.48 297.024 1540.9 Q295.172 1541.31 293.227 1542.19 L293.227 1524.83 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M250.982 1384.03 L267.302 1384.03 L267.302 1387.96 L245.357 1387.96 L245.357 1384.03 Q248.019 1381.27 252.603 1376.64 Q257.209 1371.99 258.39 1370.65 Q260.635 1368.12 261.515 1366.39 Q262.417 1364.63 262.417 1362.94 Q262.417 1360.18 260.473 1358.45 Q258.552 1356.71 255.45 1356.71 Q253.251 1356.71 250.797 1357.47 Q248.367 1358.24 245.589 1359.79 L245.589 1355.07 Q248.413 1353.93 250.866 1353.35 Q253.32 1352.78 255.357 1352.78 Q260.728 1352.78 263.922 1355.46 Q267.116 1358.15 267.116 1362.64 Q267.116 1364.77 266.306 1366.69 Q265.519 1368.59 263.413 1371.18 Q262.834 1371.85 259.732 1375.07 Q256.63 1378.26 250.982 1384.03 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M277.116 1382.08 L282.001 1382.08 L282.001 1387.96 L277.116 1387.96 L277.116 1382.08 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M302.186 1356.48 Q298.575 1356.48 296.746 1360.04 Q294.94 1363.59 294.94 1370.72 Q294.94 1377.82 296.746 1381.39 Q298.575 1384.93 302.186 1384.93 Q305.82 1384.93 307.625 1381.39 Q309.454 1377.82 309.454 1370.72 Q309.454 1363.59 307.625 1360.04 Q305.82 1356.48 302.186 1356.48 M302.186 1352.78 Q307.996 1352.78 311.051 1357.38 Q314.13 1361.97 314.13 1370.72 Q314.13 1379.44 311.051 1384.05 Q307.996 1388.63 302.186 1388.63 Q296.376 1388.63 293.297 1384.05 Q290.241 1379.44 290.241 1370.72 Q290.241 1361.97 293.297 1357.38 Q296.376 1352.78 302.186 1352.78 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M251.978 1212.59 L268.297 1212.59 L268.297 1216.53 L246.353 1216.53 L246.353 1212.59 Q249.015 1209.84 253.598 1205.21 Q258.204 1200.56 259.385 1199.21 Q261.63 1196.69 262.51 1194.95 Q263.413 1193.2 263.413 1191.51 Q263.413 1188.75 261.468 1187.01 Q259.547 1185.28 256.445 1185.28 Q254.246 1185.28 251.792 1186.04 Q249.362 1186.81 246.584 1188.36 L246.584 1183.63 Q249.408 1182.5 251.862 1181.92 Q254.316 1181.34 256.353 1181.34 Q261.723 1181.34 264.917 1184.03 Q268.112 1186.71 268.112 1191.2 Q268.112 1193.33 267.302 1195.26 Q266.515 1197.15 264.408 1199.75 Q263.829 1200.42 260.728 1203.63 Q257.626 1206.83 251.978 1212.59 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M278.112 1210.65 L282.996 1210.65 L282.996 1216.53 L278.112 1216.53 L278.112 1210.65 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M293.227 1181.97 L311.584 1181.97 L311.584 1185.9 L297.51 1185.9 L297.51 1194.38 Q298.528 1194.03 299.547 1193.87 Q300.565 1193.68 301.584 1193.68 Q307.371 1193.68 310.75 1196.85 Q314.13 1200.02 314.13 1205.44 Q314.13 1211.02 310.658 1214.12 Q307.186 1217.2 300.866 1217.2 Q298.69 1217.2 296.422 1216.83 Q294.176 1216.46 291.769 1215.72 L291.769 1211.02 Q293.852 1212.15 296.075 1212.71 Q298.297 1213.26 300.774 1213.26 Q304.778 1213.26 307.116 1211.16 Q309.454 1209.05 309.454 1205.44 Q309.454 1201.83 307.116 1199.72 Q304.778 1197.62 300.774 1197.62 Q298.899 1197.62 297.024 1198.03 Q295.172 1198.45 293.227 1199.33 L293.227 1181.97 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M261.121 1026.46 Q264.478 1027.18 266.353 1029.45 Q268.251 1031.72 268.251 1035.05 Q268.251 1040.17 264.732 1042.97 Q261.214 1045.77 254.732 1045.77 Q252.556 1045.77 250.242 1045.33 Q247.95 1044.91 245.496 1044.05 L245.496 1039.54 Q247.441 1040.67 249.755 1041.25 Q252.07 1041.83 254.593 1041.83 Q258.991 1041.83 261.283 1040.1 Q263.598 1038.36 263.598 1035.05 Q263.598 1031.99 261.445 1030.28 Q259.316 1028.55 255.496 1028.55 L251.468 1028.55 L251.468 1024.7 L255.681 1024.7 Q259.13 1024.7 260.959 1023.34 Q262.788 1021.95 262.788 1019.36 Q262.788 1016.69 260.89 1015.28 Q259.015 1013.85 255.496 1013.85 Q253.575 1013.85 251.376 1014.26 Q249.177 1014.68 246.538 1015.56 L246.538 1011.39 Q249.2 1010.65 251.515 1010.28 Q253.853 1009.91 255.913 1009.91 Q261.237 1009.91 264.339 1012.34 Q267.44 1014.75 267.44 1018.87 Q267.44 1021.74 265.797 1023.73 Q264.153 1025.7 261.121 1026.46 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M277.116 1039.22 L282.001 1039.22 L282.001 1045.1 L277.116 1045.1 L277.116 1039.22 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M302.186 1013.61 Q298.575 1013.61 296.746 1017.18 Q294.94 1020.72 294.94 1027.85 Q294.94 1034.96 296.746 1038.52 Q298.575 1042.06 302.186 1042.06 Q305.82 1042.06 307.625 1038.52 Q309.454 1034.96 309.454 1027.85 Q309.454 1020.72 307.625 1017.18 Q305.82 1013.61 302.186 1013.61 M302.186 1009.91 Q307.996 1009.91 311.051 1014.52 Q314.13 1019.1 314.13 1027.85 Q314.13 1036.58 311.051 1041.18 Q307.996 1045.77 302.186 1045.77 Q296.376 1045.77 293.297 1041.18 Q290.241 1036.58 290.241 1027.85 Q290.241 1019.1 293.297 1014.52 Q296.376 1009.91 302.186 1009.91 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M155.133 1354.07 L172.48 1366.96 L190.781 1353.4 L190.781 1360.3 L176.777 1370.68 L190.781 1381.06 L190.781 1387.96 L172.13 1374.12 L155.133 1386.79 L155.133 1379.88 L167.833 1370.43 L155.133 1360.97 L155.133 1354.07 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip843)" d="M419.157 1697.55 L403.157 1713.55 L419.157 1729.55 L435.157 1713.55 L419.157 1697.55 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M634.846 1592.54 L618.846 1608.54 L634.846 1624.54 L650.846 1608.54 L634.846 1592.54 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M850.535 1535.78 L834.535 1551.78 L850.535 1567.78 L866.535 1551.78 L850.535 1535.78 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1066.22 1505.23 L1050.22 1521.23 L1066.22 1537.23 L1082.22 1521.23 L1066.22 1505.23 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1281.91 1488.95 L1265.91 1504.95 L1281.91 1520.95 L1297.91 1504.95 L1281.91 1488.95 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1497.6 1480.48 L1481.6 1496.48 L1497.6 1512.48 L1513.6 1496.48 L1497.6 1480.48 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1713.29 1476.37 L1697.29 1492.37 L1713.29 1508.37 L1729.29 1492.37 L1713.29 1476.37 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1928.98 1474.78 L1912.98 1490.78 L1928.98 1506.78 L1944.98 1490.78 L1928.98 1474.78 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2144.67 1474.75 L2128.67 1490.75 L2144.67 1506.75 L2160.67 1490.75 L2144.67 1474.75 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2360.36 1475.82 L2344.36 1491.82 L2360.36 1507.82 L2376.36 1491.82 L2360.36 1475.82 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2576.05 1477.65 L2560.05 1493.65 L2576.05 1509.65 L2592.05 1493.65 L2576.05 1477.65 Z" fill="#6b9e32" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip843)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="419.157,1713.55 634.846,1713.55 634.846,1608.54 850.535,1608.54 850.535,1551.78 1066.22,1551.78 1066.22,1521.23 1281.91,1521.23 1281.91,1504.95 1497.6,1504.95 1497.6,1496.48 1713.29,1496.48 1713.29,1492.37 1928.98,1492.37 1928.98,1490.78 2144.67,1490.78 2144.67,1490.75 2360.36,1490.75 2360.36,1491.82 2576.05,1491.82 2576.05,1493.65 "></polyline>
<path clip-path="url(#clip843)" d="M419.157 1011.82 L403.157 1027.82 L419.157 1043.82 L435.157 1027.82 L419.157 1011.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M634.846 1122.1 L618.846 1138.1 L634.846 1154.1 L650.846 1138.1 L634.846 1122.1 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M850.535 1182.06 L834.535 1198.06 L850.535 1214.06 L866.535 1198.06 L850.535 1182.06 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1066.22 1214.78 L1050.22 1230.78 L1066.22 1246.78 L1082.22 1230.78 L1066.22 1214.78 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1281.91 1232.82 L1265.91 1248.82 L1281.91 1264.82 L1297.91 1248.82 L1281.91 1232.82 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1497.6 1242.99 L1481.6 1258.99 L1497.6 1274.99 L1513.6 1258.99 L1497.6 1242.99 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1713.29 1249.04 L1697.29 1265.04 L1713.29 1281.04 L1729.29 1265.04 L1713.29 1249.04 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M1928.98 1253.01 L1912.98 1269.01 L1928.98 1285.01 L1944.98 1269.01 L1928.98 1253.01 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2144.67 1256.09 L2128.67 1272.09 L2144.67 1288.09 L2160.67 1272.09 L2144.67 1256.09 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2360.36 1258.96 L2344.36 1274.96 L2360.36 1290.96 L2376.36 1274.96 L2360.36 1258.96 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<path clip-path="url(#clip843)" d="M2576.05 1261.95 L2560.05 1277.95 L2576.05 1293.95 L2592.05 1277.95 L2576.05 1261.95 Z" fill="#009af9" fill-rule="evenodd" fill-opacity="1" stroke="#000000" stroke-opacity="1" stroke-width="3.84"></path>
<polyline clip-path="url(#clip843)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="419.157,1027.82 634.846,1027.82 634.846,1138.1 850.535,1138.1 850.535,1198.06 1066.22,1198.06 1066.22,1230.78 1281.91,1230.78 1281.91,1248.82 1497.6,1248.82 1497.6,1258.99 1713.29,1258.99 1713.29,1265.04 1928.98,1265.04 1928.98,1269.01 2144.67,1269.01 2144.67,1272.09 2360.36,1272.09 2360.36,1274.96 2576.05,1274.96 2576.05,1277.95 "></polyline>
<path clip-path="url(#clip840)" d="M2292.81 1186.99 L2564.55 1186.99 L2564.55 1031.47 L2292.81 1031.47  Z" fill="#ffffff" fill-rule="evenodd" fill-opacity="1"></path>
<polyline clip-path="url(#clip840)" style="stroke:#000000; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2292.81,1186.99 2564.55,1186.99 2564.55,1031.47 2292.81,1031.47 2292.81,1186.99 "></polyline>
<polyline clip-path="url(#clip840)" style="stroke:#009af9; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2318.22,1083.31 2470.64,1083.31 "></polyline>
<path clip-path="url(#clip840)" d="M2520.69 1074.67 L2511.32 1087.28 L2521.18 1100.59 L2516.16 1100.59 L2508.61 1090.41 L2501.06 1100.59 L2496.04 1100.59 L2506.11 1087.03 L2496.9 1074.67 L2501.92 1074.67 L2508.8 1083.9 L2515.67 1074.67 L2520.69 1074.67 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2526.34 1098.05 L2531.06 1098.05 L2531.06 1083.9 L2525.9 1084.85 L2525.9 1082.17 L2531.23 1081.26 L2534.4 1081.26 L2534.4 1098.05 L2539.14 1098.05 L2539.14 1100.59 L2526.34 1100.59 L2526.34 1098.05 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><polyline clip-path="url(#clip840)" style="stroke:#e26f46; stroke-linecap:round; stroke-linejoin:round; stroke-width:4; stroke-opacity:1; fill:none" points="2318.22,1135.15 2470.64,1135.15 "></polyline>
<path clip-path="url(#clip840)" d="M2520.69 1126.51 L2511.32 1139.12 L2521.18 1152.43 L2516.16 1152.43 L2508.61 1142.25 L2501.06 1152.43 L2496.04 1152.43 L2506.11 1138.87 L2496.9 1126.51 L2501.92 1126.51 L2508.8 1135.74 L2515.67 1126.51 L2520.69 1126.51 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path><path clip-path="url(#clip840)" d="M2528.93 1149.79 L2538.75 1149.79 L2538.75 1152.43 L2524.91 1152.43 L2524.91 1149.89 Q2525.69 1149.17 2527.15 1147.87 Q2535.11 1140.81 2535.11 1138.64 Q2535.11 1137.11 2533.91 1136.18 Q2532.71 1135.23 2530.74 1135.23 Q2529.54 1135.23 2528.12 1135.65 Q2526.71 1136.04 2525.05 1136.85 L2525.05 1134.01 Q2526.83 1133.36 2528.36 1133.04 Q2529.91 1132.71 2531.23 1132.71 Q2534.58 1132.71 2536.6 1134.24 Q2538.61 1135.77 2538.61 1138.27 Q2538.61 1141.48 2530.95 1148.06 Q2529.65 1149.17 2528.93 1149.79 Z" fill="#000000" fill-rule="nonzero" fill-opacity="1"></path></svg>
</div>
</div>
</div>
</section>
<section id="adding-the-constraints-on-states" class="level3">
<h3 class="anchored" data-anchor-id="adding-the-constraints-on-states">Adding the constraints on states</h3>
<p>We might feel a little bit uneasy about loosing an immediate access to <span class="math inline">\bar{\bm x}</span>. But the game is not lost. We just need to express <span class="math inline">\bar{\bm x}</span> as a function of <span class="math inline">\bar{\bm u}</span> and <span class="math inline">\mathbf x_0</span> and impose the constraint on the result. But such expression is already available, see (<a href="#eq-x_as_function_of_u_and_x0" class="quarto-xref">Eq.&nbsp;2</a>). Therefore, we can formulate the constraint, say, an upper bound on the state vector <span class="math display">
\bm x_k \leq \mathbf x_\mathrm{max}
</span> as <span class="math display">
\bar{\mathbf x}^\mathrm{min} \leq \widehat{\mathbf C} \bar{\bm u} + \widehat{\mathbf A} \mathbf x_0 \leq \bar{\mathbf x}^\mathrm{max},
</span> where the the bars in <span class="math inline">\bar{\mathbf x}^\mathrm{min}</span> and <span class="math inline">\bar{\mathbf x}^\mathrm{max}</span> obviously indicates that these vectors were obtained by stacking the corresponding vectors for all times <span class="math inline">k=1,\ldots,N</span>.</p>


</section>
</section>

<a onclick="window.scrollTo(0, 0); return false;" role="button" id="quarto-back-to-top"><i class="bi bi-arrow-up"></i> Back to top</a></main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/hurak\.github\.io\/orr\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./discr_dir_general.html" class="pagination-link" aria-label="General finite-horizon nonlinear optimal control as an NLP">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">General finite-horizon nonlinear optimal control as an NLP</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./discr_dir_mpc.html" class="pagination-link" aria-label="Model predictive control (MPC)">
        <span class="nav-page-text">Model predictive control (MPC)</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">
      &nbsp;
    </div>   
    <div class="nav-footer-center">
<p>Copyright 2025, Zdeněk Hurák</p>
<div class="toc-actions d-sm-block d-md-none"><ul><li><a href="https://github.com/hurak/orr/issues/new" class="toc-action"><i class="bi bi-github"></i>Report an issue</a></li></ul></div></div>
    <div class="nav-footer-right">
      &nbsp;
    </div>
  </div>
</footer>




</body></html>